{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/requests/vmtemplate/actions.ts","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/requests/vmtemplate/actions.ts","mtime":1615298458660},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { apiVersionForModel } from '@console/internal/module/k8s';\nimport { getName } from '@console/shared/src';\nimport { freeOwnedResources } from '../free-owned-resources';\nimport { k8sKillPropagated } from '../k8s-kill-propagated';\nimport { TemplateModel } from '@console/internal/models';\nexport const deleteVMTemplate = (vmTemplate, { ownedVolumeResources, deleteOwnedVolumeResources, }) => __awaiter(void 0, void 0, void 0, function* () {\n    if (ownedVolumeResources && !deleteOwnedVolumeResources) {\n        yield freeOwnedResources(ownedVolumeResources, {\n            name: getName(vmTemplate),\n            kind: TemplateModel.kind,\n            apiVersion: apiVersionForModel(TemplateModel),\n        }, false);\n    }\n    yield k8sKillPropagated(TemplateModel, vmTemplate);\n});\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/requests/vmtemplate/actions.ts","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/requests/vmtemplate/actions.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,kBAAkB,EAAgB,MAAM,8BAA8B,CAAC;AAChF,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,EAAE,kBAAkB,EAAE,MAAM,yBAAyB,CAAC;AAE7D,OAAO,EAAE,iBAAiB,EAAE,MAAM,wBAAwB,CAAC;AAC3D,OAAO,EAAE,aAAa,EAAE,MAAM,0BAA0B,CAAC;AAEzD,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAC9B,UAAwB,EACxB,EACE,oBAAoB,EACpB,0BAA0B,GAI3B,EACD,EAAE;IACF,IAAI,oBAAoB,IAAI,CAAC,0BAA0B,EAAE;QACvD,MAAM,kBAAkB,CACtB,oBAAoB,EACpB;YACE,IAAI,EAAE,OAAO,CAAC,UAAU,CAAC;YACzB,IAAI,EAAE,aAAa,CAAC,IAAI;YACxB,UAAU,EAAE,kBAAkB,CAAC,aAAa,CAAC;SACvC,EACR,KAAK,CACN,CAAC;KACH;IAED,MAAM,iBAAiB,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;AACrD,CAAC,CAAA,CAAC","sourcesContent":["import { apiVersionForModel, TemplateKind } from '@console/internal/module/k8s';\nimport { getName } from '@console/shared/src';\nimport { freeOwnedResources } from '../free-owned-resources';\nimport { K8sResourceWithModel } from '../../../types/k8s-resource-with-model';\nimport { k8sKillPropagated } from '../k8s-kill-propagated';\nimport { TemplateModel } from '@console/internal/models';\n\nexport const deleteVMTemplate = async (\n  vmTemplate: TemplateKind,\n  {\n    ownedVolumeResources,\n    deleteOwnedVolumeResources,\n  }: {\n    ownedVolumeResources: K8sResourceWithModel[];\n    deleteOwnedVolumeResources: boolean;\n  },\n) => {\n  if (ownedVolumeResources && !deleteOwnedVolumeResources) {\n    await freeOwnedResources(\n      ownedVolumeResources,\n      {\n        name: getName(vmTemplate),\n        kind: TemplateModel.kind,\n        apiVersion: apiVersionForModel(TemplateModel),\n      } as any,\n      false,\n    );\n  }\n\n  await k8sKillPropagated(TemplateModel, vmTemplate);\n};\n"]}]}