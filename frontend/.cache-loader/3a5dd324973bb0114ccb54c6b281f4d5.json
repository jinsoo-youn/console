{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/factory/list-page.jsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/factory/list-page.jsx","mtime":1615701814900},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as _ from 'lodash-es';\nimport * as classNames from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Button, TextInput } from '@patternfly/react-core';\nimport { withFallback } from '@console/shared/src/components/error/error-boundary';\nimport { useDocumentListener, KEYBOARD_SHORTCUTS } from '@console/shared';\nimport { filterList } from '../../actions/k8s';\nimport { storagePrefix } from '../row-filter';\nimport { ErrorPage404, ErrorBoundaryFallback } from '../error';\nimport { referenceForModel } from '../../module/k8s';\nimport { Dropdown, Firehose, history, inject, kindObj, makeQuery, makeReduxID, PageHeading } from '../utils';\nimport { FilterToolbar } from '../filter-toolbar';\nimport { ResourceLabel, ResourceLabelPlural } from '../../models/hypercloud/resource-plural';\nimport { useTranslation } from 'react-i18next';\n/** @type {React.SFC<{disabled?: boolean, label?: string, onChange: (value: string) => void;, defaultValue?: string, value?: string, placeholder?: string, autoFocus?: boolean, onFocus?:any, name?:string, id?: string, onKeyDown?: any, parentClassName?: string }}>} */\nexport const TextFilter = props => {\n    const { label, className, placeholder = `${label}...`, autoFocus = false, parentClassName } = props;\n    const { ref } = useDocumentListener();\n    return (React.createElement(\"div\", { className: classNames('has-feedback', parentClassName) },\n        React.createElement(TextInput, Object.assign({}, props, { className: classNames('co-text-filter', className), \"data-test-id\": \"item-filter\", \"aria-label\": placeholder, placeholder: placeholder, ref: ref, autoFocus: autoFocus, tabIndex: 0, type: \"text\" })),\n        React.createElement(\"span\", { className: \"form-control-feedback form-control-feedback--keyboard-hint\" },\n            React.createElement(\"kbd\", null, KEYBOARD_SHORTCUTS.focusFilterInput))));\n};\nTextFilter.displayName = 'TextFilter';\n// TODO (jon) make this into \"withListPageFilters\" HOC\n/** @augments {React.PureComponent<{ListComponent: React.ComponentType<any>, kinds: string[], filters?:any, flatten?: function, data?: any[], rowFilters?: any[], hideToolbar?: boolean, hideLabelFilter?: boolean }>} */\nexport class ListPageWrapper_ extends React.PureComponent {\n    render() {\n        const { flatten, ListComponent, reduxIDs, rowFilters, textFilter, hideToolbar, hideLabelFilter } = this.props;\n        const data = flatten ? flatten(this.props.resources) : [];\n        const Filter = React.createElement(FilterToolbar, Object.assign({ rowFilters: rowFilters, data: data, reduxIDs: reduxIDs, textFilter: textFilter, hideToolbar: hideToolbar, hideLabelFilter: hideLabelFilter }, this.props));\n        return (React.createElement(\"div\", null,\n            !_.isEmpty(data) && Filter,\n            React.createElement(\"div\", { className: \"row\" },\n                React.createElement(\"div\", { className: \"col-xs-12\" },\n                    React.createElement(ListComponent, Object.assign({}, this.props, { data: data }))))));\n    }\n}\nListPageWrapper_.displayName = 'ListPageWrapper_';\nListPageWrapper_.propTypes = {\n    setShowSidebar: PropTypes.any,\n    setSidebarDetails: PropTypes.any,\n    setSidebarTitle: PropTypes.any,\n    data: PropTypes.array,\n    kinds: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])).isRequired,\n    ListComponent: PropTypes.elementType.isRequired,\n    rowFilters: PropTypes.array,\n    staticFilters: PropTypes.array,\n    customData: PropTypes.any,\n    hideToolbar: PropTypes.bool,\n    hideLabelFilter: PropTypes.bool,\n};\n/** @type {React.FC<<WrappedComponent>, {canCreate?: Boolean, textFilter:string, createAccessReview?: Object, createButtonText?: String, createProps?: Object, fieldSelector?: String, filterLabel?: String, resources: any, badge?: React.ReactNode}>*/\nexport const FireMan_ = connect(null, { filterList })(class ConnectedFireMan extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.runOrNavigate = itemName => {\n            const { createProps = {} } = this.props;\n            const action = _.isFunction(createProps.action) && createProps.action(itemName);\n            if (action) {\n                action();\n            }\n            else if (_.isFunction(createProps.createLink)) {\n                history.push(createProps.createLink(itemName));\n            }\n        };\n        this.onExpandChange = this.onExpandChange.bind(this);\n        this.applyFilter = this.applyFilter.bind(this);\n        const reduxIDs = props.resources.map(r => makeReduxID(kindObj(r.kind), makeQuery(r.namespace, r.selector, r.fieldSelector, r.name)));\n        this.state = { reduxIDs };\n    }\n    UNSAFE_componentWillReceiveProps({ resources }) {\n        const reduxIDs = resources.map(r => makeReduxID(kindObj(r.kind), makeQuery(r.namespace, r.selector, r.fieldSelector, r.name)));\n        if (_.isEqual(reduxIDs, this.state.reduxIDs)) {\n            return;\n        }\n        // reapply filters to the new list...\n        // TODO (kans): we probably just need to be able to create new lists with filters already applied\n        this.setState({ reduxIDs }, () => this.UNSAFE_componentWillMount());\n    }\n    onExpandChange(expand) {\n        this.setState({ expand });\n    }\n    updateURL(filterName, options) {\n        if (filterName !== this.props.textFilter) {\n            // TODO (ggreer): support complex filters (objects, not just strings)\n            return;\n        }\n        const params = new URLSearchParams(window.location.search);\n        if (options) {\n            params.set(filterName, options);\n        }\n        else {\n            params.delete(filterName);\n        }\n        const url = new URL(window.location);\n        history.replace(`${url.pathname}?${params.toString()}${url.hash}`);\n    }\n    applyFilter(filterName, options) {\n        // TODO: (ggreer) lame blacklist of query args. Use a whitelist based on resource filters\n        if (['q', 'kind', 'orderBy', 'sortBy'].includes(filterName)) {\n            return;\n        }\n        if (filterName.indexOf(storagePrefix) === 0) {\n            return;\n        }\n        this.state.reduxIDs.forEach(id => this.props.filterList(id, filterName, options));\n        this.updateURL(filterName, options);\n    }\n    UNSAFE_componentWillMount() {\n        const params = new URLSearchParams(window.location.search);\n        this.defaultValue = params.get(this.props.textFilter);\n        params.forEach((v, k) => this.applyFilter(k, v));\n    }\n    render() {\n        const { canCreate, createAccessReview, createButtonText, createProps = {}, helpText, resources, badge, title } = this.props;\n        let createLink;\n        if (canCreate) {\n            if (createProps.to) {\n                createLink = (React.createElement(Link, Object.assign({ className: \"co-m-primary-action\" }, createProps),\n                    React.createElement(Button, { variant: \"primary\", id: \"yaml-create\" }, createButtonText)));\n            }\n            else if (createProps.items) {\n                createLink = (React.createElement(\"div\", { className: \"co-m-primary-action\" },\n                    React.createElement(Dropdown, { buttonClassName: \"pf-m-primary\", id: \"item-create\", menuClassName: classNames({ 'pf-m-align-right-on-md': title }), title: createButtonText, noSelection: true, items: createProps.items, onChange: this.runOrNavigate })));\n            }\n            else {\n                createLink = (React.createElement(\"div\", { className: \"co-m-primary-action\" },\n                    React.createElement(Button, Object.assign({ variant: \"primary\", id: \"yaml-create\" }, createProps), createButtonText)));\n            }\n            // if (!_.isEmpty(createAccessReview)) {\n            //   createLink = (\n            //     <RequireCreatePermission\n            //       model={createAccessReview.model}\n            //       namespace={createAccessReview.namespace}\n            //     >\n            //       {createLink}\n            //     </RequireCreatePermission>\n            //   );\n            // }\n        }\n        return (React.createElement(React.Fragment, null,\n            React.createElement(PageHeading, { title: title, badge: title ? badge : null, className: classNames({ 'co-m-nav-title--row': createLink }) },\n                createLink && (React.createElement(\"div\", { className: classNames('co-m-pane__createLink', {\n                        'co-m-pane__createLink--no-title': !title,\n                    }) }, createLink)),\n                !title && badge && React.createElement(\"div\", null, badge)),\n            helpText && React.createElement(\"p\", { className: \"co-m-pane__help-text co-help-text\" }, helpText),\n            React.createElement(\"div\", { className: \"co-m-pane__body co-m-pane__body--no-top-margin\" }, inject(this.props.children, {\n                resources,\n                expand: this.state.expand,\n                reduxIDs: this.state.reduxIDs,\n                applyFilter: this.applyFilter,\n            }))));\n    }\n});\nFireMan_.displayName = 'FireMan';\nFireMan_.defaultProps = {\n    textFilter: 'name',\n};\nFireMan_.propTypes = {\n    canCreate: PropTypes.bool,\n    createAccessReview: PropTypes.object,\n    createButtonText: PropTypes.string,\n    createProps: PropTypes.object,\n    fieldSelector: PropTypes.string,\n    filterLabel: PropTypes.string,\n    helpText: PropTypes.any,\n    resources: PropTypes.arrayOf(PropTypes.shape({\n        fieldSelector: PropTypes.string,\n        filters: PropTypes.object,\n        isList: PropTypes.bool,\n        kind: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n        name: PropTypes.string,\n        namespace: PropTypes.string,\n        namespaced: PropTypes.bool,\n        selector: PropTypes.shape({\n            matchLabels: PropTypes.objectOf(PropTypes.string),\n            matchExpressions: PropTypes.arrayOf(PropTypes.object),\n        }),\n    })).isRequired,\n    selectorFilterLabel: PropTypes.string,\n    textFilter: PropTypes.string,\n    title: PropTypes.string,\n};\n/** @type {React.SFC<{ListComponent: React.ComponentType<any>, kind: string, helpText?: any, namespace?: string, filterLabel?: string, textFilter?: string, title?: string, showTitle?: boolean, rowFilters?: any[], selector?: any, fieldSelector?: string, canCreate?: boolean, createButtonText?: string, createProps?: any, mock?: boolean, badge?: React.ReactNode, createHandler?: any, hideToolbar?: boolean, hideLabelFilter?: boolean, customData?: any, setSidebarDetails?:any, setShowSidebar?:any, setSidebarTitle?: any} >} */\nexport const ListPage = withFallback(props => {\n    const { autoFocus, canCreate, createButtonText, createHandler, customData, fieldSelector, filterLabel, filters, helpText, kind, limit, ListComponent, mock, name, nameFilter, namespace, selector, showTitle = true, skipAccessReview, textFilter, match, badge, hideToolbar, hideLabelFilter, setSidebarDetails, setShowSidebar, setSidebarTitle } = props;\n    let { createProps } = props;\n    const { t } = useTranslation();\n    const ko = kindObj(kind);\n    const { namespaced, plural } = ko;\n    const label = ResourceLabel(ko, t);\n    const labelPlural = ResourceLabelPlural(ko, t);\n    const title = props.title || labelPlural;\n    const usedNamespace = !namespace && namespaced ? _.get(match, 'params.ns') : namespace;\n    let href = namespaced ? `/k8s/ns/${usedNamespace || 'default'}/${plural}/~new` : `/k8s/cluster/${plural}/~new`;\n    if (ko.crd) {\n        try {\n            const ref = referenceForModel(ko);\n            href = namespaced ? `/k8s/ns/${usedNamespace || 'default'}/customresourcedefinitions/${ref}/~new` : `/k8s/cluster/customresourcedefinitions/${ref}/~new`;\n        }\n        catch (unused) {\n            /**/\n        }\n    }\n    createProps = createProps || (createHandler ? { onClick: createHandler } : { to: href });\n    const createAccessReview = skipAccessReview ? null : { model: ko, namespace: usedNamespace };\n    const resources = [\n        {\n            fieldSelector,\n            filters,\n            kind,\n            limit,\n            name: name || nameFilter,\n            namespaced,\n            selector,\n        },\n    ];\n    // Don't show row filters if props.filters were passed. The content is already filtered and the row filters will have incorrect counts.\n    const rowFilters = _.isEmpty(filters) ? props.rowFilters : undefined;\n    if (!namespaced && usedNamespace) {\n        return React.createElement(ErrorPage404, null);\n    }\n    return (React.createElement(MultiListPage, { autoFocus: autoFocus, canCreate: canCreate, createAccessReview: createAccessReview, createButtonText: createButtonText || t('COMMON:MSG_MAIN_CREATEBUTTON_1', { 0: label }), createProps: createProps, customData: customData, filterLabel: filterLabel || 'by name', flatten: _resources => _.get(_resources, name || kind, {}).data, helpText: helpText, label: labelPlural, ListComponent: ListComponent, setShowSidebar: setShowSidebar, setSidebarDetails: setSidebarDetails, setSidebarTitle: setSidebarTitle, mock: mock, namespace: usedNamespace, resources: resources, rowFilters: rowFilters, selectorFilterLabel: \"Filter by selector (app=nginx) ...\", showTitle: showTitle, textFilter: textFilter, title: title, badge: badge, hideToolbar: hideToolbar, hideLabelFilter: hideLabelFilter }));\n}, ErrorBoundaryFallback);\nListPage.displayName = 'ListPage';\n/** @type {React.SFC<{canCreate?: boolean, createButtonText?: string, createProps?: any, createAccessReview?: Object, flatten?: Function, title?: string, label?: string, hideTextFilter?: boolean, showTitle?: boolean, helpText?: any, filterLabel?: string, textFilter?: string, rowFilters?: any[], resources: any[], ListComponent: React.ComponentType<any>, namespace?: string, customData?: any, badge?: React.ReactNode, hideToolbar?: boolean, hideLabelFilter?: boolean setSidebarDetails?:any setShowSidebar?:any setSidebarTitle?: any>} */\nexport const MultiListPage = props => {\n    const { autoFocus, canCreate, createAccessReview, createButtonText, createProps, filterLabel, flatten, helpText, label, ListComponent, setSidebarDetails, setShowSidebar, setSidebarTitle, mock, namespace, rowFilters, showTitle = true, staticFilters, textFilter, title, customData, badge, hideToolbar, hideLabelFilter } = props;\n    const resources = _.map(props.resources, r => (Object.assign(Object.assign({}, r), { isList: r.isList !== undefined ? r.isList : true, namespace: r.namespaced ? namespace : r.namespace, prop: r.prop || r.kind })));\n    return (React.createElement(FireMan_, { autoFocus: autoFocus, canCreate: canCreate, createAccessReview: createAccessReview, createButtonText: createButtonText || 'Create', createProps: createProps, filterLabel: filterLabel || 'by name', helpText: helpText, resources: mock ? [] : resources, selectorFilterLabel: \"Filter by selector (app=nginx) ...\", textFilter: textFilter, title: showTitle ? title : undefined, badge: badge },\n        React.createElement(Firehose, { resources: mock ? [] : resources },\n            React.createElement(ListPageWrapper_, { flatten: flatten, kinds: _.map(resources, 'kind'), label: label, ListComponent: ListComponent, setSidebarDetails: setSidebarDetails, setShowSidebar: setShowSidebar, setSidebarTitle: setSidebarTitle, textFilter: textFilter, rowFilters: rowFilters, staticFilters: staticFilters, customData: customData, hideToolbar: hideToolbar, hideLabelFilter: hideLabelFilter }))));\n};\nMultiListPage.displayName = 'MultiListPage';\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/factory/list-page.jsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/factory/list-page.jsx"],"names":[],"mappings":"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","sourcesContent":["import * as _ from 'lodash-es';\nimport * as classNames from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Button, TextInput } from '@patternfly/react-core';\n\nimport { withFallback } from '@console/shared/src/components/error/error-boundary';\nimport { useDocumentListener, KEYBOARD_SHORTCUTS } from '@console/shared';\nimport { filterList } from '../../actions/k8s';\nimport { storagePrefix } from '../row-filter';\nimport { ErrorPage404, ErrorBoundaryFallback } from '../error';\nimport { referenceForModel } from '../../module/k8s';\nimport { Dropdown, Firehose, history, inject, kindObj, makeQuery, makeReduxID, PageHeading, RequireCreatePermission } from '../utils';\nimport { FilterToolbar } from '../filter-toolbar';\nimport { ResourceLabel, ResourceLabelPlural } from '../../models/hypercloud/resource-plural';\nimport { useTranslation } from 'react-i18next';\n\n/** @type {React.SFC<{disabled?: boolean, label?: string, onChange: (value: string) => void;, defaultValue?: string, value?: string, placeholder?: string, autoFocus?: boolean, onFocus?:any, name?:string, id?: string, onKeyDown?: any, parentClassName?: string }}>} */\nexport const TextFilter = props => {\n  const { label, className, placeholder = `${label}...`, autoFocus = false, parentClassName } = props;\n  const { ref } = useDocumentListener();\n\n  return (\n    <div className={classNames('has-feedback', parentClassName)}>\n      <TextInput {...props} className={classNames('co-text-filter', className)} data-test-id=\"item-filter\" aria-label={placeholder} placeholder={placeholder} ref={ref} autoFocus={autoFocus} tabIndex={0} type=\"text\" />\n      <span className=\"form-control-feedback form-control-feedback--keyboard-hint\">\n        <kbd>{KEYBOARD_SHORTCUTS.focusFilterInput}</kbd>\n      </span>\n    </div>\n  );\n};\nTextFilter.displayName = 'TextFilter';\n\n// TODO (jon) make this into \"withListPageFilters\" HOC\n/** @augments {React.PureComponent<{ListComponent: React.ComponentType<any>, kinds: string[], filters?:any, flatten?: function, data?: any[], rowFilters?: any[], hideToolbar?: boolean, hideLabelFilter?: boolean }>} */\nexport class ListPageWrapper_ extends React.PureComponent {\n  render() {\n    const { flatten, ListComponent, reduxIDs, rowFilters, textFilter, hideToolbar, hideLabelFilter } = this.props;\n    const data = flatten ? flatten(this.props.resources) : [];\n    const Filter = <FilterToolbar rowFilters={rowFilters} data={data} reduxIDs={reduxIDs} textFilter={textFilter} hideToolbar={hideToolbar} hideLabelFilter={hideLabelFilter} {...this.props} />;\n\n    return (\n      <div>\n        {!_.isEmpty(data) && Filter}\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <ListComponent {...this.props} data={data} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nListPageWrapper_.displayName = 'ListPageWrapper_';\nListPageWrapper_.propTypes = {\n  setShowSidebar: PropTypes.any,\n  setSidebarDetails: PropTypes.any,\n  setSidebarTitle: PropTypes.any,\n  data: PropTypes.array,\n  kinds: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])).isRequired,\n  ListComponent: PropTypes.elementType.isRequired,\n  rowFilters: PropTypes.array,\n  staticFilters: PropTypes.array,\n  customData: PropTypes.any,\n  hideToolbar: PropTypes.bool,\n  hideLabelFilter: PropTypes.bool,\n};\n\n/** @type {React.FC<<WrappedComponent>, {canCreate?: Boolean, textFilter:string, createAccessReview?: Object, createButtonText?: String, createProps?: Object, fieldSelector?: String, filterLabel?: String, resources: any, badge?: React.ReactNode}>*/\nexport const FireMan_ = connect(null, { filterList })(\n  class ConnectedFireMan extends React.PureComponent {\n    constructor(props) {\n      super(props);\n      this.onExpandChange = this.onExpandChange.bind(this);\n      this.applyFilter = this.applyFilter.bind(this);\n\n      const reduxIDs = props.resources.map(r => makeReduxID(kindObj(r.kind), makeQuery(r.namespace, r.selector, r.fieldSelector, r.name)));\n      this.state = { reduxIDs };\n    }\n\n    UNSAFE_componentWillReceiveProps({ resources }) {\n      const reduxIDs = resources.map(r => makeReduxID(kindObj(r.kind), makeQuery(r.namespace, r.selector, r.fieldSelector, r.name)));\n      if (_.isEqual(reduxIDs, this.state.reduxIDs)) {\n        return;\n      }\n\n      // reapply filters to the new list...\n      // TODO (kans): we probably just need to be able to create new lists with filters already applied\n      this.setState({ reduxIDs }, () => this.UNSAFE_componentWillMount());\n    }\n\n    onExpandChange(expand) {\n      this.setState({ expand });\n    }\n\n    updateURL(filterName, options) {\n      if (filterName !== this.props.textFilter) {\n        // TODO (ggreer): support complex filters (objects, not just strings)\n        return;\n      }\n      const params = new URLSearchParams(window.location.search);\n      if (options) {\n        params.set(filterName, options);\n      } else {\n        params.delete(filterName);\n      }\n      const url = new URL(window.location);\n      history.replace(`${url.pathname}?${params.toString()}${url.hash}`);\n    }\n\n    applyFilter(filterName, options) {\n      // TODO: (ggreer) lame blacklist of query args. Use a whitelist based on resource filters\n      if (['q', 'kind', 'orderBy', 'sortBy'].includes(filterName)) {\n        return;\n      }\n      if (filterName.indexOf(storagePrefix) === 0) {\n        return;\n      }\n      this.state.reduxIDs.forEach(id => this.props.filterList(id, filterName, options));\n      this.updateURL(filterName, options);\n    }\n\n    UNSAFE_componentWillMount() {\n      const params = new URLSearchParams(window.location.search);\n      this.defaultValue = params.get(this.props.textFilter);\n      params.forEach((v, k) => this.applyFilter(k, v));\n    }\n\n    runOrNavigate = itemName => {\n      const { createProps = {} } = this.props;\n      const action = _.isFunction(createProps.action) && createProps.action(itemName);\n      if (action) {\n        action();\n      } else if (_.isFunction(createProps.createLink)) {\n        history.push(createProps.createLink(itemName));\n      }\n    };\n\n    render() {\n      const { canCreate, createAccessReview, createButtonText, createProps = {}, helpText, resources, badge, title } = this.props;\n\n      let createLink;\n      if (canCreate) {\n        if (createProps.to) {\n          createLink = (\n            <Link className=\"co-m-primary-action\" {...createProps}>\n              <Button variant=\"primary\" id=\"yaml-create\">\n                {createButtonText}\n              </Button>\n            </Link>\n          );\n        } else if (createProps.items) {\n          createLink = (\n            <div className=\"co-m-primary-action\">\n              <Dropdown buttonClassName=\"pf-m-primary\" id=\"item-create\" menuClassName={classNames({ 'pf-m-align-right-on-md': title })} title={createButtonText} noSelection items={createProps.items} onChange={this.runOrNavigate} />\n            </div>\n          );\n        } else {\n          createLink = (\n            <div className=\"co-m-primary-action\">\n              <Button variant=\"primary\" id=\"yaml-create\" {...createProps}>\n                {createButtonText}\n              </Button>\n            </div>\n          );\n        }\n        // if (!_.isEmpty(createAccessReview)) {\n        //   createLink = (\n        //     <RequireCreatePermission\n        //       model={createAccessReview.model}\n        //       namespace={createAccessReview.namespace}\n        //     >\n        //       {createLink}\n        //     </RequireCreatePermission>\n        //   );\n        // }\n      }\n\n      return (\n        <>\n          {/* Badge rendered from PageHeading only when title is present */}\n          <PageHeading title={title} badge={title ? badge : null} className={classNames({ 'co-m-nav-title--row': createLink })}>\n            {createLink && (\n              <div\n                className={classNames('co-m-pane__createLink', {\n                  'co-m-pane__createLink--no-title': !title,\n                })}\n              >\n                {createLink}\n              </div>\n            )}\n            {!title && badge && <div>{badge}</div>}\n          </PageHeading>\n          {helpText && <p className=\"co-m-pane__help-text co-help-text\">{helpText}</p>}\n          <div className=\"co-m-pane__body co-m-pane__body--no-top-margin\">\n            {inject(this.props.children, {\n              resources,\n              expand: this.state.expand,\n              reduxIDs: this.state.reduxIDs,\n              applyFilter: this.applyFilter,\n            })}\n          </div>\n        </>\n      );\n    }\n  },\n);\n\nFireMan_.displayName = 'FireMan';\n\nFireMan_.defaultProps = {\n  textFilter: 'name',\n};\n\nFireMan_.propTypes = {\n  canCreate: PropTypes.bool,\n  createAccessReview: PropTypes.object,\n  createButtonText: PropTypes.string,\n  createProps: PropTypes.object,\n  fieldSelector: PropTypes.string,\n  filterLabel: PropTypes.string,\n  helpText: PropTypes.any,\n  resources: PropTypes.arrayOf(\n    PropTypes.shape({\n      fieldSelector: PropTypes.string,\n      filters: PropTypes.object,\n      isList: PropTypes.bool,\n      kind: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n      name: PropTypes.string,\n      namespace: PropTypes.string,\n      namespaced: PropTypes.bool,\n      selector: PropTypes.shape({\n        matchLabels: PropTypes.objectOf(PropTypes.string),\n        matchExpressions: PropTypes.arrayOf(PropTypes.object),\n      }),\n    }),\n  ).isRequired,\n  selectorFilterLabel: PropTypes.string,\n  textFilter: PropTypes.string,\n  title: PropTypes.string,\n};\n\n/** @type {React.SFC<{ListComponent: React.ComponentType<any>, kind: string, helpText?: any, namespace?: string, filterLabel?: string, textFilter?: string, title?: string, showTitle?: boolean, rowFilters?: any[], selector?: any, fieldSelector?: string, canCreate?: boolean, createButtonText?: string, createProps?: any, mock?: boolean, badge?: React.ReactNode, createHandler?: any, hideToolbar?: boolean, hideLabelFilter?: boolean, customData?: any, setSidebarDetails?:any, setShowSidebar?:any, setSidebarTitle?: any} >} */\nexport const ListPage = withFallback(props => {\n  const { autoFocus, canCreate, createButtonText, createHandler, customData, fieldSelector, filterLabel, filters, helpText, kind, limit, ListComponent, mock, name, nameFilter, namespace, selector, showTitle = true, skipAccessReview, textFilter, match, badge, hideToolbar, hideLabelFilter, setSidebarDetails, setShowSidebar, setSidebarTitle } = props;\n  let { createProps } = props;\n  const { t } = useTranslation();\n  const ko = kindObj(kind);\n  const { namespaced, plural } = ko;\n  const label = ResourceLabel(ko, t);\n  const labelPlural = ResourceLabelPlural(ko, t);\n  const title = props.title || labelPlural;\n  const usedNamespace = !namespace && namespaced ? _.get(match, 'params.ns') : namespace;\n\n  let href = namespaced ? `/k8s/ns/${usedNamespace || 'default'}/${plural}/~new` : `/k8s/cluster/${plural}/~new`;\n  if (ko.crd) {\n    try {\n      const ref = referenceForModel(ko);\n      href = namespaced ? `/k8s/ns/${usedNamespace || 'default'}/customresourcedefinitions/${ref}/~new` : `/k8s/cluster/customresourcedefinitions/${ref}/~new`;\n    } catch (unused) {\n      /**/\n    }\n  }\n\n  createProps = createProps || (createHandler ? { onClick: createHandler } : { to: href });\n  const createAccessReview = skipAccessReview ? null : { model: ko, namespace: usedNamespace };\n  const resources = [\n    {\n      fieldSelector,\n      filters,\n      kind,\n      limit,\n      name: name || nameFilter,\n      namespaced,\n      selector,\n    },\n  ];\n\n  // Don't show row filters if props.filters were passed. The content is already filtered and the row filters will have incorrect counts.\n  const rowFilters = _.isEmpty(filters) ? props.rowFilters : undefined;\n\n  if (!namespaced && usedNamespace) {\n    return <ErrorPage404 />;\n  }\n\n  return (\n    <MultiListPage\n      autoFocus={autoFocus}\n      canCreate={canCreate}\n      createAccessReview={createAccessReview}\n      createButtonText={createButtonText || t('COMMON:MSG_MAIN_CREATEBUTTON_1', { 0: label })}\n      createProps={createProps}\n      customData={customData}\n      filterLabel={filterLabel || 'by name'}\n      flatten={_resources => _.get(_resources, name || kind, {}).data}\n      helpText={helpText}\n      label={labelPlural}\n      ListComponent={ListComponent}\n      setShowSidebar={setShowSidebar}\n      setSidebarDetails={setSidebarDetails}\n      setSidebarTitle={setSidebarTitle}\n      mock={mock}\n      namespace={usedNamespace}\n      resources={resources}\n      rowFilters={rowFilters}\n      selectorFilterLabel=\"Filter by selector (app=nginx) ...\"\n      showTitle={showTitle}\n      textFilter={textFilter}\n      title={title}\n      badge={badge}\n      hideToolbar={hideToolbar}\n      hideLabelFilter={hideLabelFilter}\n    />\n  );\n}, ErrorBoundaryFallback);\n\nListPage.displayName = 'ListPage';\n\n/** @type {React.SFC<{canCreate?: boolean, createButtonText?: string, createProps?: any, createAccessReview?: Object, flatten?: Function, title?: string, label?: string, hideTextFilter?: boolean, showTitle?: boolean, helpText?: any, filterLabel?: string, textFilter?: string, rowFilters?: any[], resources: any[], ListComponent: React.ComponentType<any>, namespace?: string, customData?: any, badge?: React.ReactNode, hideToolbar?: boolean, hideLabelFilter?: boolean setSidebarDetails?:any setShowSidebar?:any setSidebarTitle?: any>} */\nexport const MultiListPage = props => {\n  const { autoFocus, canCreate, createAccessReview, createButtonText, createProps, filterLabel, flatten, helpText, label, ListComponent, setSidebarDetails, setShowSidebar, setSidebarTitle, mock, namespace, rowFilters, showTitle = true, staticFilters, textFilter, title, customData, badge, hideToolbar, hideLabelFilter } = props;\n\n  const resources = _.map(props.resources, r => ({\n    ...r,\n    isList: r.isList !== undefined ? r.isList : true,\n    namespace: r.namespaced ? namespace : r.namespace,\n    prop: r.prop || r.kind,\n  }));\n\n  return (\n    <FireMan_ autoFocus={autoFocus} canCreate={canCreate} createAccessReview={createAccessReview} createButtonText={createButtonText || 'Create'} createProps={createProps} filterLabel={filterLabel || 'by name'} helpText={helpText} resources={mock ? [] : resources} selectorFilterLabel=\"Filter by selector (app=nginx) ...\" textFilter={textFilter} title={showTitle ? title : undefined} badge={badge}>\n      <Firehose resources={mock ? [] : resources}>\n        <ListPageWrapper_ flatten={flatten} kinds={_.map(resources, 'kind')} label={label} ListComponent={ListComponent} setSidebarDetails={setSidebarDetails} setShowSidebar={setShowSidebar} setSidebarTitle={setSidebarTitle} textFilter={textFilter} rowFilters={rowFilters} staticFilters={staticFilters} customData={customData} hideToolbar={hideToolbar} hideLabelFilter={hideLabelFilter} />\n      </Firehose>\n    </FireMan_>\n  );\n};\n\nMultiListPage.displayName = 'MultiListPage';\n"]}]}