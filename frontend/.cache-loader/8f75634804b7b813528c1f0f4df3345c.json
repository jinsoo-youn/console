{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/graphs/require-prometheus.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/graphs/require-prometheus.tsx","mtime":1616735742470},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { FLAGS } from '@console/shared/src/constants';\nimport { connectToFlags } from '../../reducers/features';\nimport { PROMETHEUS_BASE_PATH, PROMETHEUS_TENANCY_BASE_PATH } from '.';\nconst canAccessPrometheus = (prometheusFlag) => prometheusFlag && !!PROMETHEUS_BASE_PATH && !!PROMETHEUS_TENANCY_BASE_PATH;\n// HOC that will hide WrappedComponent when Prometheus isn't configured or the user doesn't have permission to query Prometheus.\n// TODO Figure out better typing here\nexport const requirePrometheus = (WrappedComponent) => connectToFlags(FLAGS.PROMETHEUS)((_a) => {\n    var { flags } = _a, rest = __rest(_a, [\"flags\"]);\n    const prometheusFlag = flags[FLAGS.PROMETHEUS];\n    if (!canAccessPrometheus(prometheusFlag)) {\n        return null;\n    }\n    return React.createElement(WrappedComponent, Object.assign({}, rest));\n});\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/graphs/require-prometheus.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/graphs/require-prometheus.tsx"],"names":[],"mappings":";;;;;;;;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAE,KAAK,EAAE,MAAM,+BAA+B,CAAC;AACtD,OAAO,EAAE,cAAc,EAAE,MAAM,yBAAyB,CAAC;AACzD,OAAO,EAAE,oBAAoB,EAAE,4BAA4B,EAAE,MAAM,GAAG,CAAC;AAEvE,MAAM,mBAAmB,GAAG,CAAC,cAAc,EAAE,EAAE,CAC7C,cAAc,IAAI,CAAC,CAAC,oBAAoB,IAAI,CAAC,CAAC,4BAA4B,CAAC;AAE7E,gIAAgI;AAChI,qCAAqC;AACrC,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,gBAAgB,EAAE,EAAE,CACpD,cAAc,CAAM,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EAAkB,EAAE,EAAE;QAAtB,EAAE,KAAK,OAAW,EAAT,4BAAO;IACrD,MAAM,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAC/C,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,EAAE;QACxC,OAAO,IAAI,CAAC;KACb;IAED,OAAO,oBAAC,gBAAgB,oBAAK,IAAI,EAAI,CAAC;AACxC,CAAC,CAAC,CAAC","sourcesContent":["import * as React from 'react';\n\nimport { FLAGS } from '@console/shared/src/constants';\nimport { connectToFlags } from '../../reducers/features';\nimport { PROMETHEUS_BASE_PATH, PROMETHEUS_TENANCY_BASE_PATH } from '.';\n\nconst canAccessPrometheus = (prometheusFlag) =>\n  prometheusFlag && !!PROMETHEUS_BASE_PATH && !!PROMETHEUS_TENANCY_BASE_PATH;\n\n// HOC that will hide WrappedComponent when Prometheus isn't configured or the user doesn't have permission to query Prometheus.\n// TODO Figure out better typing here\nexport const requirePrometheus = (WrappedComponent) =>\n  connectToFlags<any>(FLAGS.PROMETHEUS)(({ flags, ...rest }) => {\n    const prometheusFlag = flags[FLAGS.PROMETHEUS];\n    if (!canAccessPrometheus(prometheusFlag)) {\n      return null;\n    }\n\n    return <WrappedComponent {...rest} />;\n  });\n"]}]}