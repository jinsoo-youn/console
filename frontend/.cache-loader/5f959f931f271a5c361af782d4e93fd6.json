{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/console-app/src/components/nodes/menu-actions.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/console-app/src/components/nodes/menu-actions.tsx","mtime":1615298458600},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as React from 'react';\nimport { Kebab, asAccessReview } from '@console/internal/components/utils';\nimport { isNodeUnschedulable } from '@console/shared';\nimport { makeNodeSchedulable } from '../../k8s/requests/nodes';\nimport { createConfigureUnschedulableModal } from './modals';\nimport { NodeModel } from '@console/internal/models';\nimport { deleteModal } from '@console/internal/components/modals/delete-modal';\nexport const MarkAsUnschedulable = (kind, obj) => ({\n    label: 'Mark as Unschedulable',\n    hidden: isNodeUnschedulable(obj),\n    callback: () => createConfigureUnschedulableModal({ resource: obj }),\n    accessReview: {\n        group: kind.apiGroup,\n        resource: kind.plural,\n        name: obj.metadata.name,\n        namespace: obj.metadata.namespace,\n        verb: 'patch',\n    },\n});\nexport const MarkAsSchedulable = (kind, obj, resources, { nodeMaintenance } = { nodeMaintenance: false }) => ({\n    label: 'Mark as Schedulable',\n    hidden: !isNodeUnschedulable(obj) || nodeMaintenance,\n    callback: () => makeNodeSchedulable(obj),\n    accessReview: {\n        group: kind.apiGroup,\n        resource: kind.plural,\n        name: obj.metadata.name,\n        namespace: obj.metadata.namespace,\n        verb: 'patch',\n    },\n});\nexport const Delete = (kindObj, node) => {\n    const message = (React.createElement(\"p\", null, \"This action cannot be undone. Deleting a node will instruct Kubernetes that the node is down or unrecoverable and delete all pods scheduled to that node. If the node is still running but unresponsive and the node is deleted, stateful workloads and persistent volumes may suffer corruption or data loss. Only delete a node that you have confirmed is completely stopped and cannot be restored.\"));\n    return {\n        label: 'Delete Node',\n        callback: () => deleteModal({\n            kind: kindObj,\n            resource: node,\n            message,\n        }),\n        accessReview: asAccessReview(NodeModel, node, 'delete'),\n    };\n};\nconst { ModifyLabels, ModifyAnnotations, Edit } = Kebab.factory;\nexport const menuActions = [\n    MarkAsSchedulable,\n    MarkAsUnschedulable,\n    ModifyLabels,\n    ModifyAnnotations,\n    Edit,\n    Delete,\n];\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/console-app/src/components/nodes/menu-actions.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/console-app/src/components/nodes/menu-actions.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAE,KAAK,EAAe,cAAc,EAAE,MAAM,oCAAoC,CAAC;AACxF,OAAO,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AACtD,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC/D,OAAO,EAAE,iCAAiC,EAAE,MAAM,UAAU,CAAC;AAC7D,OAAO,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;AACrD,OAAO,EAAE,WAAW,EAAE,MAAM,kDAAkD,CAAC;AAE/E,MAAM,CAAC,MAAM,mBAAmB,GAAgB,CAAC,IAAa,EAAE,GAAa,EAAE,EAAE,CAAC,CAAC;IACjF,KAAK,EAAE,uBAAuB;IAC9B,MAAM,EAAE,mBAAmB,CAAC,GAAG,CAAC;IAChC,QAAQ,EAAE,GAAG,EAAE,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC;IACpE,YAAY,EAAE;QACZ,KAAK,EAAE,IAAI,CAAC,QAAQ;QACpB,QAAQ,EAAE,IAAI,CAAC,MAAM;QACrB,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI;QACvB,SAAS,EAAE,GAAG,CAAC,QAAQ,CAAC,SAAS;QACjC,IAAI,EAAE,OAAO;KACd;CACF,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,iBAAiB,GAAgB,CAC5C,IAAa,EACb,GAAa,EACb,SAAa,EACb,EAAE,eAAe,EAAE,GAAG,EAAE,eAAe,EAAE,KAAK,EAAE,EAChD,EAAE,CAAC,CAAC;IACJ,KAAK,EAAE,qBAAqB;IAC5B,MAAM,EAAE,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,eAAe;IACpD,QAAQ,EAAE,GAAG,EAAE,CAAC,mBAAmB,CAAC,GAAG,CAAC;IACxC,YAAY,EAAE;QACZ,KAAK,EAAE,IAAI,CAAC,QAAQ;QACpB,QAAQ,EAAE,IAAI,CAAC,MAAM;QACrB,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI;QACvB,SAAS,EAAE,GAAG,CAAC,QAAQ,CAAC,SAAS;QACjC,IAAI,EAAE,OAAO;KACd;CACF,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,MAAM,GAAgB,CAAC,OAAgB,EAAE,IAAc,EAAE,EAAE;IACtE,MAAM,OAAO,GAAG,CACd,yaAMI,CACL,CAAC;IAEF,OAAO;QACL,KAAK,EAAE,aAAa;QACpB,QAAQ,EAAE,GAAG,EAAE,CACb,WAAW,CAAC;YACV,IAAI,EAAE,OAAO;YACb,QAAQ,EAAE,IAAI;YACd,OAAO;SACR,CAAC;QACJ,YAAY,EAAE,cAAc,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC;KACxD,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,EAAE,YAAY,EAAE,iBAAiB,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC;AAChE,MAAM,CAAC,MAAM,WAAW,GAAG;IACzB,iBAAiB;IACjB,mBAAmB;IACnB,YAAY;IACZ,iBAAiB;IACjB,IAAI;IACJ,MAAM;CACP,CAAC","sourcesContent":["import * as React from 'react';\nimport { K8sKind, NodeKind } from '@console/internal/module/k8s';\nimport { Kebab, KebabAction, asAccessReview } from '@console/internal/components/utils';\nimport { isNodeUnschedulable } from '@console/shared';\nimport { makeNodeSchedulable } from '../../k8s/requests/nodes';\nimport { createConfigureUnschedulableModal } from './modals';\nimport { NodeModel } from '@console/internal/models';\nimport { deleteModal } from '@console/internal/components/modals/delete-modal';\n\nexport const MarkAsUnschedulable: KebabAction = (kind: K8sKind, obj: NodeKind) => ({\n  label: 'Mark as Unschedulable',\n  hidden: isNodeUnschedulable(obj),\n  callback: () => createConfigureUnschedulableModal({ resource: obj }),\n  accessReview: {\n    group: kind.apiGroup,\n    resource: kind.plural,\n    name: obj.metadata.name,\n    namespace: obj.metadata.namespace,\n    verb: 'patch',\n  },\n});\n\nexport const MarkAsSchedulable: KebabAction = (\n  kind: K8sKind,\n  obj: NodeKind,\n  resources: {},\n  { nodeMaintenance } = { nodeMaintenance: false }, // NOTE: used by node actions in metal3-plugin\n) => ({\n  label: 'Mark as Schedulable',\n  hidden: !isNodeUnschedulable(obj) || nodeMaintenance,\n  callback: () => makeNodeSchedulable(obj),\n  accessReview: {\n    group: kind.apiGroup,\n    resource: kind.plural,\n    name: obj.metadata.name,\n    namespace: obj.metadata.namespace,\n    verb: 'patch',\n  },\n});\n\nexport const Delete: KebabAction = (kindObj: K8sKind, node: NodeKind) => {\n  const message = (\n    <p>\n      This action cannot be undone. Deleting a node will instruct Kubernetes that the node is down\n      or unrecoverable and delete all pods scheduled to that node. If the node is still running but\n      unresponsive and the node is deleted, stateful workloads and persistent volumes may suffer\n      corruption or data loss. Only delete a node that you have confirmed is completely stopped and\n      cannot be restored.\n    </p>\n  );\n\n  return {\n    label: 'Delete Node',\n    callback: () =>\n      deleteModal({\n        kind: kindObj,\n        resource: node,\n        message,\n      }),\n    accessReview: asAccessReview(NodeModel, node, 'delete'),\n  };\n};\n\nconst { ModifyLabels, ModifyAnnotations, Edit } = Kebab.factory;\nexport const menuActions = [\n  MarkAsSchedulable,\n  MarkAsUnschedulable,\n  ModifyLabels,\n  ModifyAnnotations,\n  Edit,\n  Delete,\n];\n"]}]}