{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/utils/status-box.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/utils/status-box.tsx","mtime":1616735742480},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as _ from 'lodash-es';\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Alert, Button } from '@patternfly/react-core';\nimport * as restrictedSignImg from '../../imgs/restricted-sign.svg';\nimport { TimeoutError } from '../../co-fetch';\nimport { useTranslation } from 'react-i18next';\nexport const Box = ({ children, className }) => (React.createElement(\"div\", { className: classNames('cos-status-box', className) }, children));\nexport const LoadError = ({ label, className, message, canRetry = true, }) => (React.createElement(Box, { className: className },\n    React.createElement(\"div\", { className: \"text-center cos-error-title\" },\n        \"Error Loading \",\n        label,\n        _.isString(message) ? `: ${message}` : ''),\n    canRetry && (React.createElement(\"div\", { className: \"text-center\" },\n        \"Please\",\n        ' ',\n        React.createElement(Button, { type: \"button\", onClick: window.location.reload.bind(window.location), variant: \"link\", isInline: true }, \"try again\"),\n        \".\"))));\nLoadError.displayName = 'LoadError';\nexport const Loading = ({ className }) => (React.createElement(\"div\", { className: classNames('co-m-loader co-an-fade-in-out', className) },\n    React.createElement(\"div\", { className: \"co-m-loader-dot__one\" }),\n    React.createElement(\"div\", { className: \"co-m-loader-dot__two\" }),\n    React.createElement(\"div\", { className: \"co-m-loader-dot__three\" })));\nLoading.displayName = 'Loading';\nexport const LoadingInline = () => React.createElement(Loading, { className: \"co-m-loader--inline\" });\nLoadingInline.displayName = 'LoadingInline';\nexport const LoadingBox = ({ className, message }) => (React.createElement(Box, { className: classNames('cos-status-box--loading', className) },\n    React.createElement(Loading, null),\n    message && React.createElement(\"div\", { className: \"cos-status-box__loading-message\" }, message)));\nLoadingBox.displayName = 'LoadingBox';\nexport const EmptyBox = ({ label }) => {\n    const { t } = useTranslation();\n    return (React.createElement(Box, null,\n        React.createElement(\"div\", { className: \"text-center\" }, label ? t('COMMON:MSG_COMMON_ERROR_MESSAGE_22', { something: label }) : t('COMMON:MSG_COMMON_ERROR_MESSAGE_23'))));\n};\nEmptyBox.displayName = 'EmptyBox';\nexport const MsgBox = ({ title, detail, className = '' }) => (React.createElement(Box, { className: className },\n    title && React.createElement(\"div\", { className: \"cos-status-box__title\" }, title),\n    detail && React.createElement(\"div\", { className: \"text-center cos-status-box__detail\" }, detail)));\nMsgBox.displayName = 'MsgBox';\nexport const AccessDenied = ({ message }) => (React.createElement(\"div\", null,\n    React.createElement(Box, { className: \"text-center\" },\n        React.createElement(\"img\", { className: \"cos-status-box__access-denied-icon\", src: restrictedSignImg }),\n        React.createElement(MsgBox, { title: \"Restricted Access\", detail: \"You don't have access to this section due to cluster policy.\" })),\n    _.isString(message) && (React.createElement(Alert, { isInline: true, className: \"co-alert\", variant: \"danger\", title: \"Error details\" }, message))));\nAccessDenied.displayName = 'AccessDenied';\nconst Data = ({ NoDataEmptyMsg, EmptyMsg, label, data, unfilteredData, children, }) => {\n    if (NoDataEmptyMsg && _.isEmpty(unfilteredData)) {\n        return (React.createElement(\"div\", { className: \"loading-box loading-box__loaded\" }, NoDataEmptyMsg ? React.createElement(NoDataEmptyMsg, null) : React.createElement(EmptyBox, { label: label })));\n    }\n    if (!data || _.isEmpty(data)) {\n        return (React.createElement(\"div\", { className: \"loading-box loading-box__loaded\" }, EmptyMsg ? React.createElement(EmptyMsg, null) : React.createElement(EmptyBox, { label: label })));\n    }\n    return React.createElement(\"div\", { className: \"loading-box loading-box__loaded\" }, children);\n};\nData.displayName = 'Data';\nexport const StatusBox = (props) => {\n    const { loadError, loaded, skeleton } = props, dataProps = __rest(props, [\"loadError\", \"loaded\", \"skeleton\"]);\n    if (loadError) {\n        const status = _.get(loadError, 'response.status');\n        if (status === 404) {\n            return (React.createElement(\"div\", { className: \"co-m-pane__body\" },\n                React.createElement(\"h1\", { className: \"co-m-pane__heading co-m-pane__heading--center\" }, \"404: Not Found\")));\n        }\n        if (status === 403) {\n            return React.createElement(AccessDenied, { message: loadError.message });\n        }\n        if (loaded && loadError instanceof TimeoutError) {\n            return (React.createElement(Data, Object.assign({}, dataProps),\n                React.createElement(\"div\", { className: \"co-m-timeout-error text-muted\" }, \"Timed out fetching new data. The data below is stale.\"),\n                props.children));\n        }\n        return (React.createElement(LoadError, { message: loadError.message, label: props.label, className: \"loading-box loading-box__errored\" }));\n    }\n    if (!loaded) {\n        return skeleton ? React.createElement(React.Fragment, null, skeleton) : React.createElement(LoadingBox, { className: \"loading-box loading-box__loading\" });\n    }\n    return React.createElement(Data, Object.assign({}, dataProps));\n};\nStatusBox.displayName = 'StatusBox';\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/utils/status-box.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/utils/status-box.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as _ from 'lodash-es';\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Alert, Button } from '@patternfly/react-core';\n\nimport * as restrictedSignImg from '../../imgs/restricted-sign.svg';\nimport { TimeoutError } from '../../co-fetch';\nimport { useTranslation } from 'react-i18next';\n\nexport const Box: React.FC<BoxProps> = ({ children, className }) => (\n  <div className={classNames('cos-status-box', className)}>{children}</div>\n);\n\nexport const LoadError: React.FC<LoadErrorProps> = ({\n  label,\n  className,\n  message,\n  canRetry = true,\n}) => (\n  <Box className={className}>\n    <div className=\"text-center cos-error-title\">\n      Error Loading {label}\n      {_.isString(message) ? `: ${message}` : ''}\n    </div>\n    {canRetry && (\n      <div className=\"text-center\">\n        Please{' '}\n        <Button\n          type=\"button\"\n          onClick={window.location.reload.bind(window.location)}\n          variant=\"link\"\n          isInline\n        >\n          try again\n        </Button>\n        .\n      </div>\n    )}\n  </Box>\n);\nLoadError.displayName = 'LoadError';\n\nexport const Loading: React.FC<LoadingProps> = ({ className }) => (\n  <div className={classNames('co-m-loader co-an-fade-in-out', className)}>\n    <div className=\"co-m-loader-dot__one\" />\n    <div className=\"co-m-loader-dot__two\" />\n    <div className=\"co-m-loader-dot__three\" />\n  </div>\n);\nLoading.displayName = 'Loading';\n\nexport const LoadingInline: React.FC<{}> = () => <Loading className=\"co-m-loader--inline\" />;\nLoadingInline.displayName = 'LoadingInline';\n\nexport const LoadingBox: React.FC<LoadingBoxProps> = ({ className, message }) => (\n  <Box className={classNames('cos-status-box--loading', className)}>\n    <Loading />\n    {message && <div className=\"cos-status-box__loading-message\">{message}</div>}\n  </Box>\n);\nLoadingBox.displayName = 'LoadingBox';\n\nexport const EmptyBox: React.FC<EmptyBoxProps> = ({ label }) => {\n  const { t } = useTranslation();\n  return (\n    <Box>\n      <div className=\"text-center\">{label ? t('COMMON:MSG_COMMON_ERROR_MESSAGE_22', { something: label }) : t('COMMON:MSG_COMMON_ERROR_MESSAGE_23')}</div>\n    </Box>\n  );\n}\nEmptyBox.displayName = 'EmptyBox';\n\nexport const MsgBox: React.FC<MsgBoxProps> = ({ title, detail, className = '' }) => (\n  <Box className={className}>\n    {title && <div className=\"cos-status-box__title\">{title}</div>}\n    {detail && <div className=\"text-center cos-status-box__detail\">{detail}</div>}\n  </Box>\n);\nMsgBox.displayName = 'MsgBox';\n\nexport const AccessDenied: React.FC<AccessDeniedProps> = ({ message }) => (\n  <div>\n    <Box className=\"text-center\">\n      <img className=\"cos-status-box__access-denied-icon\" src={restrictedSignImg} />\n      <MsgBox\n        title=\"Restricted Access\"\n        detail=\"You don't have access to this section due to cluster policy.\"\n      />\n    </Box>\n    {_.isString(message) && (\n      <Alert isInline className=\"co-alert\" variant=\"danger\" title=\"Error details\">\n        {message}\n      </Alert>\n    )}\n  </div>\n);\nAccessDenied.displayName = 'AccessDenied';\n\nconst Data: React.FC<DataProps> = ({\n  NoDataEmptyMsg,\n  EmptyMsg,\n  label,\n  data,\n  unfilteredData,\n  children,\n}) => {\n  if (NoDataEmptyMsg && _.isEmpty(unfilteredData)) {\n    return (\n      <div className=\"loading-box loading-box__loaded\">\n        {NoDataEmptyMsg ? <NoDataEmptyMsg /> : <EmptyBox label={label} />}\n      </div>\n    );\n  }\n\n  if (!data || _.isEmpty(data)) {\n    return (\n      <div className=\"loading-box loading-box__loaded\">\n        {EmptyMsg ? <EmptyMsg /> : <EmptyBox label={label} />}\n      </div>\n    );\n  }\n  return <div className=\"loading-box loading-box__loaded\">{children}</div>;\n};\nData.displayName = 'Data';\n\nexport const StatusBox: React.FC<StatusBoxProps> = (props) => {\n  const { loadError, loaded, skeleton, ...dataProps } = props;\n\n  if (loadError) {\n    const status = _.get(loadError, 'response.status');\n    if (status === 404) {\n      return (\n        <div className=\"co-m-pane__body\">\n          <h1 className=\"co-m-pane__heading co-m-pane__heading--center\">404: Not Found</h1>\n        </div>\n      );\n    }\n    if (status === 403) {\n      return <AccessDenied message={loadError.message} />;\n    }\n\n    if (loaded && loadError instanceof TimeoutError) {\n      return (\n        <Data {...dataProps}>\n          <div className=\"co-m-timeout-error text-muted\">\n            Timed out fetching new data. The data below is stale.\n          </div>\n          {props.children}\n        </Data>\n      );\n    }\n\n    return (\n      <LoadError\n        message={loadError.message}\n        label={props.label}\n        className=\"loading-box loading-box__errored\"\n      />\n    );\n  }\n\n  if (!loaded) {\n    return skeleton ? <>{skeleton}</> : <LoadingBox className=\"loading-box loading-box__loading\" />;\n  }\n  return <Data {...dataProps} />;\n};\nStatusBox.displayName = 'StatusBox';\n\ntype BoxProps = {\n  children: React.ReactNode;\n  className?: string;\n};\n\ntype LoadErrorProps = {\n  label: string;\n  className?: string;\n  message?: string;\n  canRetry?: boolean;\n};\n\ntype LoadingProps = {\n  className?: string;\n};\n\ntype LoadingBoxProps = {\n  className?: string;\n  message?: string;\n};\n\ntype EmptyBoxProps = {\n  label?: string;\n};\n\ntype MsgBoxProps = {\n  title?: string;\n  detail?: React.ReactNode;\n  className?: string;\n};\n\ntype AccessDeniedProps = {\n  message?: string;\n};\n\ntype DataProps = {\n  NoDataEmptyMsg?: React.ComponentType;\n  EmptyMsg?: React.ComponentType;\n  label?: string;\n  unfilteredData?: any;\n  data?: any;\n  children?: React.ReactNode;\n};\n\ntype StatusBoxProps = {\n  label?: string;\n  loadError?: any;\n  loaded?: boolean;\n  data?: any;\n  unfilteredData?: any;\n  skeleton?: React.ReactNode;\n  NoDataEmptyMsg?: React.ComponentType;\n  EmptyMsg?: React.ComponentType;\n  children?: React.ReactNode;\n};\n"]}]}