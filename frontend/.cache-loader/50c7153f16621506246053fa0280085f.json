{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/wrapper/common/wrapper.ts","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/wrapper/common/wrapper.ts","mtime":1615298458670},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as _ from 'lodash';\nimport { ensurePath } from '../utils/utils';\nimport { omitEmpty } from '../../../utils/common';\nexport class Wrapper {\n    constructor(data, copy = false) {\n        var _a;\n        this.asResource = (copy = false) => (copy ? _.cloneDeep(this.data) : this.data);\n        this.omitEmpty = (path, justUndefined = true) => {\n            omitEmpty(path ? this.getIn(path) : this.data, justUndefined);\n            return this;\n        };\n        this.get = (key) => (this.data && key ? this.data[key] : null);\n        this.getIn = (path) => this.data && path ? _.get(this.data, path) : null;\n        this.ensurePath = (path, value = {}) => ensurePath(this.data, path, value);\n        this.clearIfEmpty = (path) => {\n            if (path && path.length > 0) {\n                const arrPath = _.isString(path) ? path.split('.') : [...path];\n                const childKey = arrPath.pop();\n                const parent = arrPath.length > 0 ? this.getIn(arrPath) : this.data;\n                if (parent && parent.hasOwnProperty(childKey) && _.isEmpty(parent[childKey])) {\n                    delete parent[childKey];\n                }\n            }\n            return this;\n        };\n        this.uncheckedData = () => this.data;\n        const d = _.isFunction((_a = data) === null || _a === void 0 ? void 0 : _a.asResource)\n            ? data.asResource()\n            : data;\n        this.data = (d && copy ? _.cloneDeep(d) : d || {});\n    }\n    mergeWith(...wrappers) {\n        if (wrappers) {\n            const update = _.merge({}, ...wrappers.filter((w) => w === null || w === void 0 ? void 0 : w.data).map((w) => w.data));\n            _.merge(this.data, _.cloneDeep(update)); // clone to dispose of all old references\n        }\n        return this;\n    }\n}\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/wrapper/common/wrapper.ts","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/kubevirt-plugin/src/k8s/wrapper/common/wrapper.ts"],"names":[],"mappings":"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","sourcesContent":["import * as _ from 'lodash';\nimport { ensurePath } from '../utils/utils';\nimport { omitEmpty } from '../../../utils/common';\n\nexport abstract class Wrapper<RESOURCE extends {}, SELF extends Wrapper<RESOURCE, SELF>> {\n  protected data: RESOURCE;\n\n  constructor(data?: RESOURCE | SELF, copy = false) {\n    const d = _.isFunction((data as any)?.asResource)\n      ? (data as SELF).asResource()\n      : (data as RESOURCE);\n    this.data = (d && copy ? _.cloneDeep(d) : d || {}) as any;\n  }\n\n  asResource = (copy = false): RESOURCE => (copy ? _.cloneDeep(this.data) : this.data);\n\n  mergeWith(...wrappers: SELF[]): SELF {\n    if (wrappers) {\n      const update = _.merge({}, ...wrappers.filter((w) => w?.data).map((w) => w.data));\n\n      _.merge(this.data, _.cloneDeep(update)); // clone to dispose of all old references\n    }\n    return (this as any) as SELF;\n  }\n\n  omitEmpty = (path?: string[] | string, justUndefined = true) => {\n    omitEmpty(path ? this.getIn(path) : this.data, justUndefined);\n    return (this as any) as SELF;\n  };\n\n  protected get = (key: string) => (this.data && key ? this.data[key] : null);\n\n  protected getIn = (path: string[] | string) =>\n    this.data && path ? _.get(this.data, path) : null;\n\n  protected ensurePath = (path: string[] | string, value: any[] | {} = {}) =>\n    ensurePath(this.data, path, value);\n\n  protected clearIfEmpty = (path: string[] | string) => {\n    if (path && path.length > 0) {\n      const arrPath = _.isString(path) ? path.split('.') : [...path];\n      const childKey = arrPath.pop();\n      const parent = arrPath.length > 0 ? this.getIn(arrPath) : this.data;\n      if (parent && parent.hasOwnProperty(childKey) && _.isEmpty(parent[childKey])) {\n        delete parent[childKey];\n      }\n    }\n    return (this as any) as SELF;\n  };\n\n  protected uncheckedData = () => this.data as any;\n}\n"]}]}