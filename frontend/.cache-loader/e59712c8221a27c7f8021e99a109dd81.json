{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/index.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/index.tsx","mtime":1616735742370},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as _ from 'lodash';\nimport * as React from 'react';\nimport Form from 'react-jsonschema-form';\nimport { Accordion, ActionGroup, Button, Alert } from '@patternfly/react-core';\nimport { history } from '@console/internal/components/utils';\nimport defaultWidgets from './widgets';\nimport defaultFields from './fields';\nimport { FieldTemplate as DefaultFieldTemplate, ObjectFieldTemplate as DefaultObjectFieldTemplate, ArrayFieldTemplate as DefaultArrayFieldTemplate, ErrorTemplate as DefaultErrorTemplate } from './templates';\nimport { K8S_UI_SCHEMA } from './const';\nimport { getSchemaErrors } from './utils';\nimport './styles.scss';\nexport const DynamicForm = ({ ArrayFieldTemplate = DefaultArrayFieldTemplate, errors = [], ErrorTemplate = DefaultErrorTemplate, fields = {}, FieldTemplate = DefaultFieldTemplate, formContext, formData = {}, noValidate = false, ObjectFieldTemplate = DefaultObjectFieldTemplate, onChange = _.noop, onError = _.noop, onSubmit = _.noop, schema, uiSchema = {}, widgets = {} }) => {\n    const schemaErrors = getSchemaErrors(schema);\n    // IF the top level schema is unsupported, don't render a form at all.\n    if (schemaErrors.length) {\n        // eslint-disable-next-line no-console\n        console.warn('A form could not be generated for this resource.', schemaErrors);\n        return React.createElement(Alert, { isInline: true, className: \"co-alert co-break-word\", variant: \"info\", title: 'A form is not available for this resource. Please use the YAML View.' });\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Alert, { isInline: true, className: \"co-alert co-break-word\", variant: \"info\", title: 'Note: Some fields may not be represented in this form. Please select \"YAML View\" for full control of object creation.' }),\n        React.createElement(Accordion, { asDefinitionList: false, className: \"co-dynamic-form__accordion\" },\n            React.createElement(Form, { className: \"co-dynamic-form\", \n                // liveValidate={true}\n                noValidate: true, ArrayFieldTemplate: ArrayFieldTemplate, fields: Object.assign(Object.assign({}, defaultFields), fields), FieldTemplate: FieldTemplate, formContext: Object.assign(Object.assign({}, formContext), { formData }), formData: formData, noHtml5Validate: true, ObjectFieldTemplate: ObjectFieldTemplate, onChange: next => onChange(next.formData), onError: newErrors => onError(_.map(newErrors, error => error.stack)), onSubmit: onSubmit, schema: schema, \n                // Don't show the react-jsonschema-form error list at top\n                showErrorList: false, uiSchema: _.defaultsDeep({}, K8S_UI_SCHEMA, uiSchema), widgets: Object.assign(Object.assign({}, defaultWidgets), widgets) },\n                errors.length > 0 && React.createElement(ErrorTemplate, { errors: errors }),\n                React.createElement(\"div\", { style: { paddingBottom: '30px' } },\n                    React.createElement(ActionGroup, { className: \"pf-c-form\" },\n                        React.createElement(Button, { type: \"submit\", variant: \"primary\" }, \"Create\"),\n                        React.createElement(Button, { onClick: history.goBack, variant: \"secondary\" }, \"Cancel\")))))));\n};\nexport * from './types';\nexport * from './const';\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/index.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as _ from 'lodash';\nimport * as React from 'react';\nimport Form, { FormProps } from 'react-jsonschema-form';\nimport { Accordion, ActionGroup, Button, Alert } from '@patternfly/react-core';\nimport { history } from '@console/internal/components/utils';\nimport defaultWidgets from './widgets';\nimport defaultFields from './fields';\nimport { FieldTemplate as DefaultFieldTemplate, ObjectFieldTemplate as DefaultObjectFieldTemplate, ArrayFieldTemplate as DefaultArrayFieldTemplate, ErrorTemplate as DefaultErrorTemplate } from './templates';\nimport { K8S_UI_SCHEMA } from './const';\nimport { getSchemaErrors } from './utils';\nimport './styles.scss';\n\nexport const DynamicForm: React.FC<DynamicFormProps> = ({ ArrayFieldTemplate = DefaultArrayFieldTemplate, errors = [], ErrorTemplate = DefaultErrorTemplate, fields = {}, FieldTemplate = DefaultFieldTemplate, formContext, formData = {}, noValidate = false, ObjectFieldTemplate = DefaultObjectFieldTemplate, onChange = _.noop, onError = _.noop, onSubmit = _.noop, schema, uiSchema = {}, widgets = {} }) => {\n  const schemaErrors = getSchemaErrors(schema);\n  // IF the top level schema is unsupported, don't render a form at all.\n  if (schemaErrors.length) {\n    // eslint-disable-next-line no-console\n    console.warn('A form could not be generated for this resource.', schemaErrors);\n    return <Alert isInline className=\"co-alert co-break-word\" variant=\"info\" title={'A form is not available for this resource. Please use the YAML View.'} />;\n  }\n  return (\n    <>\n      <Alert isInline className=\"co-alert co-break-word\" variant=\"info\" title={'Note: Some fields may not be represented in this form. Please select \"YAML View\" for full control of object creation.'} />\n      <Accordion asDefinitionList={false} className=\"co-dynamic-form__accordion\">\n        <Form\n          className=\"co-dynamic-form\"\n          // liveValidate={true}\n          noValidate\n          ArrayFieldTemplate={ArrayFieldTemplate}\n          fields={{ ...defaultFields, ...fields }}\n          FieldTemplate={FieldTemplate}\n          formContext={{ ...formContext, formData }}\n          formData={formData}\n          noHtml5Validate\n          ObjectFieldTemplate={ObjectFieldTemplate}\n          onChange={next => onChange(next.formData)}\n          onError={newErrors => onError(_.map(newErrors, error => error.stack))}\n          onSubmit={onSubmit}\n          schema={schema}\n          // Don't show the react-jsonschema-form error list at top\n          showErrorList={false}\n          uiSchema={_.defaultsDeep({}, K8S_UI_SCHEMA, uiSchema)}\n          widgets={{ ...defaultWidgets, ...widgets }}\n        >\n          {errors.length > 0 && <ErrorTemplate errors={errors} />}\n          <div style={{ paddingBottom: '30px' }}>\n            <ActionGroup className=\"pf-c-form\">\n              <Button type=\"submit\" variant=\"primary\">\n                Create\n              </Button>\n              <Button onClick={history.goBack} variant=\"secondary\">\n                Cancel\n              </Button>\n            </ActionGroup>\n          </div>\n        </Form>\n      </Accordion>\n    </>\n  );\n};\n\ntype DynamicFormProps = FormProps<any> & {\n  errors?: string[];\n  ErrorTemplate?: React.FC<{ errors: string[] }>;\n};\n\nexport * from './types';\nexport * from './const';\n"]}]}