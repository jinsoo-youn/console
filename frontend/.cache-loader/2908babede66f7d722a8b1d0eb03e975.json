{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/members.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/members.tsx","mtime":1615298458730},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as _ from \"lodash\";\nimport * as React from \"react\";\nimport * as classNames from 'classnames';\nimport { Button } from '@patternfly/react-core';\nimport { EmptyBox, PageHeading, SectionHeading, } from '../utils';\nimport { Table, TableHeader, TableBody, sortable, SortByDirection } from '@patternfly/react-table';\nimport { getId } from '../../hypercloud/auth';\nconst getRowUserData = (users) => {\n    const data = [];\n    _.forEach(users, (role, name) => {\n        data.push([name, role]);\n    });\n    return data;\n};\nconst UsersTableHeader = [\n    {\n        title: 'Name',\n        transforms: [sortable],\n    },\n    {\n        title: 'Role',\n        transforms: [sortable],\n    },\n];\nconst getRowUserGroupData = (userGroups) => {\n    const data = [];\n    _.forEach(userGroups, (role, name) => {\n        data.push([name, role]);\n    });\n    return data;\n};\nconst UserGroupsTableHeader = [\n    {\n        title: 'Name',\n        transforms: [sortable],\n    },\n    {\n        title: 'Role',\n        transforms: [sortable],\n    },\n];\nexport const UsersTable = (props) => {\n    const { clusterName, isOwner, users, heading } = props;\n    const [rows, setRows] = React.useState(getRowUserData(users));\n    const [sortBy, setSortBy] = React.useState({ index: 0, direction: SortByDirection.asc });\n    React.useEffect(() => {\n        setRows(getRowUserData(users));\n    }, [users]);\n    const onSort = (_event, index, direction) => {\n        const sortedRows = rows.sort((a, b) => {\n            const compA = typeof a[index] === 'string' ? a[index].toLowerCase() : a[index], compB = typeof b[index] === 'string' ? b[index].toLowerCase() : b[index];\n            return compA < compB ? -1 : compA > compB ? 1 : 0;\n        });\n        setSortBy({\n            index,\n            direction\n        });\n        setRows(direction === SortByDirection.asc ? sortedRows : sortedRows.reverse());\n    };\n    const userActions = [\n        {\n            title: 'Update User',\n            onClick: (event, rowId, rowData, extra) => {\n                inviteMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'User', member: rowData[0], role: rowData[1], requestType: 'update' });\n            }\n        },\n        {\n            title: 'Delete User',\n            onClick: (event, rowId, rowData, extra) => {\n                console.log('clicked on Some action, on row: ', rowId);\n                removeMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'User', member: rowData[0] });\n            }\n        }\n    ];\n    return (React.createElement(\"div\", { className: \"hc-members__users\" },\n        heading && React.createElement(SectionHeading, { text: heading }),\n        _.isEmpty(rows) ? (React.createElement(EmptyBox, { label: \"Users\" })) : (React.createElement(Table, { \"aria-label\": \"Users\", sortBy: sortBy, onSort: onSort, cells: UsersTableHeader, rows: rows, actions: isOwner && userActions },\n            React.createElement(TableHeader, null),\n            React.createElement(TableBody, null)))));\n};\nexport const UserGroupsTable = (props) => {\n    const { clusterName, isOwner, groups, heading } = props;\n    const data = getRowUserGroupData(groups);\n    const [rows, setRows] = React.useState(data);\n    const [sortBy, setSortBy] = React.useState({ index: 0, direction: SortByDirection.asc });\n    React.useEffect(() => {\n        setRows(getRowUserGroupData(groups));\n    }, [groups]);\n    const onSort = (_event, index, direction) => {\n        const sortedRows = rows.sort((a, b) => {\n            const compA = typeof a[index] === 'string' ? a[index].toLowerCase() : a[index], compB = typeof b[index] === 'string' ? b[index].toLowerCase() : b[index];\n            return compA < compB ? -1 : compA > compB ? 1 : 0;\n        });\n        setSortBy({\n            index,\n            direction\n        });\n        setRows(direction === SortByDirection.asc ? sortedRows : sortedRows.reverse());\n    };\n    const userGroupActions = [\n        {\n            title: 'Update User Group',\n            onClick: (event, rowId, rowData, extra) => {\n                inviteMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'Group', member: rowData[0], role: rowData[1], requestType: 'update' });\n            }\n        },\n        {\n            title: 'Delete User Group',\n            onClick: (event, rowId, rowData, extra) => {\n                removeMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'Group', member: rowData[0] });\n            }\n        }\n    ];\n    return (React.createElement(\"div\", { className: \"hc-members__user-groups\" },\n        heading && React.createElement(SectionHeading, { text: heading }),\n        _.isEmpty(data) ? (React.createElement(EmptyBox, { label: \"UserGroups\" })) : (React.createElement(Table, { \"aria-label\": \"UserGroups\", sortBy: sortBy, onSort: onSort, cells: UserGroupsTableHeader, rows: rows, actions: isOwner && userGroupActions },\n            React.createElement(TableHeader, null),\n            React.createElement(TableBody, null)))));\n};\nexport const inviteMemberModal = (props) => import('./modals/invite-member-modal' /* webpackChunkName: \"members-modal\" */).then((m) => m.inviteMemberModal(props));\nexport const removeMemberModal = (props) => import('./modals/remove-member-modal' /* webpackChunkName: \"remove-member-modal\" */).then((m) => m.removeMemberModal(props));\nexport const MembersPage = (props) => {\n    const isOwner = Object.keys(props.resource.status.owner)[0] === getId();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(PageHeading, { title: props.title, className: classNames('co-m-nav-title--row') }, isOwner &&\n            React.createElement(\"div\", { className: \"co-m-primary-action\" },\n                React.createElement(Button, { variant: \"primary\", id: \"yaml-create\", onClick: () => inviteMemberModal({ clusterName: props.resource.metadata.name, modalClassName: 'modal-lg' }) }, \"Invite Member\"))),\n        React.createElement(\"div\", { className: \"hc-members__body\" },\n            React.createElement(UsersTable, { clusterName: props.resource.metadata.name, isOwner: isOwner, users: props.resource.status.members, heading: props.userHeading }),\n            React.createElement(UserGroupsTable, { clusterName: props.resource.metadata.name, isOwner: isOwner, groups: props.resource.status.groups, heading: props.userGroupHeading }))));\n};\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/members.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/members.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as _ from \"lodash\";\nimport * as React from \"react\";\nimport * as classNames from 'classnames';\nimport { Button } from '@patternfly/react-core';\nimport { EmptyBox, PageHeading, SectionHeading, } from '../utils';\nimport { Table, TableHeader, TableBody, sortable, SortByDirection } from '@patternfly/react-table';\nimport { getId } from '../../hypercloud/auth';\n\nconst getRowUserData = (users): RowUserData[] => {\n  const data: RowUserData[] = [];\n\n  _.forEach(users, (role, name) => {\n    data.push([name, role]);\n  });\n  return data;\n};\n\nconst UsersTableHeader = [\n  {\n    title: 'Name',\n    transforms: [sortable],\n  },\n  {\n    title: 'Role',\n    transforms: [sortable],\n  },\n];\n\nconst getRowUserGroupData = (userGroups): RowUserGroupData[] => {\n  const data: RowUserGroupData[] = [];\n\n  _.forEach(userGroups, (role, name) => {\n    data.push([name, role]);\n  });\n  return data;\n};\n\nconst UserGroupsTableHeader = [\n  {\n    title: 'Name',\n    transforms: [sortable],\n  },\n  {\n    title: 'Role',\n    transforms: [sortable],\n  },\n];\n\nexport const UsersTable = (props) => {\n  const { clusterName, isOwner, users, heading } = props;\n\n  const [rows, setRows] = React.useState(getRowUserData(users));\n  const [sortBy, setSortBy] = React.useState({ index: 0, direction: SortByDirection.asc });\n\n  React.useEffect(() => {\n    setRows(getRowUserData(users));\n  }, [users]);\n\n  const onSort = (_event, index, direction) => {\n    const sortedRows = rows.sort((a, b) => {\n      const compA = typeof a[index] === 'string' ? (a[index] as string).toLowerCase() : a[index],\n        compB = typeof b[index] === 'string' ? (b[index] as string).toLowerCase() : b[index];\n      return compA < compB ? -1 : compA > compB ? 1 : 0;\n    });\n\n    setSortBy({\n      index,\n      direction\n    });\n    setRows(direction === SortByDirection.asc ? sortedRows : sortedRows.reverse());\n\n  };\n\n  const userActions = [\n    {\n      title: 'Update User',\n      onClick: (event, rowId, rowData, extra) => {\n        inviteMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'User', member: rowData[0], role: rowData[1], requestType: 'update' })\n      }\n    },\n    {\n      title: 'Delete User',\n      onClick: (event, rowId, rowData, extra) => {\n        console.log('clicked on Some action, on row: ', rowId)\n        removeMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'User', member: rowData[0] })\n      }\n    }\n  ]\n\n  return (\n    <div className=\"hc-members__users\">\n      {heading && <SectionHeading text={heading} />}\n      {_.isEmpty(rows) ? (\n        <EmptyBox label=\"Users\" />\n      ) : (\n          <Table aria-label=\"Users\" sortBy={sortBy} onSort={onSort} cells={UsersTableHeader} rows={rows} actions={isOwner && userActions}>\n            <TableHeader />\n            <TableBody />\n          </Table>\n        )}\n    </div>\n  );\n};\n\nexport const UserGroupsTable = (props) => {\n  const { clusterName, isOwner, groups, heading } = props;\n  const data: RowUserGroupData[] = getRowUserGroupData(groups);\n\n  const [rows, setRows] = React.useState(data);\n  const [sortBy, setSortBy] = React.useState({ index: 0, direction: SortByDirection.asc });\n\n  React.useEffect(() => {\n    setRows(getRowUserGroupData(groups));\n  }, [groups]);\n\n  const onSort = (_event, index, direction) => {\n    const sortedRows = rows.sort((a, b) => {\n      const compA = typeof a[index] === 'string' ? (a[index] as string).toLowerCase() : a[index],\n        compB = typeof b[index] === 'string' ? (b[index] as string).toLowerCase() : b[index];\n      return compA < compB ? -1 : compA > compB ? 1 : 0;\n    });\n\n    setSortBy({\n      index,\n      direction\n    });\n    setRows(direction === SortByDirection.asc ? sortedRows : sortedRows.reverse());\n\n  };\n\n  const userGroupActions = [\n    {\n      title: 'Update User Group',\n      onClick: (event, rowId, rowData, extra) => {\n        inviteMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'Group', member: rowData[0], role: rowData[1], requestType: 'update' })\n      }\n    },\n    {\n      title: 'Delete User Group',\n      onClick: (event, rowId, rowData, extra) => {\n        removeMemberModal({ clusterName, modalClassName: 'modal-lg', type: 'Group', member: rowData[0] })\n      }\n    }\n  ]\n\n  return (\n    <div className=\"hc-members__user-groups\">\n      {heading && <SectionHeading text={heading} />}\n      {_.isEmpty(data) ? (\n        <EmptyBox label=\"UserGroups\" />\n      ) : (\n          <Table aria-label=\"UserGroups\" sortBy={sortBy} onSort={onSort} cells={UserGroupsTableHeader} rows={rows} actions={isOwner && userGroupActions}>\n            <TableHeader />\n            <TableBody />\n          </Table>\n        )}\n    </div>\n  );\n};\n\nexport const inviteMemberModal = (props) =>\n  import('./modals/invite-member-modal' /* webpackChunkName: \"members-modal\" */).then((m) => m.inviteMemberModal(props));\n\nexport const removeMemberModal = (props) =>\n  import('./modals/remove-member-modal' /* webpackChunkName: \"remove-member-modal\" */).then((m) => m.removeMemberModal(props));\n\nexport const MembersPage = (props) => {\n  const isOwner = Object.keys(props.resource.status.owner)[0] === getId();\n  return (\n    <>\n      <PageHeading title={props.title} className={classNames('co-m-nav-title--row')}>\n        {isOwner &&\n          <div className=\"co-m-primary-action\">\n            <Button variant=\"primary\" id=\"yaml-create\" onClick={() => inviteMemberModal({ clusterName: props.resource.metadata.name, modalClassName: 'modal-lg' })}>\n              Invite Member\n          </Button>\n          </div>}\n      </PageHeading>\n      <div className=\"hc-members__body\">\n        <UsersTable clusterName={props.resource.metadata.name} isOwner={isOwner} users={props.resource.status.members} heading={props.userHeading} />\n        <UserGroupsTable clusterName={props.resource.metadata.name} isOwner={isOwner} groups={props.resource.status.groups} heading={props.userGroupHeading} />\n      </div>\n    </>\n  );\n}\n\nexport type RowUserData = [string, string];\n\nexport type RowUserGroupData = [string, string];\n"]}]}