{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/widgets.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/widgets.tsx","mtime":1615298458600},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as _ from 'lodash';\nimport * as React from 'react';\nimport { Checkbox } from '@patternfly/react-core';\nimport { NumberSpinner, ListDropdown, Dropdown } from '@console/internal/components/utils';\nimport { ImagePullPolicy } from '@console/internal/module/k8s';\nimport { RadioGroup } from '@console/internal/components/radio';\nimport { JSON_SCHEMA_NUMBER_TYPES } from './const';\nimport { getSchemaType } from 'react-jsonschema-form/lib/utils';\nexport const TextWidget = props => {\n    const { disabled = false, id, onBlur, onChange, onFocus, readonly = false, required = false, schema = {}, value = '' } = props;\n    const schemaType = getSchemaType(schema);\n    return JSON_SCHEMA_NUMBER_TYPES.includes(schemaType) ? React.createElement(NumberWidget, Object.assign({}, props)) : React.createElement(\"input\", { className: \"pf-c-form-control\", disabled: disabled, id: id, key: id, onBlur: onBlur && (event => onBlur(id, event.target.value)), onChange: ({ currentTarget }) => onChange(currentTarget.value), onFocus: onFocus && (event => onFocus(id, event.target.value)), readOnly: readonly, required: required, type: \"text\", value: value });\n};\nexport const NumberWidget = ({ value, id, onChange }) => {\n    const numberValue = _.toNumber(value);\n    return React.createElement(\"input\", { className: \"pf-c-form-control\", id: id, key: id, onChange: ({ currentTarget }) => onChange(currentTarget.value !== '' ? _.toNumber(currentTarget.value) : ''), type: \"number\", value: _.isFinite(numberValue) ? numberValue : '' });\n};\nexport const PasswordWidget = ({ value = '', id, onChange }) => {\n    return React.createElement(\"input\", { className: \"pf-c-form-control\", key: id, id: id, type: \"password\", onChange: ({ currentTarget }) => onChange(currentTarget.value), value: value });\n};\nexport const CheckboxWidget = ({ value = false, id, label, onChange, required }) => {\n    return React.createElement(Checkbox, { id: id, key: id, isChecked: value, label: label, required: required, onChange: checked => onChange(checked) });\n};\nexport const PodCountWidget = ({ value, id, onChange }) => {\n    return React.createElement(NumberSpinner, { id: id, className: \"pf-c-form-control\", value: value, onChange: ({ currentTarget }) => onChange(_.toInteger(currentTarget.value)), changeValueBy: operation => onChange(_.toInteger(value) + operation), autoFocus: true, required: true });\n};\nexport const K8sResourceWidget = ({ value, id, label, options, formContext, onChange }) => {\n    const { model, groupVersionKind } = options;\n    const { namespace } = formContext;\n    const selectedKey = value ? `${value}-${model.kind}` : null;\n    return React.createElement(\"div\", null, !_.isUndefined(model) ? React.createElement(ListDropdown, { key: id, id: id, resources: [{ kind: groupVersionKind, namespace: model.namespaced ? namespace : null }], desc: label, placeholder: `Select ${model.label}`, onChange: next => onChange(next), selectedKey: selectedKey }) : React.createElement(\"span\", null,\n        \"Cluster does not have resource \",\n        groupVersionKind));\n};\nexport const ImagePullPolicyWidget = ({ id, value, onChange }) => {\n    return (React.createElement(RadioGroup, { id: id, currentValue: value, items: _.values(ImagePullPolicy).map(policy => ({\n            value: policy,\n            title: policy,\n        })), onChange: ({ currentTarget }) => onChange(currentTarget.value) }));\n};\nexport const SelectWidget = ({ id, label, onChange, options, schema, value }) => {\n    const { enumOptions = [], title } = options;\n    const items = _.reduce(enumOptions, (itemAccumulator, option) => {\n        return Object.assign(Object.assign({}, itemAccumulator), { [option.label]: option.value });\n    }, {});\n    return React.createElement(Dropdown, { id: id, key: id, title: `Select ${title || (schema === null || schema === void 0 ? void 0 : schema.title) || label}`, selectedKey: value, items: items, onChange: val => onChange(val) });\n};\nexport default {\n    BaseInput: TextWidget,\n    CheckboxWidget,\n    ImagePullPolicyWidget,\n    K8sResourceWidget,\n    NumberWidget,\n    PasswordWidget,\n    PodCountWidget,\n    SelectWidget,\n    TextWidget,\n    int32: NumberWidget,\n    int64: NumberWidget,\n};\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/widgets.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/console-shared/src/components/dynamic-form/widgets.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as _ from 'lodash';\nimport * as React from 'react';\nimport { Checkbox } from '@patternfly/react-core';\nimport { WidgetProps } from 'react-jsonschema-form';\nimport { NumberSpinner, ListDropdown, Dropdown } from '@console/internal/components/utils';\nimport { K8sKind, GroupVersionKind, ImagePullPolicy } from '@console/internal/module/k8s';\nimport { RadioGroup } from '@console/internal/components/radio';\nimport { JSON_SCHEMA_NUMBER_TYPES } from './const';\nimport { getSchemaType } from 'react-jsonschema-form/lib/utils';\n\nexport const TextWidget: React.FC<WidgetProps> = props => {\n  const { disabled = false, id, onBlur, onChange, onFocus, readonly = false, required = false, schema = {}, value = '' } = props;\n  const schemaType = getSchemaType(schema);\n  return JSON_SCHEMA_NUMBER_TYPES.includes(schemaType) ? <NumberWidget {...props} /> : <input className=\"pf-c-form-control\" disabled={disabled} id={id} key={id} onBlur={onBlur && (event => onBlur(id, event.target.value))} onChange={({ currentTarget }) => onChange(currentTarget.value)} onFocus={onFocus && (event => onFocus(id, event.target.value))} readOnly={readonly} required={required} type=\"text\" value={value} />;\n};\n\nexport const NumberWidget: React.FC<WidgetProps> = ({ value, id, onChange }) => {\n  const numberValue = _.toNumber(value);\n  return <input className=\"pf-c-form-control\" id={id} key={id} onChange={({ currentTarget }) => onChange(currentTarget.value !== '' ? _.toNumber(currentTarget.value) : '')} type=\"number\" value={_.isFinite(numberValue) ? numberValue : ''} />;\n};\n\nexport const PasswordWidget: React.FC<WidgetProps> = ({ value = '', id, onChange }) => {\n  return <input className=\"pf-c-form-control\" key={id} id={id} type=\"password\" onChange={({ currentTarget }) => onChange(currentTarget.value)} value={value} />;\n};\n\nexport const CheckboxWidget: React.FC<WidgetProps> = ({ value = false, id, label, onChange, required }) => {\n  return <Checkbox id={id} key={id} isChecked={value} label={label} required={required} onChange={checked => onChange(checked)} />;\n};\n\nexport const PodCountWidget: React.FC<WidgetProps> = ({ value, id, onChange }) => {\n  return <NumberSpinner id={id} className=\"pf-c-form-control\" value={value} onChange={({ currentTarget }) => onChange(_.toInteger(currentTarget.value))} changeValueBy={operation => onChange(_.toInteger(value) + operation)} autoFocus required />;\n};\n\nexport const K8sResourceWidget: React.FC<K8sResourceWidgetProps> = ({ value, id, label, options, formContext, onChange }) => {\n  const { model, groupVersionKind } = options;\n  const { namespace } = formContext;\n  const selectedKey = value ? `${value}-${model.kind}` : null;\n\n  return <div>{!_.isUndefined(model) ? <ListDropdown key={id} id={id} resources={[{ kind: groupVersionKind, namespace: model.namespaced ? namespace : null }]} desc={label} placeholder={`Select ${model.label}`} onChange={next => onChange(next)} selectedKey={selectedKey} /> : <span>Cluster does not have resource {groupVersionKind}</span>}</div>;\n};\n\nexport const ImagePullPolicyWidget: React.FC<WidgetProps> = ({ id, value, onChange }) => {\n  return (\n    <RadioGroup\n      id={id}\n      currentValue={value}\n      items={_.values(ImagePullPolicy).map(policy => ({\n        value: policy,\n        title: policy,\n      }))}\n      onChange={({ currentTarget }) => onChange(currentTarget.value)}\n    />\n  );\n};\n\nexport const SelectWidget: React.FC<WidgetProps> = ({ id, label, onChange, options, schema, value }) => {\n  const { enumOptions = [], title } = options;\n  const items = _.reduce(\n    enumOptions as OptionsList,\n    (itemAccumulator, option) => {\n      return {\n        ...itemAccumulator,\n        [option.label]: option.value,\n      };\n    },\n    {},\n  );\n  return <Dropdown id={id} key={id} title={`Select ${title || schema?.title || label}`} selectedKey={value} items={items} onChange={val => onChange(val)} />;\n};\n\ntype OptionsList = {\n  label: string;\n  value: string;\n}[];\n\ntype K8sResourceWidgetProps = WidgetProps & {\n  options: {\n    model: K8sKind;\n    groupVersionKind: GroupVersionKind;\n  };\n};\n\nexport default {\n  BaseInput: TextWidget,\n  CheckboxWidget,\n  ImagePullPolicyWidget,\n  K8sResourceWidget,\n  NumberWidget,\n  PasswordWidget,\n  PodCountWidget,\n  SelectWidget,\n  TextWidget,\n  int32: NumberWidget,\n  int64: NumberWidget,\n};\n"]}]}