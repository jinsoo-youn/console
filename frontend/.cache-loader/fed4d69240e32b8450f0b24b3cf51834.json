{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/modals/storage-class-dropdown.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/modals/storage-class-dropdown.tsx","mtime":1616735742370},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as React from 'react';\nimport * as _ from 'lodash';\nimport { Firehose } from '@console/internal/components/utils';\nimport { StorageClassDropdownInner } from '@console/internal/components/utils/storage-class-dropdown';\nimport './storage-class-dropdown.scss';\nconst ocsProvisioners = [\n    'ceph.rook.io/block',\n    'cephfs.csi.ceph.com',\n    'rbd.csi.ceph.com',\n    'noobaa.io/obc',\n];\nconst StorageClassDropdown = (props) => {\n    const scConfig = _.cloneDeep(props);\n    /* 'S' of Storage should be Capital as its defined key in resources object */\n    const scLoaded = _.get(scConfig.resources.StorageClass, 'loaded');\n    const scData = _.get(scConfig.resources.StorageClass, 'data', []);\n    const filteredSCData = scData.filter((sc) => ocsProvisioners.every((provisioner) => { var _a; return !((_a = sc === null || sc === void 0 ? void 0 : sc.provisioner) === null || _a === void 0 ? void 0 : _a.includes(provisioner)); }));\n    if (scLoaded) {\n        scConfig.resources.StorageClass.data = filteredSCData;\n    }\n    return React.createElement(StorageClassDropdownInner, Object.assign({}, scConfig, { id: \"ceph-sc-dropdown\" }));\n};\nexport const OCSStorageClassDropdown = (props) => {\n    const { onChange, defaultClass } = props;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Firehose, { resources: [{ kind: 'StorageClass', prop: 'StorageClass', isList: true }] },\n            React.createElement(StorageClassDropdown, { onChange: onChange, name: \"storageClass\", defaultClass: defaultClass, hideClassName: \"ceph-sc-dropdown__hide-default\", required: true }))));\n};\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/modals/storage-class-dropdown.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/modals/storage-class-dropdown.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,KAAK,CAAC,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,QAAQ,EAAE,MAAM,oCAAoC,CAAC;AAE9D,OAAO,EAAE,yBAAyB,EAAE,MAAM,2DAA2D,CAAC;AACtG,OAAO,+BAA+B,CAAC;AAEvC,MAAM,eAAe,GAAG;IACtB,oBAAoB;IACpB,qBAAqB;IACrB,kBAAkB;IAClB,eAAe;CAChB,CAAC;AAEF,MAAM,oBAAoB,GAAG,CAAC,KAAU,EAAE,EAAE;IAC1C,MAAM,QAAQ,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACpC,6EAA6E;IAC7E,MAAM,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;IAClE,MAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,YAAY,EAAE,MAAM,EAAE,EAAE,CAA+B,CAAC;IAEhG,MAAM,cAAc,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAA4B,EAAE,EAAE,CACpE,eAAe,CAAC,KAAK,CAAC,CAAC,WAAmB,EAAE,EAAE,WAAC,OAAA,QAAC,EAAE,aAAF,EAAE,uBAAF,EAAE,CAAE,WAAW,0CAAE,QAAQ,CAAC,WAAW,EAAC,CAAA,EAAA,CAAC,CACxF,CAAC;IAEF,IAAI,QAAQ,EAAE;QACZ,QAAQ,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,GAAG,cAAc,CAAC;KACvD;IAED,OAAO,oBAAC,yBAAyB,oBAAK,QAAQ,IAAE,EAAE,EAAC,kBAAkB,IAAG,CAAC;AAC3E,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,uBAAuB,GAA2C,CAAC,KAAK,EAAE,EAAE;IACvF,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,KAAK,CAAC;IAEzC,OAAO,CACL;QACE,oBAAC,QAAQ,IAAC,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,cAAc,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;YACjF,oBAAC,oBAAoB,IACnB,QAAQ,EAAE,QAAQ,EAClB,IAAI,EAAC,cAAc,EACnB,YAAY,EAAE,YAAY,EAC1B,aAAa,EAAC,gCAAgC,EAC9C,QAAQ,SACR,CACO,CACV,CACJ,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import * as React from 'react';\nimport * as _ from 'lodash';\nimport { Firehose } from '@console/internal/components/utils';\nimport { StorageClassResourceKind } from '@console/internal/module/k8s';\nimport { StorageClassDropdownInner } from '@console/internal/components/utils/storage-class-dropdown';\nimport './storage-class-dropdown.scss';\n\nconst ocsProvisioners = [\n  'ceph.rook.io/block',\n  'cephfs.csi.ceph.com',\n  'rbd.csi.ceph.com',\n  'noobaa.io/obc',\n];\n\nconst StorageClassDropdown = (props: any) => {\n  const scConfig = _.cloneDeep(props);\n  /* 'S' of Storage should be Capital as its defined key in resources object */\n  const scLoaded = _.get(scConfig.resources.StorageClass, 'loaded');\n  const scData = _.get(scConfig.resources.StorageClass, 'data', []) as StorageClassResourceKind[];\n\n  const filteredSCData = scData.filter((sc: StorageClassResourceKind) =>\n    ocsProvisioners.every((provisioner: string) => !sc?.provisioner?.includes(provisioner)),\n  );\n\n  if (scLoaded) {\n    scConfig.resources.StorageClass.data = filteredSCData;\n  }\n\n  return <StorageClassDropdownInner {...scConfig} id=\"ceph-sc-dropdown\" />;\n};\n\nexport const OCSStorageClassDropdown: React.FC<OCSStorageClassDropdownProps> = (props) => {\n  const { onChange, defaultClass } = props;\n\n  return (\n    <>\n      <Firehose resources={[{ kind: 'StorageClass', prop: 'StorageClass', isList: true }]}>\n        <StorageClassDropdown\n          onChange={onChange}\n          name=\"storageClass\"\n          defaultClass={defaultClass}\n          hideClassName=\"ceph-sc-dropdown__hide-default\"\n          required\n        />\n      </Firehose>\n    </>\n  );\n};\n\ntype OCSStorageClassDropdownProps = {\n  onChange: (sc: StorageClassResourceKind) => void;\n  defaultClass?: string;\n};\n"]}]}