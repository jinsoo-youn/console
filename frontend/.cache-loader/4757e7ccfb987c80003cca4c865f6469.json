{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/modals/add-users-modal.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/modals/add-users-modal.tsx","mtime":1615298458740},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as _ from 'lodash-es';\nimport * as React from 'react';\nimport { GroupModel } from '../../models';\nimport { k8sPatch } from '../../module/k8s';\nimport { ModalBody, ModalSubmitFooter, ModalTitle, createModalLauncher, } from '../factory/modal';\nimport { ListInput, withHandlePromise } from '../utils';\nexport const AddUsersModal = withHandlePromise((props) => {\n    const [values, setValues] = React.useState(['']);\n    const submit = (e) => {\n        e.preventDefault();\n        // Append to an existing array, but handle the special case when the array is null.\n        const patch = props.group.users\n            ? _.map(values, (value) => ({ op: 'add', path: '/users/-', value }))\n            : [{ op: 'add', path: '/users', value: values }];\n        return props.handlePromise(k8sPatch(GroupModel, props.group, patch)).then(props.close);\n    };\n    return (React.createElement(\"form\", { onSubmit: submit, name: \"form\", className: \"modal-content \" },\n        React.createElement(ModalTitle, null, \"Add Users\"),\n        React.createElement(ModalBody, null,\n            React.createElement(\"p\", null,\n                \"Add new users to group \",\n                props.group.metadata.name,\n                \".\"),\n            React.createElement(ListInput, { label: \"Users\", required: true, initialValues: values, onChange: setValues })),\n        React.createElement(ModalSubmitFooter, { errorMessage: props.errorMessage, inProgress: props.inProgress, submitText: \"Save\", cancel: props.cancel })));\n});\nexport const addUsersModal = createModalLauncher(AddUsersModal);\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/modals/add-users-modal.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/modals/add-users-modal.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,CAAC,MAAM,WAAW,CAAC;AAC/B,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAa,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AACvD,OAAO,EACL,SAAS,EAET,iBAAiB,EACjB,UAAU,EACV,mBAAmB,GACpB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,SAAS,EAAsB,iBAAiB,EAAE,MAAM,UAAU,CAAC;AAE5E,MAAM,CAAC,MAAM,aAAa,GAAG,iBAAiB,CAAC,CAAC,KAAyB,EAAE,EAAE;IAC3E,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAEjD,MAAM,MAAM,GAA4C,CAAC,CAAC,EAAE,EAAE;QAC5D,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,mFAAmF;QACnF,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK;YAC7B,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,KAAa,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;YAC5E,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC;QACnD,OAAO,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACzF,CAAC,CAAC;IAEF,OAAO,CACL,8BAAM,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAC,MAAM,EAAC,SAAS,EAAC,gBAAgB;QAC5D,oBAAC,UAAU,oBAAuB;QAClC,oBAAC,SAAS;YACR;;gBAA2B,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI;oBAAM;YAC1D,oBAAC,SAAS,IAAC,KAAK,EAAC,OAAO,EAAC,QAAQ,QAAC,aAAa,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,GAAI,CACtE;QACZ,oBAAC,iBAAiB,IAChB,YAAY,EAAE,KAAK,CAAC,YAAY,EAChC,UAAU,EAAE,KAAK,CAAC,UAAU,EAC5B,UAAU,EAAC,MAAM,EACjB,MAAM,EAAE,KAAK,CAAC,MAAM,GACpB,CACG,CACR,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,aAAa,GAAG,mBAAmB,CAAC,aAAa,CAAC,CAAC","sourcesContent":["import * as _ from 'lodash-es';\nimport * as React from 'react';\n\nimport { GroupModel } from '../../models';\nimport { GroupKind, k8sPatch } from '../../module/k8s';\nimport {\n  ModalBody,\n  ModalComponentProps,\n  ModalSubmitFooter,\n  ModalTitle,\n  createModalLauncher,\n} from '../factory/modal';\nimport { ListInput, HandlePromiseProps, withHandlePromise } from '../utils';\n\nexport const AddUsersModal = withHandlePromise((props: AddUsersModalProps) => {\n  const [values, setValues] = React.useState(['']);\n\n  const submit: React.FormEventHandler<HTMLFormElement> = (e) => {\n    e.preventDefault();\n    // Append to an existing array, but handle the special case when the array is null.\n    const patch = props.group.users\n      ? _.map(values, (value: string) => ({ op: 'add', path: '/users/-', value }))\n      : [{ op: 'add', path: '/users', value: values }];\n    return props.handlePromise(k8sPatch(GroupModel, props.group, patch)).then(props.close);\n  };\n\n  return (\n    <form onSubmit={submit} name=\"form\" className=\"modal-content \">\n      <ModalTitle>Add Users</ModalTitle>\n      <ModalBody>\n        <p>Add new users to group {props.group.metadata.name}.</p>\n        <ListInput label=\"Users\" required initialValues={values} onChange={setValues} />\n      </ModalBody>\n      <ModalSubmitFooter\n        errorMessage={props.errorMessage}\n        inProgress={props.inProgress}\n        submitText=\"Save\"\n        cancel={props.cancel}\n      />\n    </form>\n  );\n});\n\nexport const addUsersModal = createModalLauncher(AddUsersModal);\n\nexport type AddUsersModalProps = {\n  group: GroupKind;\n} & ModalComponentProps &\n  HandlePromiseProps;\n"]}]}