{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/dev-console/src/components/topology/components/componentFactory.ts","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/dev-console/src/components/topology/components/componentFactory.ts","mtime":1617154808360},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import { ModelKind, withPanZoom, withDragNode, withTargetDrag, withSelection, withDndDrop, withRemoveConnector } from '@console/topology';\nimport { Application } from './groups';\nimport { WorkloadNode } from './nodes';\nimport GraphComponent from './GraphComponent';\nimport { workloadContextMenu, groupContextMenu, graphContextMenu } from './nodeContextMenu';\nimport { graphDropTargetSpec, nodeDragSourceSpec, nodeDropTargetSpec, applicationGroupDropTargetSpec, edgeDragSourceSpec, removeConnectorCallback, MOVE_CONNECTOR_DROP_TYPE, withContextMenu } from './componentUtils';\nimport './ContextMenu.scss';\nimport { TYPE_WORKLOAD, TYPE_CONNECTS_TO, TYPE_APPLICATION_GROUP, TYPE_AGGREGATE_EDGE, TYPE_SERVICE_BINDING, TYPE_TRAFFIC_CONNECTOR } from './const';\nimport { createConnection } from './createConnection';\nimport { withEditReviewAccess } from './withEditReviewAccess';\nimport { AggregateEdge, ConnectsTo, ServiceBinding, TrafficConnector } from './edges';\nimport { AbstractSBRComponentFactory } from './AbstractSBRComponentFactory';\nclass ComponentFactory extends AbstractSBRComponentFactory {\n    constructor() {\n        super(...arguments);\n        this.getFactory = () => {\n            return (kind, type) => {\n                switch (type) {\n                    case TYPE_APPLICATION_GROUP:\n                        return withDndDrop(applicationGroupDropTargetSpec)(withSelection(false, true)(withContextMenu(groupContextMenu)(Application)));\n                    case TYPE_WORKLOAD:\n                        return this.withAddResourceConnector()(withDndDrop(nodeDropTargetSpec)(withEditReviewAccess('patch')(withDragNode(nodeDragSourceSpec(type))(withSelection(false, true)(withContextMenu(workloadContextMenu)(WorkloadNode))))));\n                    case TYPE_CONNECTS_TO:\n                        return withTargetDrag(edgeDragSourceSpec(MOVE_CONNECTOR_DROP_TYPE, this.serviceBinding, createConnection))(withRemoveConnector(removeConnectorCallback)(ConnectsTo));\n                    case TYPE_SERVICE_BINDING:\n                        return withRemoveConnector(removeConnectorCallback)(ServiceBinding);\n                    case TYPE_AGGREGATE_EDGE:\n                        return AggregateEdge;\n                    case TYPE_TRAFFIC_CONNECTOR:\n                        return TrafficConnector;\n                    default:\n                        switch (kind) {\n                            case ModelKind.graph:\n                                return withDndDrop(graphDropTargetSpec)(withPanZoom()(withSelection(false, true)(withContextMenu(graphContextMenu)(GraphComponent))));\n                            default:\n                                return undefined;\n                        }\n                }\n            };\n        };\n    }\n}\nexport { ComponentFactory };\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/dev-console/src/components/topology/components/componentFactory.ts","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/dev-console/src/components/topology/components/componentFactory.ts"],"names":[],"mappings":"AACA,OAAO,EAAgB,SAAS,EAAgD,WAAW,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,WAAW,EAAE,mBAAmB,EAAE,MAAM,mBAAmB,CAAC;AACtM,OAAO,EAAE,WAAW,EAAE,MAAM,UAAU,CAAC;AACvC,OAAO,EAAE,YAAY,EAAE,MAAM,SAAS,CAAC;AACvC,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,MAAM,mBAAmB,CAAC;AAC5F,OAAO,EAAsB,mBAAmB,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,8BAA8B,EAAE,kBAAkB,EAAE,uBAAuB,EAAE,wBAAwB,EAAE,eAAe,EAAE,MAAM,kBAAkB,CAAC;AAC3O,OAAO,oBAAoB,CAAC;AAC5B,OAAO,EAAE,aAAa,EAAE,gBAAgB,EAAE,sBAAsB,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,sBAAsB,EAAE,MAAM,SAAS,CAAC;AACrJ,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AAC9D,OAAO,EAAE,aAAa,EAAE,UAAU,EAAE,cAAc,EAAE,gBAAgB,EAAE,MAAM,SAAS,CAAC;AACtF,OAAO,EAAE,2BAA2B,EAAE,MAAM,+BAA+B,CAAC;AAE5E,MAAM,gBAAiB,SAAQ,2BAA2B;IAA1D;;QACE,eAAU,GAAG,GAA6B,EAAE;YAC1C,OAAO,CAAC,IAAI,EAAE,IAAI,EAA8D,EAAE;gBAChF,QAAQ,IAAI,EAAE;oBACZ,KAAK,sBAAsB;wBACzB,OAAO,WAAW,CAAC,8BAA8B,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACjI,KAAK,aAAa;wBAChB,OAAO,IAAI,CAAC,wBAAwB,EAAE,CAAC,WAAW,CAA4F,kBAAkB,CAAC,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5T,KAAK,gBAAgB;wBACnB,OAAO,cAAc,CAAC,kBAAkB,CAAC,wBAAwB,EAAE,IAAI,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC,CAAC,mBAAmB,CAAC,uBAAuB,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;oBACvK,KAAK,oBAAoB;wBACvB,OAAO,mBAAmB,CAAC,uBAAuB,CAAC,CAAC,cAAc,CAAC,CAAC;oBACtE,KAAK,mBAAmB;wBACtB,OAAO,aAAa,CAAC;oBACvB,KAAK,sBAAsB;wBACzB,OAAO,gBAAgB,CAAC;oBAC1B;wBACE,QAAQ,IAAI,EAAE;4BACZ,KAAK,SAAS,CAAC,KAAK;gCAClB,OAAO,WAAW,CAAC,mBAAmB,CAAC,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;4BACxI;gCACE,OAAO,SAAS,CAAC;yBACpB;iBACJ;YACH,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;CAAA;AAED,OAAO,EAAE,gBAAgB,EAAE,CAAC","sourcesContent":["import * as React from 'react';\nimport { GraphElement, ModelKind, ComponentFactory as TopologyComponentFactory, withPanZoom, withDragNode, withTargetDrag, withSelection, withDndDrop, withRemoveConnector } from '@console/topology';\nimport { Application } from './groups';\nimport { WorkloadNode } from './nodes';\nimport GraphComponent from './GraphComponent';\nimport { workloadContextMenu, groupContextMenu, graphContextMenu } from './nodeContextMenu';\nimport { NodeComponentProps, graphDropTargetSpec, nodeDragSourceSpec, nodeDropTargetSpec, applicationGroupDropTargetSpec, edgeDragSourceSpec, removeConnectorCallback, MOVE_CONNECTOR_DROP_TYPE, withContextMenu } from './componentUtils';\nimport './ContextMenu.scss';\nimport { TYPE_WORKLOAD, TYPE_CONNECTS_TO, TYPE_APPLICATION_GROUP, TYPE_AGGREGATE_EDGE, TYPE_SERVICE_BINDING, TYPE_TRAFFIC_CONNECTOR } from './const';\nimport { createConnection } from './createConnection';\nimport { withEditReviewAccess } from './withEditReviewAccess';\nimport { AggregateEdge, ConnectsTo, ServiceBinding, TrafficConnector } from './edges';\nimport { AbstractSBRComponentFactory } from './AbstractSBRComponentFactory';\n\nclass ComponentFactory extends AbstractSBRComponentFactory {\n  getFactory = (): TopologyComponentFactory => {\n    return (kind, type): React.ComponentType<{ element: GraphElement }> | undefined => {\n      switch (type) {\n        case TYPE_APPLICATION_GROUP:\n          return withDndDrop(applicationGroupDropTargetSpec)(withSelection(false, true)(withContextMenu(groupContextMenu)(Application)));\n        case TYPE_WORKLOAD:\n          return this.withAddResourceConnector()(withDndDrop<any, any, { droppable?: boolean; hover?: boolean; canDrop?: boolean }, NodeComponentProps>(nodeDropTargetSpec)(withEditReviewAccess('patch')(withDragNode(nodeDragSourceSpec(type))(withSelection(false, true)(withContextMenu(workloadContextMenu)(WorkloadNode))))));\n        case TYPE_CONNECTS_TO:\n          return withTargetDrag(edgeDragSourceSpec(MOVE_CONNECTOR_DROP_TYPE, this.serviceBinding, createConnection))(withRemoveConnector(removeConnectorCallback)(ConnectsTo));\n        case TYPE_SERVICE_BINDING:\n          return withRemoveConnector(removeConnectorCallback)(ServiceBinding);\n        case TYPE_AGGREGATE_EDGE:\n          return AggregateEdge;\n        case TYPE_TRAFFIC_CONNECTOR:\n          return TrafficConnector;\n        default:\n          switch (kind) {\n            case ModelKind.graph:\n              return withDndDrop(graphDropTargetSpec)(withPanZoom()(withSelection(false, true)(withContextMenu(graphContextMenu)(GraphComponent))));\n            default:\n              return undefined;\n          }\n      }\n    };\n  };\n}\n\nexport { ComponentFactory };\n"]}]}