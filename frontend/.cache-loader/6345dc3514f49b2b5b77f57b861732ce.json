{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/audit.jsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/audit.jsx","mtime":1615298458730},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { Helmet } from 'react-helmet';\nimport * as classNames from 'classnames';\nimport ReactPaginate from 'react-paginate';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash-es';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { TextFilter } from '../factory';\nimport { Dropdown, Box, Timestamp, PageHeading } from '../utils';\nimport { coFetchJSON } from '../../co-fetch';\nimport { getId, getUserGroup } from '../../hypercloud/auth';\nimport { setQueryArgument, getQueryArgument, removeQueryArgument } from '../utils/router.ts';\nimport { withTranslation } from 'react-i18next';\n// TODO\n// 1. i18n 적용 - 7월 3주차에 나옴\n// 2. date picker 빼기 - 리뷰 후 결정\n// 3. onchange 중복 로직 제거 (코드 리팩토링)\nclass Inner extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            angle: 'down',\n        };\n    }\n    onClickDetail() {\n        this.state.angle === 'down' ? this.setState({ angle: 'up' }) : this.setState({ angle: 'down' });\n    }\n    render() {\n        const { klass, status, verb, objectRef, user, stageTimestamp, responseStatus } = this.props;\n        let timestamp = Date.parse(stageTimestamp);\n        timestamp -= 9 * 60 * 60 * 1000;\n        timestamp = new Date(timestamp).toISOString();\n        return (React.createElement(\"div\", { className: `${klass} slide-${status}`, style: { height: 'fit-content' } },\n            React.createElement(\"div\", { className: \"co-sysevent__icon-box\" },\n                React.createElement(\"i\", { className: \"co-sysevent-icon\", style: { top: '33px' } }),\n                React.createElement(\"div\", { className: \"co-sysevent__icon-line\", style: { top: '33px' } })),\n            React.createElement(\"div\", { className: \"co-sysevent__box\" },\n                React.createElement(\"div\", { className: \"co-sysevent__header\" },\n                    React.createElement(\"div\", { className: \"co-sysevent__subheader\" },\n                        objectRef.Resource,\n                        React.createElement(Timestamp, { timestamp: timestamp })),\n                    React.createElement(\"div\", { className: classNames('co-sysevent__details', {\n                            'co-sysevent__details__alignRight': !user.username,\n                        }) }, user.username)),\n                React.createElement(\"div\", { className: \"co-sysevent__message\", style: { margin: '0', height: 'fit-content' } },\n                    verb,\n                    \", \",\n                    verb,\n                    \" \",\n                    responseStatus.status,\n                    \" with status code : \",\n                    responseStatus.code,\n                    this.state.angle === 'up' && React.createElement(\"p\", { style: { margin: '0' } }, responseStatus.message)))));\n    }\n}\nconst timeout = { enter: 150 };\nclass SysEvent extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const { Verb, ObjectRef, User, ResponseStatus, StageTimestamp } = this.props;\n        const klass = classNames('co-sysevent', { 'co-sysevent--error': this.props.ResponseStatus.code === 400 || this.props.ResponseStatus.code === 500 || this.props.ResponseStatus.status === 'Failure' });\n        // console.log(this.props);\n        const style = {\n            height: 110,\n            left: 0,\n            position: 'absolute',\n            top: this.props.index * 110,\n            width: '100%',\n        };\n        return (React.createElement(\"div\", { style: style },\n            React.createElement(CSSTransition, { mountOnEnter: true, appear: true, in: true, exit: false, timeout: timeout, classNames: \"slide\" }, status => React.createElement(Inner, { klass: klass, status: status, verb: Verb, objectRef: ObjectRef, responseStatus: ResponseStatus, user: User, stageTimestamp: StageTimestamp, width: style.width }))));\n    }\n}\nclass AuditPage_ extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onIconClick = e => {\n            const datePickerElem = e.target.previousElementSibling.firstChild.firstChild;\n            datePickerElem.focus();\n        };\n        let date = new Date();\n        date.setDate(date.getDate() - 7);\n        const { t } = props;\n        this.codeList = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_1'), 100: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_2'), 200: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_3'), 300: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_4'), 400: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_5'), 500: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_6') };\n        this.statuslist = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_1'), Success: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_2'), Failure: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_3') };\n        this.resourcelist = {\n            all: t('SINGLE:MSG_AUDITLOGS_MAIN_RESOURCEFILTER_1'),\n            mutatingwebhookconfigurations: 'mutatingwebhookconfigurations',\n            validatingwebhookconfigurations: 'validatingwebhookconfigurations',\n            customresourcedefinitions: 'customresourcedefinitions',\n            apiservices: 'apiservices',\n            controllerrevisions: 'controllerrevisions',\n            daemonsets: 'daemonsets',\n            deployments: 'deployments',\n            replicasets: 'replicasets',\n            statefulsets: 'statefulsets',\n            meshpolicies: 'meshpolicies',\n            policies: 'policies',\n            horizontalpodautoscalers: 'horizontalpodautoscalers',\n            cronjobs: 'cronjobs',\n            jobs: 'jobs',\n            cdis: 'cdis',\n            cephblockpools: 'cephblockpools',\n            cephclusters: 'cephclusters',\n            cephfilesystems: 'cephfilesystems',\n            cephnfses: 'cephnfses',\n            cephobjectstores: 'cephobjectstores',\n            cephobjectstoreusers: 'cephobjectstoreusers',\n            adapters: 'adapters',\n            attributemanifests: 'attributemanifests',\n            handlers: 'handlers',\n            httpapispecbindings: 'httpapispecbindings',\n            httpapispecs: 'httpapispecs',\n            instances: 'instances',\n            quotaspecbindings: 'quotaspecbindings',\n            quotaspecs: 'quotaspecs',\n            rules: 'rules',\n            templates: 'templates',\n            clustertemplates: 'clustertemplates',\n            ingresses: 'ingresses',\n            kubevirts: 'kubevirts',\n            virtualmachineinstancemigrations: 'virtualmachineinstancemigrations',\n            virtualmachineinstancepresets: 'virtualmachineinstancepresets',\n            virtualmachineinstancereplicasets: 'virtualmachineinstancereplicasets',\n            virtualmachineinstances: 'virtualmachineinstances',\n            virtualmachines: 'virtualmachines',\n            destinationrules: 'destinationrules',\n            envoyfilters: 'envoyfilters',\n            gateways: 'gateways',\n            serviceentries: 'serviceentries',\n            sidecars: 'sidecars',\n            virtualservices: 'virtualservices',\n            poddisruptionbudgets: 'poddisruptionbudgets',\n            podsecuritypolicies: 'podsecuritypolicies',\n            clusterrolebindings: 'clusterrolebindings',\n            clusterroles: 'clusterroles',\n            rolebindings: 'rolebindings',\n            roles: 'roles',\n            clusterrbacconfigs: 'clusterrbacconfigs',\n            rbacconfigs: 'rbacconfigs',\n            servicerolebindings: 'servicerolebindings',\n            serviceroles: 'serviceroles',\n            authorizationpolicies: 'authorizationpolicies',\n            peerauthentications: 'peerauthentications',\n            requestauthentications: 'requestauthentications',\n            clusterservicebrokers: 'clusterservicebrokers',\n            clusterserviceclasses: 'clusterserviceclasses',\n            clusterserviceplans: 'clusterserviceplans',\n            servicebindings: 'servicebindings',\n            servicebrokers: 'servicebrokers',\n            serviceclasses: 'serviceclasses',\n            serviceinstances: 'serviceinstances',\n            serviceplans: 'serviceplans',\n            csidrivers: 'csidrivers',\n            csinodes: 'csinodes',\n            storageclasses: 'storageclasses',\n            volumeattachments: 'volumeattachments',\n            clustertasks: 'clustertasks',\n            conditions: 'conditions',\n            pipelineresources: 'pipelineresources',\n            pipelineruns: 'pipelineruns',\n            pipelines: 'pipelines',\n            taskruns: 'taskruns',\n            tasks: 'tasks',\n            catalogserviceclaims: 'catalogserviceclaims',\n            clients: 'clients',\n            images: 'images',\n            namespaceclaims: 'namespaceclaims',\n            registries: 'registries',\n            resourcequotaclaims: 'resourcequotaclaims',\n            templateinstances: 'templateinstances',\n            tokens: 'tokens',\n            usergroups: 'usergroups',\n            users: 'users',\n            usersecuritypolicies: 'usersecuritypolicies',\n            pods: 'pods',\n        };\n        this.state = {\n            namespace: '',\n            language: this.props.i18n.language,\n            actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') },\n            resourceType: this.resourcelist.all,\n            action: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'),\n            status: this.statuslist.all,\n            code: this.codeList.all,\n            textFilter: '',\n            data: [],\n            start: date,\n            end: new Date(),\n            offset: 0,\n            pages: 0,\n            paginationPos: '215px',\n        };\n        this.onChangeResourceType = e => this.onChangeResourceType_(e);\n        this.onChangeAction = e => this.onChangeAction_(e);\n        this.onChangeStatus = e => this.onChangeStatus_(e);\n        this.onChangeCode = e => this.onChangeCode_(e);\n        this.onChangeStartDate = e => this.onChangeStartDate_(e);\n        this.onChangeEndDate = e => this.onChangeEndDate_(e);\n        this.onChangePage = e => this.onChangePage_(e);\n        this.onSearch = e => this.onSearch_(e);\n    }\n    onChangeResourceType_(e) {\n        const { t } = this.props;\n        if (e !== 'all') {\n            this.setState({ resourceType: e });\n        }\n        else {\n            this.setState({ resourceType: this.resourcelist.all });\n        }\n        this.setState({ offset: 0 });\n        // 리소스 타입 선택에 따라 액션 드롭다운 항목 설정\n        if (e === 'all') {\n            this.setState({\n                actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') },\n            });\n        }\n        else if (e === 'users') {\n            this.setState({\n                actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7'), login: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_4'), logout: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_5') },\n            });\n        }\n        else {\n            this.setState({\n                actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7') },\n            });\n        }\n        const search = getQueryArgument('user');\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        if (e !== 'all') {\n            uri += `&resource=${e}`;\n        }\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri).then(response => {\n            // console.log(response.items);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    onChangeAction_(value) {\n        if (value !== 'all') {\n            this.setState({\n                action: value,\n            });\n        }\n        else {\n            this.setState({\n                action: this.state.actionList.all,\n            });\n        }\n        this.setState({ offset: 0 });\n        const search = getQueryArgument('user');\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        if (value !== 'all') {\n            uri += `&verb=${value}`;\n        }\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri)\n            .then(response => {\n            // console.log(response);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        })\n            .catch(error => {\n            console.log(error);\n        });\n    }\n    onChangeStatus_(value) {\n        if (value !== 'all') {\n            this.setState({\n                status: value,\n            });\n        }\n        else {\n            this.setState({\n                status: this.statuslist.all,\n            });\n        }\n        const search = getQueryArgument('user');\n        this.setState({ offset: 0 });\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        if (value !== 'all') {\n            uri += `&status=${value}`;\n        }\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.action !== this.state.actionList.all) {\n            uri += `&verb=${this.state.action}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri).then(response => {\n            // console.log(response.items);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    onChangeCode_(value) {\n        if (value !== 'all') {\n            this.setState({\n                code: value,\n            });\n        }\n        else {\n            this.setState({\n                code: this.codeList.all,\n            });\n        }\n        this.setState({ offset: 0 });\n        const search = getQueryArgument('user');\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        if (value !== 'all') {\n            uri += `&code=${value}`;\n        }\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.action !== this.state.actionList.all) {\n            uri += `&verb=${this.state.action}`;\n        }\n        coFetchJSON(uri).then(response => {\n            // console.log(response.items);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    onChangeStartDate_(value) {\n        let date = new Date(value);\n        let date_ = new Date(value);\n        this.setState({\n            start: date,\n        });\n        this.setState({ offset: 0 });\n        const search = getQueryArgument('user');\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${date.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        date_.setDate(date_.getDate() + 7);\n        if (date_ < this.state.end || date > this.state.end) {\n            this.setState({\n                end: date_,\n            });\n            uri += `&endTime=${date_.getTime() / 1000}`;\n        }\n        else {\n            uri += `&endTime=${this.state.end.getTime() / 1000}`;\n        }\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.action !== this.state.actionList.all) {\n            uri += `&verb=${this.state.action}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri).then(response => {\n            // console.log(response.items);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    onChangeEndDate_(value) {\n        let date = new Date(value);\n        let date_ = new Date(value);\n        this.setState({\n            end: date,\n        });\n        this.setState({ offset: 0 });\n        const search = getQueryArgument('user');\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&endTime=${date.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        date_.setDate(date_.getDate() - 7);\n        if (date_ <= this.state.start) {\n            uri += `&startTime=${this.state.start.getTime() / 1000}`;\n        }\n        else {\n            this.setState({\n                start: date_,\n            });\n            uri += `&startTime=${date_.getTime() / 1000}`;\n        }\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.action !== this.state.actionList.all) {\n            uri += `&verb=${this.state.action}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri).then(response => {\n            // console.log(response.items);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    onChangePage_(e) {\n        // console.log(e.selected);\n        this.setState({\n            offset: e.selected,\n            textFilter: '',\n        });\n        const search = getQueryArgument('user');\n        // let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=${e.selected * 100}&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}`;\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=${e.selected * 100}&userId=${getId()}${getUserGroup()}`;\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (this.state.action !== this.state.actionList.all) {\n            uri += `&verb=${this.state.action}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri).then(response => {\n            // console.log(response.items);\n            this.setState({\n                data: response.eventList.Items,\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    onSearch_(e) {\n        // if (e.key !== 'Enter') {\n        //   return;\n        // }\n        let value = e;\n        value ? setQueryArgument('user', value) : removeQueryArgument('user');\n        this.setState({\n            offset: 0,\n        });\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        if (value) {\n            uri += `&search=${value}`;\n        }\n        if (this.state.action !== this.state.actionList.all) {\n            uri += `&verb=${this.state.action}`;\n        }\n        if (this.state.resourceType !== this.resourcelist.all) {\n            uri += `&resource=${this.state.resourceType}`;\n        }\n        if (this.state.namespace !== undefined) {\n            uri += `&namespace=${this.state.namespace}`;\n        }\n        if (this.state.status !== this.statuslist.all) {\n            uri += `&status=${this.state.status}`;\n        }\n        if (this.state.code !== this.codeList.all) {\n            uri += `&code=${this.state.code}`;\n        }\n        coFetchJSON(uri).then(response => {\n            var _a, _b, _c;\n            // console.log(response.items);\n            this.setState({\n                data: (_c = (_b = (_a = response.eventList) === null || _a === void 0 ? void 0 : _a.Items) === null || _b === void 0 ? void 0 : _b.filter(cur => {\n                    if (cur.User.username.indexOf(value) >= 0) {\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                })) !== null && _c !== void 0 ? _c : [],\n                pages: Math.ceil(response.rowsCount / 100),\n            });\n        });\n    }\n    componentDidUpdate() {\n        const namespace = _.get(this.props, 'match.params.ns');\n        const { t, i18n } = this.props;\n        console.log(this.props.i18n.language);\n        if (i18n.language !== this.state.language) {\n            this.resourcelist.all = t('SINGLE:MSG_AUDITLOGS_MAIN_RESOURCEFILTER_1');\n            this.codeList = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_1'), 100: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_2'), 200: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_3'), 300: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_4'), 400: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_5'), 500: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_6') };\n            this.statuslist = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_1'), Success: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_2'), Failure: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_3') };\n            if (this.state.resourceType === 'All Resource Types' || '전체 리소스 타입') {\n                this.setState({\n                    actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') },\n                });\n            }\n            else if (this.state.resourceType === 'users') {\n                this.setState({\n                    actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7'), login: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_4'), logout: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_5') },\n                });\n            }\n            else {\n                this.setState({\n                    actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7') },\n                });\n            }\n            this.setState({\n                namespace: namespace,\n                offset: 0,\n                resourceType: this.state.resourceType === 'All Resource Types' || '전체 리소스 타입' ? t('SINGLE:MSG_AUDITLOGS_MAIN_RESOURCEFILTER_1') : this.state.resourceType,\n                action: this.state.actionList.all === 'All Actions' || '전체 액션' ? t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') : this.state.actionList.all,\n                status: this.statuslist.all === 'All Status' || '전체 상태' ? t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_1') : this.state.statuslist.all,\n                code: this.codeList.all === 'All Codes' || '전체 코드' ? t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_1') : this.state.statuslist.all,\n                language: i18n.language,\n            });\n        }\n        if (namespace !== this.state.namespace) {\n            this.setState({\n                namespace: namespace,\n                offset: 0,\n                resourceType: this.resourcelist.all,\n                action: this.state.actionList.all,\n                status: this.statuslist.all,\n                code: this.codeList.all,\n            });\n            const search = getQueryArgument('user');\n            let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n            if (search) {\n                uri += `&search=${search}`;\n            }\n            if (namespace === undefined) {\n                // all namespace\n                coFetchJSON(uri).then(response => {\n                    // console.log(response.items);\n                    this.setState({\n                        data: response.eventList.Items,\n                        pages: Math.ceil(response.rowsCount / 100),\n                    });\n                });\n            }\n            else {\n                uri += `&namespace=${namespace}`;\n                coFetchJSON(uri).then(response => {\n                    // console.log(response.items);\n                    this.setState({\n                        data: response.eventList.Items,\n                        pages: Math.ceil(response.rowsCount / 100),\n                    });\n                });\n            }\n        }\n    }\n    componentDidMount() {\n        const namespace = _.get(this.props, 'match.params.ns');\n        this.setState({ namespace: namespace });\n        this.setState({ action: this.state.actionList.all });\n        const search = getQueryArgument('user');\n        let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=${this.state.offset}&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n        if (search) {\n            uri += `&search=${search}`;\n        }\n        if (namespace === undefined) {\n            // all namespace\n            coFetchJSON(uri).then(response => {\n                // console.log(response.items);\n                this.setState({\n                    data: response.eventList.Items,\n                    pages: Math.ceil(response.rowsCount / 100),\n                });\n            });\n        }\n        else {\n            uri += `&namespace=${namespace}`;\n            coFetchJSON(uri).then(response => {\n                // console.log(response.items);\n                this.setState({\n                    data: response.eventList.Items,\n                    pages: Math.ceil(response.rowsCount / 100),\n                });\n            });\n        }\n    }\n    render() {\n        const { t } = this.props;\n        const { data, start, end, textFilter, actionList } = this.state;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", null,\n                React.createElement(Helmet, null,\n                    React.createElement(\"title\", null, t('COMMON:MSG_LNB_MENU_5'))),\n                React.createElement(PageHeading, { detail: true, title: t('COMMON:MSG_LNB_MENU_5') },\n                    React.createElement(\"div\", { className: \"co-m-pane__filter-bar\", style: { marginBottom: 0, marginLeft: 0 } },\n                        React.createElement(\"div\", { className: \"co-m-pane__filter-bar-group\" },\n                            React.createElement(Dropdown, { title: this.state.resourceType, className: \"btn-group btn-group-audit\", items: this.resourcelist, onChange: this.onChangeResourceType }),\n                            React.createElement(Dropdown, { title: this.state.action, className: \"btn-group\", items: actionList, onChange: this.onChangeAction }),\n                            React.createElement(Dropdown, { title: this.state.status, className: \"btn-group\", items: this.statuslist, onChange: this.onChangeStatus }),\n                            React.createElement(Dropdown, { style: { marginRight: '30px' }, title: this.state.code, className: \"btn-group\", items: this.codeList, onChange: this.onChangeCode }),\n                            React.createElement(\"p\", { style: { marginRight: '10px', lineHeight: '30px' } }, t('SINGLE:MSG_AUDITLOGS_MAIN_SEARCHPERIOD_1')),\n                            React.createElement(\"div\", { className: \"co-datepicker-wrapper\" },\n                                React.createElement(DatePicker, { className: \"co-datepicker\", placeholderText: \"From\", startDate: start, endDate: end, selected: start, onChange: this.onChangeStartDate }),\n                                React.createElement(\"i\", { className: \"fa fa-calendar\", \"aria-hidden\": \"true\", onClick: this.onIconClick })),\n                            React.createElement(\"p\", { style: { marginRight: '10px', lineHeight: '30px' } }, t('SINGLE:MSG_AUDITLOGS_MAIN_SEARCHPERIOD_2')),\n                            React.createElement(\"div\", { className: \"co-datepicker-wrapper\" },\n                                React.createElement(DatePicker, { className: \"co-datepicker\", placeholderText: \"To\", startDate: start, endDate: end, selected: end, onChange: this.onChangeEndDate, minDate: start, maxDate: new Date() }),\n                                React.createElement(\"i\", { className: \"fa fa-calendar\", \"aria-hidden\": \"true\", onClick: this.onIconClick }))),\n                        React.createElement(\"div\", { className: \"co-m-pane__filter-bar-group co-m-pane__filter-bar-group--filter\" },\n                            React.createElement(TextFilter, { id: \"audit\", label: \"Filter User Account\", autoFocus: true, onChange: this.onSearch })))),\n                React.createElement(AuditList, Object.assign({}, this.props, { textFilter: textFilter, data: data })),\n                data && data.length !== 0 && (React.createElement(\"div\", { className: \"pagination-div\" },\n                    React.createElement(ReactPaginate, { previousLabel: '<', nextLabel: '>', breakLabel: '...', breakClassName: 'break-me', pageCount: this.state.pages, marginPagesDisplayed: 2, pageRangeDisplayed: 5, onPageChange: this.onChangePage, containerClassName: 'pagination', subContainerClassName: 'pages pagination', activeClassName: 'active', forcePage: this.state.offset }))))));\n    }\n}\nclass AuditList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filteredEvents: [],\n            items: [],\n        };\n        this.rowRenderer = function rowRenderer({ index, style, key }) {\n            const event = this.state.filteredEvents[index];\n            return React.createElement(SysEvent, Object.assign({}, event, { key: key, style: style, index: index }));\n        }.bind(this);\n    }\n    static filterEvents(messages, { textFilter }) {\n        const words = _.uniq(_.toLower(textFilter).match(/\\S+/g)).sort((a, b) => {\n            // Sort the longest words first.\n            return b.length - a.length;\n        });\n        const textMatches = obj => {\n            if (_.isEmpty(words)) {\n                return true;\n            }\n            const message = _.get(obj, 'responseStatus.message', '');\n            return _.every(words, word => message.indexOf(word) !== -1);\n        };\n        const f = obj => {\n            if (!textMatches(obj)) {\n                return false;\n            }\n            return true;\n        };\n        return _.filter(messages, f);\n    }\n    static getDerivedStateFromProps(nextProps, prevState) {\n        const { textFilter, filteredEvents, items } = prevState;\n        if (textFilter === nextProps.textFilter && filteredEvents === nextProps.data) {\n            return {};\n        }\n        return {\n            filteredEvents: AuditList.filterEvents(nextProps.data, nextProps),\n            items: AuditList.filterEvents(nextProps.data, nextProps).map((item, index) => React.createElement(SysEvent, Object.assign({}, item, { key: index, index: index }))),\n            textFilter: nextProps.textFilter,\n        };\n    }\n    // componentDidMount() {\n    //   super.componentDidMount();\n    // }\n    // componentWillUnmount() {\n    //   super.componentWillUnmount();\n    // }\n    render() {\n        const { items } = this.state;\n        let count;\n        if (this.state.filteredEvents) {\n            count = this.state.filteredEvents.length;\n        }\n        else {\n            count = 0;\n        }\n        const noEvents = count === 0;\n        let sysEventStatus;\n        if (noEvents) {\n            sysEventStatus = (React.createElement(Box, { className: \"co-sysevent-stream__status-box-empty\" },\n                React.createElement(\"div\", { className: \"text-center cos-status-box__detail\" }, \"\\uB85C\\uADF8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \")));\n        }\n        const klass = classNames('co-sysevent-stream__timeline co-sysevent-audit__timeline', {\n            'co-sysevent-stream__timeline--empty': !count,\n        });\n        // console.log(items);\n        const len = `${items.length * 110 + 51}px`;\n        const timelineLen = `${items.length * 110 - 110}px`;\n        return (React.createElement(\"div\", { className: \"co-m-pane__body\", style: { border: 'none' } },\n            React.createElement(\"div\", { className: \"co-sysevent-stream co-sysevent-audit\", style: { height: len } },\n                React.createElement(\"div\", { className: klass, style: { marginLeft: 0, height: timelineLen } }),\n                items !== undefined && items,\n                sysEventStatus)));\n    }\n}\nAuditList.propTypes = {\n    textFilter: PropTypes.string,\n};\nexport const AuditPage = withTranslation()(AuditPage_);\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/audit.jsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/audit.jsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,aAAa,EAAE,MAAM,wBAAwB,CAAC;AACvD,OAAO,EAAE,MAAM,EAAE,MAAM,cAAc,CAAC;AACtC,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,aAAa,MAAM,gBAAgB,CAAC;AAC3C,OAAO,KAAK,SAAS,MAAM,YAAY,CAAC;AACxC,OAAO,KAAK,CAAC,MAAM,WAAW,CAAC;AAC/B,OAAO,UAAU,MAAM,kBAAkB,CAAC;AAC1C,OAAO,4CAA4C,CAAC;AAEpD,OAAO,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AACxC,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,UAAU,CAAC;AACjE,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AAC5D,OAAO,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,MAAM,oBAAoB,CAAC;AAC7F,OAAO,EAAkB,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhE,OAAO;AAEP,0BAA0B;AAC1B,8BAA8B;AAC9B,iCAAiC;AAEjC,MAAM,KAAM,SAAQ,KAAK,CAAC,aAAa;IACrC,YAAY,KAAK;QACf,KAAK,CAAC,KAAK,CAAC,CAAC;QAEb,IAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,MAAM;SACd,CAAC;IACJ,CAAC;IAED,aAAa;QACX,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC;IAClG,CAAC;IAED,MAAM;QACJ,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,cAAc,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5F,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QAC3C,SAAS,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAChC,SAAS,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;QAE9C,OAAO,CACL,6BAAK,SAAS,EAAE,GAAG,KAAK,UAAU,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,aAAa,EAAE;YAC1E,6BAAK,SAAS,EAAC,uBAAuB;gBACpC,2BAAG,SAAS,EAAC,kBAAkB,EAAC,KAAK,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,GAAI;gBAC1D,6BAAK,SAAS,EAAC,wBAAwB,EAAC,KAAK,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,GAAQ,CAClE;YACN,6BAAK,SAAS,EAAC,kBAAkB;gBAC/B,6BAAK,SAAS,EAAC,qBAAqB;oBAClC,6BAAK,SAAS,EAAC,wBAAwB;wBACpC,SAAS,CAAC,QAAQ;wBACnB,oBAAC,SAAS,IAAC,SAAS,EAAE,SAAS,GAAI,CAC/B;oBACN,6BACE,SAAS,EAAE,UAAU,CAAC,sBAAsB,EAAE;4BAC5C,kCAAkC,EAAE,CAAC,IAAI,CAAC,QAAQ;yBACnD,CAAC,IAED,IAAI,CAAC,QAAQ,CACV,CACF;gBACN,6BAAK,SAAS,EAAC,sBAAsB,EAAC,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,aAAa,EAAE;oBAChF,IAAI;;oBAAI,IAAI;;oBAAG,cAAc,CAAC,MAAM;;oBAAsB,cAAc,CAAC,IAAI;oBAC7E,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI,IAAI,2BAAG,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,IAAG,cAAc,CAAC,OAAO,CAAK,CACjF,CACF,CACF,CACP,CAAC;IACJ,CAAC;CACF;AAED,MAAM,OAAO,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;AAE/B,MAAM,QAAS,SAAQ,KAAK,CAAC,SAAS;IACpC,YAAY,KAAK;QACf,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;IAED,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,cAAc,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAC7E,MAAM,KAAK,GAAG,UAAU,CAAC,aAAa,EAAE,EAAE,oBAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC,CAAC;QACtM,2BAA2B;QAC3B,MAAM,KAAK,GAAG;YACZ,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,CAAC;YACP,QAAQ,EAAE,UAAU;YACpB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG;YAC3B,KAAK,EAAE,MAAM;SACd,CAAC;QAEF,OAAO,CACL,6BAAK,KAAK,EAAE,KAAK;YACf,oBAAC,aAAa,IAAC,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,QAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAC,OAAO,IAClG,MAAM,CAAC,EAAE,CAAC,oBAAC,KAAK,IAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,GAAI,CACtK,CACZ,CACP,CAAC;IACJ,CAAC;CACF;AAED,MAAM,UAAW,SAAQ,KAAK,CAAC,SAAS;IACtC,YAAY,KAAK;QACf,KAAK,CAAC,KAAK,CAAC,CAAC;QAglBf,gBAAW,GAAG,CAAC,CAAC,EAAE;YAChB,MAAM,cAAc,GAAG,CAAC,CAAC,MAAM,CAAC,sBAAsB,CAAC,UAAU,CAAC,UAAU,CAAC;YAC7E,cAAc,CAAC,KAAK,EAAE,CAAC;QACzB,CAAC,CAAC;QAllBA,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QACjC,MAAM,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAEpB,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,CAAC;QAC/T,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,CAAC;QACzL,IAAI,CAAC,YAAY,GAAG;YAClB,GAAG,EAAE,CAAC,CAAC,4CAA4C,CAAC;YACpD,6BAA6B,EAAE,+BAA+B;YAC9D,+BAA+B,EAAE,iCAAiC;YAClE,yBAAyB,EAAE,2BAA2B;YACtD,WAAW,EAAE,aAAa;YAC1B,mBAAmB,EAAE,qBAAqB;YAC1C,UAAU,EAAE,YAAY;YACxB,WAAW,EAAE,aAAa;YAC1B,WAAW,EAAE,aAAa;YAC1B,YAAY,EAAE,cAAc;YAC5B,YAAY,EAAE,cAAc;YAC5B,QAAQ,EAAE,UAAU;YACpB,wBAAwB,EAAE,0BAA0B;YACpD,QAAQ,EAAE,UAAU;YACpB,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,MAAM;YACZ,cAAc,EAAE,gBAAgB;YAChC,YAAY,EAAE,cAAc;YAC5B,eAAe,EAAE,iBAAiB;YAClC,SAAS,EAAE,WAAW;YACtB,gBAAgB,EAAE,kBAAkB;YACpC,oBAAoB,EAAE,sBAAsB;YAC5C,QAAQ,EAAE,UAAU;YACpB,kBAAkB,EAAE,oBAAoB;YACxC,QAAQ,EAAE,UAAU;YACpB,mBAAmB,EAAE,qBAAqB;YAC1C,YAAY,EAAE,cAAc;YAC5B,SAAS,EAAE,WAAW;YACtB,iBAAiB,EAAE,mBAAmB;YACtC,UAAU,EAAE,YAAY;YACxB,KAAK,EAAE,OAAO;YACd,SAAS,EAAE,WAAW;YACtB,gBAAgB,EAAE,kBAAkB;YACpC,SAAS,EAAE,WAAW;YACtB,SAAS,EAAE,WAAW;YACtB,gCAAgC,EAAE,kCAAkC;YACpE,6BAA6B,EAAE,+BAA+B;YAC9D,iCAAiC,EAAE,mCAAmC;YACtE,uBAAuB,EAAE,yBAAyB;YAClD,eAAe,EAAE,iBAAiB;YAClC,gBAAgB,EAAE,kBAAkB;YACpC,YAAY,EAAE,cAAc;YAC5B,QAAQ,EAAE,UAAU;YACpB,cAAc,EAAE,gBAAgB;YAChC,QAAQ,EAAE,UAAU;YACpB,eAAe,EAAE,iBAAiB;YAClC,oBAAoB,EAAE,sBAAsB;YAC5C,mBAAmB,EAAE,qBAAqB;YAC1C,mBAAmB,EAAE,qBAAqB;YAC1C,YAAY,EAAE,cAAc;YAC5B,YAAY,EAAE,cAAc;YAC5B,KAAK,EAAE,OAAO;YACd,kBAAkB,EAAE,oBAAoB;YACxC,WAAW,EAAE,aAAa;YAC1B,mBAAmB,EAAE,qBAAqB;YAC1C,YAAY,EAAE,cAAc;YAC5B,qBAAqB,EAAE,uBAAuB;YAC9C,mBAAmB,EAAE,qBAAqB;YAC1C,sBAAsB,EAAE,wBAAwB;YAChD,qBAAqB,EAAE,uBAAuB;YAC9C,qBAAqB,EAAE,uBAAuB;YAC9C,mBAAmB,EAAE,qBAAqB;YAC1C,eAAe,EAAE,iBAAiB;YAClC,cAAc,EAAE,gBAAgB;YAChC,cAAc,EAAE,gBAAgB;YAChC,gBAAgB,EAAE,kBAAkB;YACpC,YAAY,EAAE,cAAc;YAC5B,UAAU,EAAE,YAAY;YACxB,QAAQ,EAAE,UAAU;YACpB,cAAc,EAAE,gBAAgB;YAChC,iBAAiB,EAAE,mBAAmB;YACtC,YAAY,EAAE,cAAc;YAC5B,UAAU,EAAE,YAAY;YACxB,iBAAiB,EAAE,mBAAmB;YACtC,YAAY,EAAE,cAAc;YAC5B,SAAS,EAAE,WAAW;YACtB,QAAQ,EAAE,UAAU;YACpB,KAAK,EAAE,OAAO;YACd,oBAAoB,EAAE,sBAAsB;YAC5C,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,eAAe,EAAE,iBAAiB;YAClC,UAAU,EAAE,YAAY;YACxB,mBAAmB,EAAE,qBAAqB;YAC1C,iBAAiB,EAAE,mBAAmB;YACtC,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,YAAY;YACxB,KAAK,EAAE,OAAO;YACd,oBAAoB,EAAE,sBAAsB;YAC5C,IAAI,EAAE,MAAM;SACb,CAAC;QAEF,IAAI,CAAC,KAAK,GAAG;YACX,SAAS,EAAE,EAAE;YACb,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;YAClC,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;YAClE,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG;YACnC,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC;YACrD,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG;YAC3B,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG;YACvB,UAAU,EAAE,EAAE;YACd,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,IAAI;YACX,GAAG,EAAE,IAAI,IAAI,EAAE;YACf,MAAM,EAAE,CAAC;YACT,KAAK,EAAE,CAAC;YACR,aAAa,EAAE,OAAO;SACvB,CAAC;QAEF,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,qBAAqB,CAAC,CAAC;QACrB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,KAAK,KAAK,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC;SACpC;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,CAAC;SACxD;QACD,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAE7B,8BAA8B;QAC9B,IAAI,CAAC,KAAK,KAAK,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC;gBACZ,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;aACnE,CAAC,CAAC;SACJ;aAAM,IAAI,CAAC,KAAK,OAAO,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC;gBACZ,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;aAC3Y,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC;gBACZ,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;aAC9R,CAAC,CAAC;SACJ;QACD,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAC1M,IAAI,CAAC,KAAK,KAAK,EAAE;YACf,GAAG,IAAI,aAAa,CAAC,EAAE,CAAC;SACzB;QACD,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QAED,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe,CAAC,KAAK;QACnB,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,IAAI,CAAC,QAAQ,CAAC;gBACZ,MAAM,EAAE,KAAK;aACd,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC;gBACZ,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG;aAClC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7B,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAC1M,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,GAAG,IAAI,SAAS,KAAK,EAAE,CAAC;SACzB;QACD,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,WAAW,CAAC,GAAG,CAAC;aACb,IAAI,CAAC,QAAQ,CAAC,EAAE;YACf,yBAAyB;YACzB,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC;aACD,KAAK,CAAC,KAAK,CAAC,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,eAAe,CAAC,KAAK;QACnB,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,IAAI,CAAC,QAAQ,CAAC;gBACZ,MAAM,EAAE,KAAK;aACd,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC;gBACZ,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG;aAC5B,CAAC,CAAC;SACJ;QAED,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAE7B,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAC1M,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,GAAG,IAAI,WAAW,KAAK,EAAE,CAAC;SAC3B;QACD,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QAED,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE;YACnD,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,KAAK;QACjB,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,KAAK;aACZ,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG;aACxB,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7B,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAC1M,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,GAAG,IAAI,SAAS,KAAK,EAAE,CAAC;SACzB;QACD,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE;YACnD,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB,CAAC,KAAK;QACtB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC;YACZ,KAAK,EAAE,IAAI;SACZ,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7B,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAEnJ,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QACnC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;YACnD,IAAI,CAAC,QAAQ,CAAC;gBACZ,GAAG,EAAE,KAAK;aACX,CAAC,CAAC;YACH,GAAG,IAAI,YAAY,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,EAAE,CAAC;SAC7C;aAAM;YACL,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,EAAE,CAAC;SACtD;QAED,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE;YACnD,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,KAAK;QACpB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC;YACZ,GAAG,EAAE,IAAI;SACV,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7B,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,iDAAiD,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAEjJ,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QACnC,IAAI,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAC7B,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,EAAE,CAAC;SAC1D;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC;gBACZ,KAAK,EAAE,KAAK;aACb,CAAC,CAAC;YACH,GAAG,IAAI,cAAc,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,EAAE,CAAC;SAC/C;QAED,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE;YACnD,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAC;QACb,2BAA2B;QAC3B,IAAI,CAAC,QAAQ,CAAC;YACZ,MAAM,EAAE,CAAC,CAAC,QAAQ;YAClB,UAAU,EAAE,EAAE;SACf,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACxC,4LAA4L;QAC5L,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,uCAAuC,CAAC,CAAC,QAAQ,GAAG,GAAG,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAElI,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE;YACnD,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;gBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,CAAC;QACT,2BAA2B;QAC3B,YAAY;QACZ,IAAI;QAEJ,IAAI,KAAK,GAAG,CAAC,CAAC;QAEd,KAAK,CAAC,CAAC,CAAC,gBAAgB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;QACtE,IAAI,CAAC,QAAQ,CAAC;YACZ,MAAM,EAAE,CAAC;SACV,CAAC,CAAC;QAEH,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAE1M,IAAI,KAAK,EAAE;YACT,GAAG,IAAI,WAAW,KAAK,EAAE,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE;YACnD,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YACrD,GAAG,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,EAAE;YACtC,GAAG,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YAC7C,GAAG,IAAI,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;YACzC,GAAG,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;;YAC/B,+BAA+B;YAC/B,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,oBACF,QAAQ,CAAC,SAAS,0CAAE,KAAK,0CAAE,MAAM,CAAC,GAAG,CAAC,EAAE;oBACtC,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;wBACzC,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;gBACH,CAAC,oCAAK,EAAE;gBACV,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;aAC3C,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB;QAChB,MAAM,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC;QACvD,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACzC,IAAI,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,4CAA4C,CAAC,CAAC;YACxE,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,wCAAwC,CAAC,EAAE,CAAC;YAC/T,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,CAAC;YACzL,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,oBAAoB,IAAI,WAAW,EAAE;gBACnE,IAAI,CAAC,QAAQ,CAAC;oBACZ,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;iBACnE,CAAC,CAAC;aACJ;iBAAM,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,OAAO,EAAE;gBAC9C,IAAI,CAAC,QAAQ,CAAC;oBACZ,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;iBAC3Y,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,QAAQ,CAAC;oBACZ,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,0CAA0C,CAAC,EAAE;iBAC9R,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,QAAQ,CAAC;gBACZ,SAAS,EAAE,SAAS;gBACpB,MAAM,EAAE,CAAC;gBACT,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,oBAAoB,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,4CAA4C,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY;gBACzJ,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,KAAK,aAAa,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,0CAA0C,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG;gBAC1I,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,KAAK,YAAY,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,0CAA0C,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG;gBACnI,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,WAAW,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,wCAAwC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG;gBAC5H,QAAQ,EAAE,IAAI,CAAC,QAAQ;aACxB,CAAC,CAAC;SACJ;QACD,IAAI,SAAS,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACtC,IAAI,CAAC,QAAQ,CAAC;gBACZ,SAAS,EAAE,SAAS;gBACpB,MAAM,EAAE,CAAC;gBACT,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG;gBACnC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG;gBACjC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG;gBAC3B,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG;aACxB,CAAC,CAAC;YACH,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAExC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,mDAAmD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;YAE1M,IAAI,MAAM,EAAE;gBACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;aAC5B;YACD,IAAI,SAAS,KAAK,SAAS,EAAE;gBAC3B,gBAAgB;gBAChB,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;oBAC/B,+BAA+B;oBAC/B,IAAI,CAAC,QAAQ,CAAC;wBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;wBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;qBAC3C,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,GAAG,IAAI,cAAc,SAAS,EAAE,CAAC;gBACjC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;oBAC/B,+BAA+B;oBAC/B,IAAI,CAAC,QAAQ,CAAC;wBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;wBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;qBAC3C,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;SACF;IACH,CAAC;IAED,iBAAiB;QACf,MAAM,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC;QACvD,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;QACrD,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,uCAAuC,IAAI,CAAC,KAAK,CAAC,MAAM,cAAc,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,WAAW,KAAK,EAAE,GAAG,YAAY,EAAE,EAAE,CAAC;QAE7N,IAAI,MAAM,EAAE;YACV,GAAG,IAAI,WAAW,MAAM,EAAE,CAAC;SAC5B;QACD,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,gBAAgB;YAChB,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAC/B,+BAA+B;gBAC/B,IAAI,CAAC,QAAQ,CAAC;oBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;oBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;iBAC3C,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,GAAG,IAAI,cAAc,SAAS,EAAE,CAAC;YACjC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAC/B,+BAA+B;gBAC/B,IAAI,CAAC,QAAQ,CAAC;oBACZ,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK;oBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;iBAC3C,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAMD,MAAM;QACJ,MAAM,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAEhE,OAAO,CACL,oBAAC,KAAK,CAAC,QAAQ;YACb;gBACE,oBAAC,MAAM;oBACL,mCAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAS,CACpC;gBACT,oBAAC,WAAW,IAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,uBAAuB,CAAC;oBAC1D,6BAAK,SAAS,EAAC,uBAAuB,EAAC,KAAK,EAAE,EAAE,YAAY,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE;wBAC9E,6BAAK,SAAS,EAAC,6BAA6B;4BAC1C,oBAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,SAAS,EAAC,2BAA2B,EAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,oBAAoB,GAAI;4BACjJ,oBAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,EAAC,WAAW,EAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,GAAI;4BAC9G,oBAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,EAAC,WAAW,EAAC,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,GAAI;4BACnH,oBAAC,QAAQ,IAAC,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,EAAC,WAAW,EAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,YAAY,GAAI;4BAC7I,2BAAG,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,IAAG,CAAC,CAAC,0CAA0C,CAAC,CAAK;4BAC1G,6BAAK,SAAS,EAAC,uBAAuB;gCACpC,oBAAC,UAAU,IAAC,SAAS,EAAC,eAAe,EAAC,eAAe,EAAC,MAAM,EAAC,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,iBAAiB,GAAI;gCAClJ,2BAAG,SAAS,EAAC,gBAAgB,iBAAa,MAAM,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,GAAM,CAC5E;4BACN,2BAAG,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,IAAG,CAAC,CAAC,0CAA0C,CAAC,CAAK;4BAC1G,6BAAK,SAAS,EAAC,uBAAuB;gCACpC,oBAAC,UAAU,IAAC,SAAS,EAAC,eAAe,EAAC,eAAe,EAAC,IAAI,EAAC,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,eAAe,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,IAAI,EAAE,GAAI;gCACjL,2BAAG,SAAS,EAAC,gBAAgB,iBAAa,MAAM,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,GAAM,CAC5E,CACF;wBACN,6BAAK,SAAS,EAAC,iEAAiE;4BAC9E,oBAAC,UAAU,IAAC,EAAE,EAAC,OAAO,EAAC,KAAK,EAAC,qBAAqB,EAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAI,CAC3F,CACF,CACM;gBAEd,oBAAC,SAAS,oBAAK,IAAI,CAAC,KAAK,IAAE,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,IAAI;gBAChE,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,IAAI,CAC5B,6BAAK,SAAS,EAAC,gBAAgB;oBAC7B,oBAAC,aAAa,IAAC,aAAa,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,oBAAoB,EAAE,CAAC,EAAE,kBAAkB,EAAE,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,kBAAkB,EAAE,YAAY,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAI,CACpV,CACP,CACG,CACS,CAClB,CAAC;IACJ,CAAC;CACF;AAED,MAAM,SAAU,SAAQ,KAAK,CAAC,SAAS;IACrC,YAAY,KAAK;QACf,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,KAAK,GAAG;YACX,cAAc,EAAE,EAAE;YAClB,KAAK,EAAE,EAAE;SACV,CAAC;QAEF,IAAI,CAAC,WAAW,GAAG,SAAS,WAAW,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE;YAC3D,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YAC/C,OAAO,oBAAC,QAAQ,oBAAK,KAAK,IAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,IAAI,CAAC;QACvE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IAED,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE;QAC1C,MAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACtE,gCAAgC;YAChC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,GAAG,CAAC,EAAE;YACxB,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACpB,OAAO,IAAI,CAAC;aACb;YACD,MAAM,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAwB,EAAE,EAAE,CAAC,CAAC;YACzD,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC9D,CAAC,CAAC;QAEF,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;gBACrB,OAAO,KAAK,CAAC;aACd;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;QAEF,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,wBAAwB,CAAC,SAAS,EAAE,SAAS;QAClD,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC;QAExD,IAAI,UAAU,KAAK,SAAS,CAAC,UAAU,IAAI,cAAc,KAAK,SAAS,CAAC,IAAI,EAAE;YAC5E,OAAO,EAAE,CAAC;SACX;QAED,OAAO;YACL,cAAc,EAAE,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC;YACjE,KAAK,EAAE,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,oBAAC,QAAQ,oBAAK,IAAI,IAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,IAAI,CAAC;YAC/H,UAAU,EAAE,SAAS,CAAC,UAAU;SACjC,CAAC;IACJ,CAAC;IAED,wBAAwB;IACxB,+BAA+B;IAC/B,IAAI;IAEJ,2BAA2B;IAC3B,kCAAkC;IAClC,IAAI;IAEJ,MAAM;QACJ,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAE7B,IAAI,KAAK,CAAC;QACV,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;YAC7B,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC;SAC1C;aAAM;YACL,KAAK,GAAG,CAAC,CAAC;SACX;QACD,MAAM,QAAQ,GAAG,KAAK,KAAK,CAAC,CAAC;QAC7B,IAAI,cAAc,CAAC;QACnB,IAAI,QAAQ,EAAE;YACZ,cAAc,GAAG,CACf,oBAAC,GAAG,IAAC,SAAS,EAAC,sCAAsC;gBACnD,6BAAK,SAAS,EAAC,oCAAoC,oDAAiB,CAChE,CACP,CAAC;SACH;QAED,MAAM,KAAK,GAAG,UAAU,CAAC,0DAA0D,EAAE;YACnF,qCAAqC,EAAE,CAAC,KAAK;SAC9C,CAAC,CAAC;QAEH,sBAAsB;QACtB,MAAM,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,EAAE,IAAI,CAAC;QAC3C,MAAM,WAAW,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC;QACpD,OAAO,CACL,6BAAK,SAAS,EAAC,iBAAiB,EAAC,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;YACxD,6BAAK,SAAS,EAAC,sCAAsC,EAAC,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;gBAC1E,6BAAK,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,GAAQ;gBAC3E,KAAK,KAAK,SAAS,IAAI,KAAK;gBAC5B,cAAc,CACX,CACF,CACP,CAAC;IACJ,CAAC;CACF;AAED,SAAS,CAAC,SAAS,GAAG;IACpB,UAAU,EAAE,SAAS,CAAC,MAAM;CAC7B,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAAG,eAAe,EAAE,CAAC,UAAU,CAAC,CAAC","sourcesContent":["import * as React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { Helmet } from 'react-helmet';\nimport * as classNames from 'classnames';\nimport ReactPaginate from 'react-paginate';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash-es';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { SafetyFirst } from '../safety-first';\nimport { TextFilter } from '../factory';\nimport { Dropdown, Box, Timestamp, PageHeading } from '../utils';\nimport { coFetchJSON } from '../../co-fetch';\nimport { getId, getUserGroup } from '../../hypercloud/auth';\nimport { setQueryArgument, getQueryArgument, removeQueryArgument } from '../utils/router.ts';\nimport { useTranslation, withTranslation } from 'react-i18next';\n\n// TODO\n\n// 1. i18n 적용 - 7월 3주차에 나옴\n// 2. date picker 빼기 - 리뷰 후 결정\n// 3. onchange 중복 로직 제거 (코드 리팩토링)\n\nclass Inner extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      angle: 'down',\n    };\n  }\n\n  onClickDetail() {\n    this.state.angle === 'down' ? this.setState({ angle: 'up' }) : this.setState({ angle: 'down' });\n  }\n\n  render() {\n    const { klass, status, verb, objectRef, user, stageTimestamp, responseStatus } = this.props;\n    let timestamp = Date.parse(stageTimestamp);\n    timestamp -= 9 * 60 * 60 * 1000;\n    timestamp = new Date(timestamp).toISOString();\n\n    return (\n      <div className={`${klass} slide-${status}`} style={{ height: 'fit-content' }}>\n        <div className=\"co-sysevent__icon-box\">\n          <i className=\"co-sysevent-icon\" style={{ top: '33px' }} />\n          <div className=\"co-sysevent__icon-line\" style={{ top: '33px' }}></div>\n        </div>\n        <div className=\"co-sysevent__box\">\n          <div className=\"co-sysevent__header\">\n            <div className=\"co-sysevent__subheader\">\n              {objectRef.Resource}\n              <Timestamp timestamp={timestamp} />\n            </div>\n            <div\n              className={classNames('co-sysevent__details', {\n                'co-sysevent__details__alignRight': !user.username,\n              })}\n            >\n              {user.username}\n            </div>\n          </div>\n          <div className=\"co-sysevent__message\" style={{ margin: '0', height: 'fit-content' }}>\n            {verb}, {verb} {responseStatus.status} with status code : {responseStatus.code}\n            {this.state.angle === 'up' && <p style={{ margin: '0' }}>{responseStatus.message}</p>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst timeout = { enter: 150 };\n\nclass SysEvent extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { Verb, ObjectRef, User, ResponseStatus, StageTimestamp } = this.props;\n    const klass = classNames('co-sysevent', { 'co-sysevent--error': this.props.ResponseStatus.code === 400 || this.props.ResponseStatus.code === 500 || this.props.ResponseStatus.status === 'Failure' });\n    // console.log(this.props);\n    const style = {\n      height: 110,\n      left: 0,\n      position: 'absolute',\n      top: this.props.index * 110,\n      width: '100%',\n    };\n\n    return (\n      <div style={style}>\n        <CSSTransition mountOnEnter={true} appear={true} in exit={false} timeout={timeout} classNames=\"slide\">\n          {status => <Inner klass={klass} status={status} verb={Verb} objectRef={ObjectRef} responseStatus={ResponseStatus} user={User} stageTimestamp={StageTimestamp} width={style.width} />}\n        </CSSTransition>\n      </div>\n    );\n  }\n}\n\nclass AuditPage_ extends React.Component {\n  constructor(props) {\n    super(props);\n    let date = new Date();\n    date.setDate(date.getDate() - 7);\n    const { t } = props;\n\n    this.codeList = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_1'), 100: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_2'), 200: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_3'), 300: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_4'), 400: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_5'), 500: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_6') };\n    this.statuslist = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_1'), Success: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_2'), Failure: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_3') };\n    this.resourcelist = {\n      all: t('SINGLE:MSG_AUDITLOGS_MAIN_RESOURCEFILTER_1'),\n      mutatingwebhookconfigurations: 'mutatingwebhookconfigurations',\n      validatingwebhookconfigurations: 'validatingwebhookconfigurations',\n      customresourcedefinitions: 'customresourcedefinitions',\n      apiservices: 'apiservices',\n      controllerrevisions: 'controllerrevisions',\n      daemonsets: 'daemonsets',\n      deployments: 'deployments',\n      replicasets: 'replicasets',\n      statefulsets: 'statefulsets',\n      meshpolicies: 'meshpolicies',\n      policies: 'policies',\n      horizontalpodautoscalers: 'horizontalpodautoscalers',\n      cronjobs: 'cronjobs',\n      jobs: 'jobs',\n      cdis: 'cdis',\n      cephblockpools: 'cephblockpools',\n      cephclusters: 'cephclusters',\n      cephfilesystems: 'cephfilesystems',\n      cephnfses: 'cephnfses',\n      cephobjectstores: 'cephobjectstores',\n      cephobjectstoreusers: 'cephobjectstoreusers',\n      adapters: 'adapters',\n      attributemanifests: 'attributemanifests',\n      handlers: 'handlers',\n      httpapispecbindings: 'httpapispecbindings',\n      httpapispecs: 'httpapispecs',\n      instances: 'instances',\n      quotaspecbindings: 'quotaspecbindings',\n      quotaspecs: 'quotaspecs',\n      rules: 'rules',\n      templates: 'templates',\n      clustertemplates: 'clustertemplates',\n      ingresses: 'ingresses',\n      kubevirts: 'kubevirts',\n      virtualmachineinstancemigrations: 'virtualmachineinstancemigrations',\n      virtualmachineinstancepresets: 'virtualmachineinstancepresets',\n      virtualmachineinstancereplicasets: 'virtualmachineinstancereplicasets',\n      virtualmachineinstances: 'virtualmachineinstances',\n      virtualmachines: 'virtualmachines',\n      destinationrules: 'destinationrules',\n      envoyfilters: 'envoyfilters',\n      gateways: 'gateways',\n      serviceentries: 'serviceentries',\n      sidecars: 'sidecars',\n      virtualservices: 'virtualservices',\n      poddisruptionbudgets: 'poddisruptionbudgets',\n      podsecuritypolicies: 'podsecuritypolicies',\n      clusterrolebindings: 'clusterrolebindings',\n      clusterroles: 'clusterroles',\n      rolebindings: 'rolebindings',\n      roles: 'roles',\n      clusterrbacconfigs: 'clusterrbacconfigs',\n      rbacconfigs: 'rbacconfigs',\n      servicerolebindings: 'servicerolebindings',\n      serviceroles: 'serviceroles',\n      authorizationpolicies: 'authorizationpolicies',\n      peerauthentications: 'peerauthentications',\n      requestauthentications: 'requestauthentications',\n      clusterservicebrokers: 'clusterservicebrokers',\n      clusterserviceclasses: 'clusterserviceclasses',\n      clusterserviceplans: 'clusterserviceplans',\n      servicebindings: 'servicebindings',\n      servicebrokers: 'servicebrokers',\n      serviceclasses: 'serviceclasses',\n      serviceinstances: 'serviceinstances',\n      serviceplans: 'serviceplans',\n      csidrivers: 'csidrivers',\n      csinodes: 'csinodes',\n      storageclasses: 'storageclasses',\n      volumeattachments: 'volumeattachments',\n      clustertasks: 'clustertasks',\n      conditions: 'conditions',\n      pipelineresources: 'pipelineresources',\n      pipelineruns: 'pipelineruns',\n      pipelines: 'pipelines',\n      taskruns: 'taskruns',\n      tasks: 'tasks',\n      catalogserviceclaims: 'catalogserviceclaims',\n      clients: 'clients',\n      images: 'images',\n      namespaceclaims: 'namespaceclaims',\n      registries: 'registries',\n      resourcequotaclaims: 'resourcequotaclaims',\n      templateinstances: 'templateinstances',\n      tokens: 'tokens',\n      usergroups: 'usergroups',\n      users: 'users',\n      usersecuritypolicies: 'usersecuritypolicies',\n      pods: 'pods',\n    };\n\n    this.state = {\n      namespace: '',\n      language: this.props.i18n.language,\n      actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') },\n      resourceType: this.resourcelist.all,\n      action: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'),\n      status: this.statuslist.all,\n      code: this.codeList.all,\n      textFilter: '',\n      data: [],\n      start: date,\n      end: new Date(),\n      offset: 0,\n      pages: 0,\n      paginationPos: '215px',\n    };\n\n    this.onChangeResourceType = e => this.onChangeResourceType_(e);\n    this.onChangeAction = e => this.onChangeAction_(e);\n    this.onChangeStatus = e => this.onChangeStatus_(e);\n    this.onChangeCode = e => this.onChangeCode_(e);\n    this.onChangeStartDate = e => this.onChangeStartDate_(e);\n    this.onChangeEndDate = e => this.onChangeEndDate_(e);\n    this.onChangePage = e => this.onChangePage_(e);\n    this.onSearch = e => this.onSearch_(e);\n  }\n\n  onChangeResourceType_(e) {\n    const { t } = this.props;\n    if (e !== 'all') {\n      this.setState({ resourceType: e });\n    } else {\n      this.setState({ resourceType: this.resourcelist.all });\n    }\n    this.setState({ offset: 0 });\n\n    // 리소스 타입 선택에 따라 액션 드롭다운 항목 설정\n    if (e === 'all') {\n      this.setState({\n        actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') },\n      });\n    } else if (e === 'users') {\n      this.setState({\n        actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7'), login: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_4'), logout: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_5') },\n      });\n    } else {\n      this.setState({\n        actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7') },\n      });\n    }\n    const search = getQueryArgument('user');\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n    if (e !== 'all') {\n      uri += `&resource=${e}`;\n    }\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data: response.eventList.Items,\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  onChangeAction_(value) {\n    if (value !== 'all') {\n      this.setState({\n        action: value,\n      });\n    } else {\n      this.setState({\n        action: this.state.actionList.all,\n      });\n    }\n\n    this.setState({ offset: 0 });\n    const search = getQueryArgument('user');\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n    if (value !== 'all') {\n      uri += `&verb=${value}`;\n    }\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n    coFetchJSON(uri)\n      .then(response => {\n        // console.log(response);\n        this.setState({\n          data: response.eventList.Items,\n          pages: Math.ceil(response.rowsCount / 100),\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  onChangeStatus_(value) {\n    if (value !== 'all') {\n      this.setState({\n        status: value,\n      });\n    } else {\n      this.setState({\n        status: this.statuslist.all,\n      });\n    }\n\n    const search = getQueryArgument('user');\n    this.setState({ offset: 0 });\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n    if (value !== 'all') {\n      uri += `&status=${value}`;\n    }\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n\n    if (this.state.action !== this.state.actionList.all) {\n      uri += `&verb=${this.state.action}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data: response.eventList.Items,\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  onChangeCode_(value) {\n    if (value !== 'all') {\n      this.setState({\n        code: value,\n      });\n    } else {\n      this.setState({\n        code: this.codeList.all,\n      });\n    }\n\n    this.setState({ offset: 0 });\n    const search = getQueryArgument('user');\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n    if (value !== 'all') {\n      uri += `&code=${value}`;\n    }\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.action !== this.state.actionList.all) {\n      uri += `&verb=${this.state.action}`;\n    }\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data: response.eventList.Items,\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  onChangeStartDate_(value) {\n    let date = new Date(value);\n    let date_ = new Date(value);\n    this.setState({\n      start: date,\n    });\n\n    this.setState({ offset: 0 });\n    const search = getQueryArgument('user');\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${date.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n\n    date_.setDate(date_.getDate() + 7);\n    if (date_ < this.state.end || date > this.state.end) {\n      this.setState({\n        end: date_,\n      });\n      uri += `&endTime=${date_.getTime() / 1000}`;\n    } else {\n      uri += `&endTime=${this.state.end.getTime() / 1000}`;\n    }\n\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.action !== this.state.actionList.all) {\n      uri += `&verb=${this.state.action}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data: response.eventList.Items,\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  onChangeEndDate_(value) {\n    let date = new Date(value);\n    let date_ = new Date(value);\n    this.setState({\n      end: date,\n    });\n\n    this.setState({ offset: 0 });\n    const search = getQueryArgument('user');\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&endTime=${date.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n\n    date_.setDate(date_.getDate() - 7);\n    if (date_ <= this.state.start) {\n      uri += `&startTime=${this.state.start.getTime() / 1000}`;\n    } else {\n      this.setState({\n        start: date_,\n      });\n      uri += `&startTime=${date_.getTime() / 1000}`;\n    }\n\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.action !== this.state.actionList.all) {\n      uri += `&verb=${this.state.action}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data: response.eventList.Items,\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  onChangePage_(e) {\n    // console.log(e.selected);\n    this.setState({\n      offset: e.selected,\n      textFilter: '',\n    });\n\n    const search = getQueryArgument('user');\n    // let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=${e.selected * 100}&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}`;\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=${e.selected * 100}&userId=${getId()}${getUserGroup()}`;\n\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (this.state.action !== this.state.actionList.all) {\n      uri += `&verb=${this.state.action}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data: response.eventList.Items,\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  onSearch_(e) {\n    // if (e.key !== 'Enter') {\n    //   return;\n    // }\n\n    let value = e;\n\n    value ? setQueryArgument('user', value) : removeQueryArgument('user');\n    this.setState({\n      offset: 0,\n    });\n\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n\n    if (value) {\n      uri += `&search=${value}`;\n    }\n    if (this.state.action !== this.state.actionList.all) {\n      uri += `&verb=${this.state.action}`;\n    }\n    if (this.state.resourceType !== this.resourcelist.all) {\n      uri += `&resource=${this.state.resourceType}`;\n    }\n    if (this.state.namespace !== undefined) {\n      uri += `&namespace=${this.state.namespace}`;\n    }\n    if (this.state.status !== this.statuslist.all) {\n      uri += `&status=${this.state.status}`;\n    }\n    if (this.state.code !== this.codeList.all) {\n      uri += `&code=${this.state.code}`;\n    }\n    coFetchJSON(uri).then(response => {\n      // console.log(response.items);\n      this.setState({\n        data:\n          response.eventList?.Items?.filter(cur => {\n            if (cur.User.username.indexOf(value) >= 0) {\n              return true;\n            } else {\n              return false;\n            }\n          }) ?? [],\n        pages: Math.ceil(response.rowsCount / 100),\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    const namespace = _.get(this.props, 'match.params.ns');\n    const { t, i18n } = this.props;\n    console.log(this.props.i18n.language);\n    if (i18n.language !== this.state.language) {\n      this.resourcelist.all = t('SINGLE:MSG_AUDITLOGS_MAIN_RESOURCEFILTER_1');\n      this.codeList = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_1'), 100: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_2'), 200: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_3'), 300: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_4'), 400: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_5'), 500: t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_6') };\n      this.statuslist = { all: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_1'), Success: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_2'), Failure: t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_3') };\n      if (this.state.resourceType === 'All Resource Types' || '전체 리소스 타입') {\n        this.setState({\n          actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') },\n        });\n      } else if (this.state.resourceType === 'users') {\n        this.setState({\n          actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7'), login: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_4'), logout: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_5') },\n        });\n      } else {\n        this.setState({\n          actionList: { all: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1'), create: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_2'), delete: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_3'), patch: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_6'), update: t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_7') },\n        });\n      }\n      this.setState({\n        namespace: namespace,\n        offset: 0,\n        resourceType: this.state.resourceType === 'All Resource Types' || '전체 리소스 타입' ? t('SINGLE:MSG_AUDITLOGS_MAIN_RESOURCEFILTER_1') : this.state.resourceType,\n        action: this.state.actionList.all === 'All Actions' || '전체 액션' ? t('SINGLE:MSG_AUDITLOGS_MAIN_ACTIONFILTER_1') : this.state.actionList.all,\n        status: this.statuslist.all === 'All Status' || '전체 상태' ? t('SINGLE:MSG_AUDITLOGS_MAIN_STATUSFILTER_1') : this.state.statuslist.all,\n        code: this.codeList.all === 'All Codes' || '전체 코드' ? t('SINGLE:MSG_AUDITLOGS_MAIN_CODEFILTER_1') : this.state.statuslist.all,\n        language: i18n.language,\n      });\n    }\n    if (namespace !== this.state.namespace) {\n      this.setState({\n        namespace: namespace,\n        offset: 0,\n        resourceType: this.resourcelist.all,\n        action: this.state.actionList.all,\n        status: this.statuslist.all,\n        code: this.codeList.all,\n      });\n      const search = getQueryArgument('user');\n\n      let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=0&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n\n      if (search) {\n        uri += `&search=${search}`;\n      }\n      if (namespace === undefined) {\n        // all namespace\n        coFetchJSON(uri).then(response => {\n          // console.log(response.items);\n          this.setState({\n            data: response.eventList.Items,\n            pages: Math.ceil(response.rowsCount / 100),\n          });\n        });\n      } else {\n        uri += `&namespace=${namespace}`;\n        coFetchJSON(uri).then(response => {\n          // console.log(response.items);\n          this.setState({\n            data: response.eventList.Items,\n            pages: Math.ceil(response.rowsCount / 100),\n          });\n        });\n      }\n    }\n  }\n\n  componentDidMount() {\n    const namespace = _.get(this.props, 'match.params.ns');\n    this.setState({ namespace: namespace });\n    this.setState({ action: this.state.actionList.all });\n    const search = getQueryArgument('user');\n    let uri = `${document.location.origin}/api/webhook/audit?limit=100&offset=${this.state.offset}&startTime=${this.state.start.getTime() / 1000}&endTime=${this.state.end.getTime() / 1000}&userId=${getId()}${getUserGroup()}`;\n\n    if (search) {\n      uri += `&search=${search}`;\n    }\n    if (namespace === undefined) {\n      // all namespace\n      coFetchJSON(uri).then(response => {\n        // console.log(response.items);\n        this.setState({\n          data: response.eventList.Items,\n          pages: Math.ceil(response.rowsCount / 100),\n        });\n      });\n    } else {\n      uri += `&namespace=${namespace}`;\n      coFetchJSON(uri).then(response => {\n        // console.log(response.items);\n        this.setState({\n          data: response.eventList.Items,\n          pages: Math.ceil(response.rowsCount / 100),\n        });\n      });\n    }\n  }\n  onIconClick = e => {\n    const datePickerElem = e.target.previousElementSibling.firstChild.firstChild;\n    datePickerElem.focus();\n  };\n\n  render() {\n    const { t } = this.props;\n    const { data, start, end, textFilter, actionList } = this.state;\n\n    return (\n      <React.Fragment>\n        <div>\n          <Helmet>\n            <title>{t('COMMON:MSG_LNB_MENU_5')}</title>\n          </Helmet>\n          <PageHeading detail={true} title={t('COMMON:MSG_LNB_MENU_5')}>\n            <div className=\"co-m-pane__filter-bar\" style={{ marginBottom: 0, marginLeft: 0 }}>\n              <div className=\"co-m-pane__filter-bar-group\">\n                <Dropdown title={this.state.resourceType} className=\"btn-group btn-group-audit\" items={this.resourcelist} onChange={this.onChangeResourceType} />\n                <Dropdown title={this.state.action} className=\"btn-group\" items={actionList} onChange={this.onChangeAction} />\n                <Dropdown title={this.state.status} className=\"btn-group\" items={this.statuslist} onChange={this.onChangeStatus} />\n                <Dropdown style={{ marginRight: '30px' }} title={this.state.code} className=\"btn-group\" items={this.codeList} onChange={this.onChangeCode} />\n                <p style={{ marginRight: '10px', lineHeight: '30px' }}>{t('SINGLE:MSG_AUDITLOGS_MAIN_SEARCHPERIOD_1')}</p>\n                <div className=\"co-datepicker-wrapper\">\n                  <DatePicker className=\"co-datepicker\" placeholderText=\"From\" startDate={start} endDate={end} selected={start} onChange={this.onChangeStartDate} />\n                  <i className=\"fa fa-calendar\" aria-hidden=\"true\" onClick={this.onIconClick}></i>\n                </div>\n                <p style={{ marginRight: '10px', lineHeight: '30px' }}>{t('SINGLE:MSG_AUDITLOGS_MAIN_SEARCHPERIOD_2')}</p>\n                <div className=\"co-datepicker-wrapper\">\n                  <DatePicker className=\"co-datepicker\" placeholderText=\"To\" startDate={start} endDate={end} selected={end} onChange={this.onChangeEndDate} minDate={start} maxDate={new Date()} />\n                  <i className=\"fa fa-calendar\" aria-hidden=\"true\" onClick={this.onIconClick}></i>\n                </div>\n              </div>\n              <div className=\"co-m-pane__filter-bar-group co-m-pane__filter-bar-group--filter\">\n                <TextFilter id=\"audit\" label=\"Filter User Account\" autoFocus={true} onChange={this.onSearch} />\n              </div>\n            </div>\n          </PageHeading>\n\n          <AuditList {...this.props} textFilter={textFilter} data={data} />\n          {data && data.length !== 0 && (\n            <div className=\"pagination-div\">\n              <ReactPaginate previousLabel={'<'} nextLabel={'>'} breakLabel={'...'} breakClassName={'break-me'} pageCount={this.state.pages} marginPagesDisplayed={2} pageRangeDisplayed={5} onPageChange={this.onChangePage} containerClassName={'pagination'} subContainerClassName={'pages pagination'} activeClassName={'active'} forcePage={this.state.offset} />\n            </div>\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nclass AuditList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filteredEvents: [],\n      items: [],\n    };\n\n    this.rowRenderer = function rowRenderer({ index, style, key }) {\n      const event = this.state.filteredEvents[index];\n      return <SysEvent {...event} key={key} style={style} index={index} />;\n    }.bind(this);\n  }\n\n  static filterEvents(messages, { textFilter }) {\n    const words = _.uniq(_.toLower(textFilter).match(/\\S+/g)).sort((a, b) => {\n      // Sort the longest words first.\n      return b.length - a.length;\n    });\n\n    const textMatches = obj => {\n      if (_.isEmpty(words)) {\n        return true;\n      }\n      const message = _.get(obj, 'responseStatus.message', '');\n      return _.every(words, word => message.indexOf(word) !== -1);\n    };\n\n    const f = obj => {\n      if (!textMatches(obj)) {\n        return false;\n      }\n      return true;\n    };\n\n    return _.filter(messages, f);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { textFilter, filteredEvents, items } = prevState;\n\n    if (textFilter === nextProps.textFilter && filteredEvents === nextProps.data) {\n      return {};\n    }\n\n    return {\n      filteredEvents: AuditList.filterEvents(nextProps.data, nextProps),\n      items: AuditList.filterEvents(nextProps.data, nextProps).map((item, index) => <SysEvent {...item} key={index} index={index} />),\n      textFilter: nextProps.textFilter,\n    };\n  }\n\n  // componentDidMount() {\n  //   super.componentDidMount();\n  // }\n\n  // componentWillUnmount() {\n  //   super.componentWillUnmount();\n  // }\n\n  render() {\n    const { items } = this.state;\n\n    let count;\n    if (this.state.filteredEvents) {\n      count = this.state.filteredEvents.length;\n    } else {\n      count = 0;\n    }\n    const noEvents = count === 0;\n    let sysEventStatus;\n    if (noEvents) {\n      sysEventStatus = (\n        <Box className=\"co-sysevent-stream__status-box-empty\">\n          <div className=\"text-center cos-status-box__detail\">로그가 없습니다. </div>\n        </Box>\n      );\n    }\n\n    const klass = classNames('co-sysevent-stream__timeline co-sysevent-audit__timeline', {\n      'co-sysevent-stream__timeline--empty': !count,\n    });\n\n    // console.log(items);\n    const len = `${items.length * 110 + 51}px`;\n    const timelineLen = `${items.length * 110 - 110}px`;\n    return (\n      <div className=\"co-m-pane__body\" style={{ border: 'none' }}>\n        <div className=\"co-sysevent-stream co-sysevent-audit\" style={{ height: len }}>\n          <div className={klass} style={{ marginLeft: 0, height: timelineLen }}></div>\n          {items !== undefined && items}\n          {sysEventStatus}\n        </div>\n      </div>\n    );\n  }\n}\n\nAuditList.propTypes = {\n  textFilter: PropTypes.string,\n};\n\nexport const AuditPage = withTranslation()(AuditPage_);\n"]}]}