{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/modals/modify-member-modal.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/modals/modify-member-modal.tsx","mtime":1617957501080},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as React from 'react';\nimport { ModalBody, ModalSubmitFooter, ModalTitle, createModalLauncher, } from '../../factory/modal';\nimport { withHandlePromise } from '../../utils';\nimport { Section } from '../utils/section';\nimport { RadioGroup } from '@console/internal/components/radio';\nimport { coFetchJSON } from '../../../co-fetch';\nimport { getId, getUserGroup } from '../../../hypercloud/auth';\nimport { useTranslation } from 'react-i18next';\nconst roleItems = (t) => [\n    {\n        title: t('COMMON:MSG_DETAILS_TABACCESSPERMISSIONS_RADIOBUTTON_1'),\n        value: 'admin',\n    },\n    {\n        title: t('COMMON:MSG_DETAILS_TABACCESSPERMISSIONS_RADIOBUTTON_2'),\n        value: 'developer',\n    },\n    {\n        title: t('COMMON:MSG_DETAILS_TABACCESSPERMISSIONS_RADIOBUTTON_3'),\n        value: 'guest'\n    },\n];\nexport const ModifyMemberModal = withHandlePromise((props) => {\n    const [role, setRole] = React.useState(props.member.Role);\n    const [errorMsg, setError] = React.useState('');\n    const submit = (e) => {\n        e.preventDefault();\n        coFetchJSON(`/api/multi-hypercloud/namespaces/${props.member.Namespace}/clustermanagers/${props.member.Cluster}/update_role/${props.member.Attribute}/${props.member.MemberId}?userId=${getId()}${getUserGroup()}&remoteRole=${role}`, 'PUT')\n            .then((res) => {\n            props.close();\n        })\n            .catch((err) => {\n            setError(err);\n        });\n    };\n    const { t } = useTranslation();\n    return (React.createElement(\"form\", { onSubmit: submit, name: \"form\", className: \"modal-content \" },\n        React.createElement(ModalTitle, null, t('MULTI:MSG_MULTI_CLUSTERS_CHANGEPERMISSIONSPOPUP_TITLE_1')),\n        React.createElement(ModalBody, { className: \"modal-body\" },\n            React.createElement(Section, { id: 'role' },\n                React.createElement(RadioGroup, { id: 'role', currentValue: role, items: roleItems.bind(null, t)(), onChange: ({ currentTarget }) => setRole(currentTarget.value) }))),\n        React.createElement(ModalSubmitFooter, { errorMessage: errorMsg, inProgress: props.inProgress, submitText: t('COMMON:MSG_COMMON_BUTTON_COMMIT_3'), cancelText: t('COMMON:MSG_COMMON_BUTTON_COMMIT_2'), cancel: props.cancel })));\n});\nexport const modifyMemberModal = createModalLauncher(ModifyMemberModal);\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/modals/modify-member-modal.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/modals/modify-member-modal.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as _ from 'lodash-es';\nimport * as React from 'react';\n\nimport {\n  ModalBody,\n  ModalComponentProps,\n  ModalSubmitFooter,\n  ModalTitle,\n  createModalLauncher,\n} from '../../factory/modal';\nimport { HandlePromiseProps, withHandlePromise } from '../../utils';\nimport { Section } from '../utils/section';\nimport { RadioGroup } from '@console/internal/components/radio';\nimport { coFetchJSON } from '../../../co-fetch';\nimport { getId, getUserGroup } from '../../../hypercloud/auth';\nimport { useTranslation } from 'react-i18next';\nimport { TFunction } from 'i18next';\n\nconst roleItems = (t?: TFunction) => [\n  {\n    title: t('COMMON:MSG_DETAILS_TABACCESSPERMISSIONS_RADIOBUTTON_1'),\n    value: 'admin',\n  },\n  {\n    title: t('COMMON:MSG_DETAILS_TABACCESSPERMISSIONS_RADIOBUTTON_2'),\n    value: 'developer',\n  },\n  {\n    title: t('COMMON:MSG_DETAILS_TABACCESSPERMISSIONS_RADIOBUTTON_3'),\n    value: 'guest'\n  },\n];\n\n\nexport const ModifyMemberModal = withHandlePromise((props: ModifyMemberModalProps) => {\n  const [role, setRole] = React.useState(props.member.Role);\n  const [errorMsg, setError] = React.useState('')\n\n  const submit: React.FormEventHandler<HTMLFormElement> = (e) => {\n    e.preventDefault();\n    coFetchJSON(`/api/multi-hypercloud/namespaces/${props.member.Namespace}/clustermanagers/${props.member.Cluster}/update_role/${props.member.Attribute}/${props.member.MemberId}?userId=${getId()}${getUserGroup()}&remoteRole=${role}`, 'PUT')\n      .then((res) => {\n        props.close();\n      })\n      .catch((err) => {\n        setError(err);\n      })\n  };\n\n  const { t } = useTranslation();\n  return (\n    <form onSubmit={submit} name=\"form\" className=\"modal-content \">\n      <ModalTitle>\n        {t('MULTI:MSG_MULTI_CLUSTERS_CHANGEPERMISSIONSPOPUP_TITLE_1')}\n      </ModalTitle>\n      <ModalBody className=\"modal-body\">\n        <Section id='role'>\n          <RadioGroup\n            id='role'\n            currentValue={role}\n            items={roleItems.bind(null, t)()}\n            onChange={({ currentTarget }) => setRole(currentTarget.value)}\n          />\n        </Section>\n      </ModalBody>\n      <ModalSubmitFooter errorMessage={errorMsg} inProgress={props.inProgress} submitText={t('COMMON:MSG_COMMON_BUTTON_COMMIT_3')} cancelText={t('COMMON:MSG_COMMON_BUTTON_COMMIT_2')} cancel={props.cancel} />\n    </form>\n  );\n});\n\nexport const modifyMemberModal = createModalLauncher(ModifyMemberModal);\n\nexport type ModifyMemberModalProps = {\n  member: {\n    Id?: number,\n    Namespace?: string,\n    Cluster?: string,\n    MemberId: string,\n    MemberName: string,\n    Attribute: \"group\" | \"user\",\n    Role: \"guest\" | \"developer\" | \"admin\",\n    Status?: \"invited\" | \"owner\",\n    CreatedTime?: string,\n    UpdatedTime?: string\n  };\n} & ModalComponentProps &\n  HandlePromiseProps;\n"]}]}