{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/operator-lifecycle-manager/src/components/modals/disable-default-source-modal.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/operator-lifecycle-manager/src/components/modals/disable-default-source-modal.tsx","mtime":1615298458700},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import * as React from 'react';\nimport * as _ from 'lodash';\nimport { k8sPatch } from '@console/internal/module/k8s';\nimport { createModalLauncher, ModalTitle, ModalBody, ModalSubmitFooter, } from '@console/internal/components/factory/modal';\nimport { YellowExclamationTriangleIcon } from '@console/shared';\nimport { withHandlePromise } from '@console/internal/components/utils';\nconst DisableDefaultSourceModal = ({ kind, operatorHub, sourceName, close, cancel, inProgress, errorMessage, handlePromise, }) => {\n    const submit = React.useCallback((event) => {\n        event.preventDefault();\n        const currentSources = _.get(operatorHub, 'spec.sources', []);\n        const patch = [\n            {\n                op: 'add',\n                path: '/spec/sources',\n                value: [\n                    ..._.filter(currentSources, (source) => source.name !== sourceName),\n                    {\n                        name: sourceName,\n                        disabled: true,\n                    },\n                ],\n            },\n        ];\n        return handlePromise(k8sPatch(kind, operatorHub, patch)).then(close);\n    }, [close, handlePromise, kind, operatorHub, sourceName]);\n    return (React.createElement(\"form\", { onSubmit: submit, name: \"form\", className: \"modal-content \" },\n        React.createElement(ModalTitle, null,\n            React.createElement(YellowExclamationTriangleIcon, { className: \"co-icon-space-r\" }),\n            \" Disable Catalog Source?\"),\n        React.createElement(ModalBody, null, \"By disabling a default source, the operators it provides will no longer appear in OperatorHub and any operator that has been installed from this source will no longer receive updates until the source is re-enabled. Disabling the source will also remove the corresponding OperatorSource and CatalogSource resources from the cluster.\"),\n        React.createElement(ModalSubmitFooter, { submitText: \"Disable\", cancel: cancel, errorMessage: errorMessage, inProgress: inProgress, submitDanger: true })));\n};\nexport const disableDefaultSourceModal = createModalLauncher(withHandlePromise(DisableDefaultSourceModal));\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/operator-lifecycle-manager/src/components/modals/disable-default-source-modal.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/operator-lifecycle-manager/src/components/modals/disable-default-source-modal.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,KAAK,CAAC,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,QAAQ,EAAW,MAAM,8BAA8B,CAAC;AACjE,OAAO,EACL,mBAAmB,EACnB,UAAU,EACV,SAAS,EACT,iBAAiB,GAElB,MAAM,4CAA4C,CAAC;AACpD,OAAO,EAAE,6BAA6B,EAAE,MAAM,iBAAiB,CAAC;AAChE,OAAO,EAAE,iBAAiB,EAAsB,MAAM,oCAAoC,CAAC;AAG3F,MAAM,yBAAyB,GAAsC,CAAC,EACpE,IAAI,EACJ,WAAW,EACX,UAAU,EACV,KAAK,EACL,MAAM,EACN,UAAU,EACV,YAAY,EACZ,aAAa,GACd,EAAE,EAAE;IACH,MAAM,MAAM,GAAG,KAAK,CAAC,WAAW,CAC9B,CAAC,KAAmC,EAAgB,EAAE;QACpD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,cAAc,GAAG,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,cAAc,EAAE,EAAE,CAAC,CAAC;QAC9D,MAAM,KAAK,GAAG;YACZ;gBACE,EAAE,EAAE,KAAK;gBACT,IAAI,EAAE,eAAe;gBACrB,KAAK,EAAE;oBACL,GAAG,CAAC,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,UAAU,CAAC;oBACnE;wBACE,IAAI,EAAE,UAAU;wBAChB,QAAQ,EAAE,IAAI;qBACf;iBACF;aACF;SACF,CAAC;QACF,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvE,CAAC,EACD,CAAC,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,UAAU,CAAC,CACtD,CAAC;IAEF,OAAO,CACL,8BAAM,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAC,MAAM,EAAC,SAAS,EAAC,gBAAgB;QAC5D,oBAAC,UAAU;YACT,oBAAC,6BAA6B,IAAC,SAAS,EAAC,iBAAiB,GAAG;uCAClD;QACb,oBAAC,SAAS,sVAKE;QACZ,oBAAC,iBAAiB,IAChB,UAAU,EAAC,SAAS,EACpB,MAAM,EAAE,MAAM,EACd,YAAY,EAAE,YAAY,EAC1B,UAAU,EAAE,UAAU,EACtB,YAAY,SACZ,CACG,CACR,CAAC;AACJ,CAAC,CAAC;AASF,MAAM,CAAC,MAAM,yBAAyB,GAAG,mBAAmB,CAC1D,iBAAiB,CAAC,yBAAyB,CAAC,CAC7C,CAAC","sourcesContent":["import * as React from 'react';\nimport * as _ from 'lodash';\nimport { k8sPatch, K8sKind } from '@console/internal/module/k8s';\nimport {\n  createModalLauncher,\n  ModalTitle,\n  ModalBody,\n  ModalSubmitFooter,\n  ModalComponentProps,\n} from '@console/internal/components/factory/modal';\nimport { YellowExclamationTriangleIcon } from '@console/shared';\nimport { withHandlePromise, HandlePromiseProps } from '@console/internal/components/utils';\nimport { OperatorHubKind } from '../operator-hub';\n\nconst DisableDefaultSourceModal: React.FC<DisableSourceModalProps> = ({\n  kind,\n  operatorHub,\n  sourceName,\n  close,\n  cancel,\n  inProgress,\n  errorMessage,\n  handlePromise,\n}) => {\n  const submit = React.useCallback(\n    (event: React.FormEvent<EventTarget>): Promise<any> => {\n      event.preventDefault();\n      const currentSources = _.get(operatorHub, 'spec.sources', []);\n      const patch = [\n        {\n          op: 'add',\n          path: '/spec/sources',\n          value: [\n            ..._.filter(currentSources, (source) => source.name !== sourceName),\n            {\n              name: sourceName,\n              disabled: true,\n            },\n          ],\n        },\n      ];\n      return handlePromise(k8sPatch(kind, operatorHub, patch)).then(close);\n    },\n    [close, handlePromise, kind, operatorHub, sourceName],\n  );\n\n  return (\n    <form onSubmit={submit} name=\"form\" className=\"modal-content \">\n      <ModalTitle>\n        <YellowExclamationTriangleIcon className=\"co-icon-space-r\" /> Disable Catalog Source?\n      </ModalTitle>\n      <ModalBody>\n        By disabling a default source, the operators it provides will no longer appear in\n        OperatorHub and any operator that has been installed from this source will no longer receive\n        updates until the source is re-enabled. Disabling the source will also remove the\n        corresponding OperatorSource and CatalogSource resources from the cluster.\n      </ModalBody>\n      <ModalSubmitFooter\n        submitText=\"Disable\"\n        cancel={cancel}\n        errorMessage={errorMessage}\n        inProgress={inProgress}\n        submitDanger\n      />\n    </form>\n  );\n};\n\ntype DisableSourceModalProps = {\n  kind: K8sKind;\n  operatorHub: OperatorHubKind;\n  sourceName: string;\n} & ModalComponentProps &\n  HandlePromiseProps;\n\nexport const disableDefaultSourceModal = createModalLauncher(\n  withHandlePromise(DisableDefaultSourceModal),\n);\n"]}]}