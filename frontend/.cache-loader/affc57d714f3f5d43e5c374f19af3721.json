{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/volume-snapshot/volume-snapshot.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/volume-snapshot/volume-snapshot.tsx","mtime":1616735742370},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["import './_volume-snapshot.scss';\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { DetailsPage, ListPage, Table, TableData, TableRow, } from '@console/internal/components/factory';\nimport { referenceFor } from '@console/internal/module/k8s';\nimport { Kebab, ResourceKebab, ResourceLink, ResourceSummary, SectionHeading, navFactory, Timestamp, } from '@console/internal/components/utils';\nimport { getName, getNamespace, Status } from '@console/shared';\nimport { PersistentVolumeClaimModel } from '@console/internal/models';\nimport { VolumeSnapshotModel } from '../../models';\nimport { getKebabActionsForKind } from '../../utils/kebab-actions';\nimport { sortable } from '@patternfly/react-table';\nimport { volumeSnapshotModal } from '../modals/volume-snapshot-modal/volume-snapshot-modal';\nexport const snapshotMenuActions = [...getKebabActionsForKind(VolumeSnapshotModel)];\nconst snapshotTableColumnClasses = [\n    classNames('col-lg-4', 'col-md-4', 'col-sm-6', 'col-xs-6'),\n    classNames('col-lg-3', 'col-md-3', 'col-sm-6', 'col-xs-6'),\n    classNames('col-lg-3', 'col-md-3', 'hidden-sm', 'hidden-xs'),\n    classNames('col-lg-2', 'col-md-2', 'hidden-sm', 'hidden-xs'),\n    Kebab.columnClass,\n];\nexport const VolumeSnapshotTableHeader = () => {\n    return [\n        {\n            title: 'Name',\n            sortField: 'metadata.name',\n            transforms: [sortable],\n            props: { className: snapshotTableColumnClasses[0] },\n        },\n        {\n            title: 'Date',\n            sortField: 'metadata.creationTimestamp',\n            transforms: [sortable],\n            props: { className: snapshotTableColumnClasses[1] },\n        },\n        {\n            title: 'Status',\n            sortField: 'status.readyToUse',\n            transforms: [sortable],\n            props: { className: snapshotTableColumnClasses[2] },\n        },\n        {\n            title: 'Size',\n            sortField: 'status.restoreSize',\n            transforms: [sortable],\n            props: { className: snapshotTableColumnClasses[3] },\n        },\n        {\n            title: '',\n            props: { className: snapshotTableColumnClasses[4] },\n        },\n    ];\n};\nVolumeSnapshotTableHeader.displayName = 'SnapshotTableHeader';\nconst volumeSnapshotKind = referenceFor(VolumeSnapshotModel);\nconst breadcrumbsForSnapshotDetailsPage = (match) => () => [\n    {\n        name: PersistentVolumeClaimModel.labelPlural,\n        path: `/k8s/ns/${match.params.ns}/persistentvolumeclaims`,\n    },\n    {\n        name: 'Snapshot Details',\n        path: `${match.url}`,\n    },\n];\nexport const DetailsComponent = ({ obj: volumeSnapshot }) => (React.createElement(React.Fragment, null,\n    React.createElement(\"div\", { className: \"co-m-pane__body\" },\n        React.createElement(SectionHeading, { text: \"Volume Snapshot Details\" }),\n        React.createElement(\"div\", { className: \"row\" },\n            React.createElement(\"div\", { className: \"col-md-6\" },\n                React.createElement(ResourceSummary, { resource: volumeSnapshot },\n                    React.createElement(\"dt\", null, \"Status\"),\n                    React.createElement(\"dd\", null, volumeSnapshot.status.readyToUse ? 'Ready' : 'Not Ready'),\n                    React.createElement(\"dt\", null, \"Size\"),\n                    React.createElement(\"dd\", null, volumeSnapshot.status.restoreSize || 'No Data'))),\n            React.createElement(\"div\", { className: \"col-md-6\" },\n                React.createElement(\"dt\", null, \"Persistent Volume Claim\"),\n                React.createElement(\"dd\", null,\n                    React.createElement(ResourceLink, { kind: PersistentVolumeClaimModel.kind, name: volumeSnapshot.spec.source.persistentVolumeClaimName, namespace: getNamespace(volumeSnapshot) })))))));\nexport const VolumeSnapshotDetails = (props) => (React.createElement(DetailsPage, Object.assign({}, props, { menuActions: snapshotMenuActions, kind: referenceFor(VolumeSnapshotModel), name: props.match.params.name, kindObj: VolumeSnapshotModel, namespace: props.match.params.ns, pages: [navFactory.details(DetailsComponent)], breadcrumbsFor: breadcrumbsForSnapshotDetailsPage(props.match) })));\nexport const VolumeSnapshotTableRow = ({ obj, index, key, style, }) => (React.createElement(TableRow, { id: obj.metadata.uid, index: index, trKey: key, style: style },\n    React.createElement(TableData, { className: snapshotTableColumnClasses[0] },\n        React.createElement(ResourceLink, { kind: referenceFor(VolumeSnapshotModel), name: getName(obj), namespace: getNamespace(obj), title: getName(obj) })),\n    React.createElement(TableData, { className: snapshotTableColumnClasses[1] },\n        React.createElement(Timestamp, { timestamp: obj.metadata.creationTimestamp })),\n    React.createElement(TableData, { className: snapshotTableColumnClasses[2] },\n        React.createElement(Status, { status: obj.status.readyToUse ? 'Ready' : 'Not Ready' })),\n    React.createElement(TableData, { className: snapshotTableColumnClasses[3] }, obj.status.restoreSize || '-'),\n    React.createElement(TableData, { className: snapshotTableColumnClasses[4] },\n        React.createElement(ResourceKebab, { actions: snapshotMenuActions, kind: volumeSnapshotKind, resource: obj }))));\nexport const VolumeSnapshotList = (props) => (React.createElement(Table, Object.assign({}, props, { \"aria-label\": \"Volume Snapshot List\", Header: VolumeSnapshotTableHeader, Row: VolumeSnapshotTableRow, virtualize: true })));\nexport const VolumeSnapshotPage = ({ obj }) => (React.createElement(ListPage, { canCreate: true, kind: volumeSnapshotKind, ListComponent: VolumeSnapshotList, showTitle: false, namespace: obj.metadata.namespace, createHandler: () => volumeSnapshotModal({ resource: obj }) }));\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/volume-snapshot/volume-snapshot.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/packages/ceph-storage-plugin/src/components/volume-snapshot/volume-snapshot.tsx"],"names":[],"mappings":"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","sourcesContent":["import './_volume-snapshot.scss';\n\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nimport {\n  DetailsPage,\n  ListPage,\n  Table,\n  TableData,\n  TableProps,\n  TableRow,\n  RowFunction,\n} from '@console/internal/components/factory';\nimport { K8sResourceKind, referenceFor } from '@console/internal/module/k8s';\nimport {\n  Kebab,\n  ResourceKebab,\n  ResourceLink,\n  ResourceSummary,\n  SectionHeading,\n  navFactory,\n  PageComponentProps,\n  Timestamp,\n} from '@console/internal/components/utils';\nimport { getName, getNamespace, Status } from '@console/shared';\n\nimport { PersistentVolumeClaimModel } from '@console/internal/models';\nimport { VolumeSnapshotModel } from '../../models';\nimport { getKebabActionsForKind } from '../../utils/kebab-actions';\nimport { sortable } from '@patternfly/react-table';\nimport { volumeSnapshotModal } from '../modals/volume-snapshot-modal/volume-snapshot-modal';\n\nexport const snapshotMenuActions = [...getKebabActionsForKind(VolumeSnapshotModel)];\n\nconst snapshotTableColumnClasses = [\n  classNames('col-lg-4', 'col-md-4', 'col-sm-6', 'col-xs-6'),\n  classNames('col-lg-3', 'col-md-3', 'col-sm-6', 'col-xs-6'),\n  classNames('col-lg-3', 'col-md-3', 'hidden-sm', 'hidden-xs'),\n  classNames('col-lg-2', 'col-md-2', 'hidden-sm', 'hidden-xs'),\n  Kebab.columnClass,\n];\n\nexport const VolumeSnapshotTableHeader = () => {\n  return [\n    {\n      title: 'Name',\n      sortField: 'metadata.name',\n      transforms: [sortable],\n      props: { className: snapshotTableColumnClasses[0] },\n    },\n    {\n      title: 'Date',\n      sortField: 'metadata.creationTimestamp',\n      transforms: [sortable],\n      props: { className: snapshotTableColumnClasses[1] },\n    },\n    {\n      title: 'Status',\n      sortField: 'status.readyToUse',\n      transforms: [sortable],\n      props: { className: snapshotTableColumnClasses[2] },\n    },\n    {\n      title: 'Size',\n      sortField: 'status.restoreSize',\n      transforms: [sortable],\n      props: { className: snapshotTableColumnClasses[3] },\n    },\n    {\n      title: '',\n      props: { className: snapshotTableColumnClasses[4] },\n    },\n  ];\n};\nVolumeSnapshotTableHeader.displayName = 'SnapshotTableHeader';\n\nconst volumeSnapshotKind = referenceFor(VolumeSnapshotModel);\n\nconst breadcrumbsForSnapshotDetailsPage = (match: any) => () => [\n  {\n    name: PersistentVolumeClaimModel.labelPlural,\n    path: `/k8s/ns/${match.params.ns}/persistentvolumeclaims`,\n  },\n  {\n    name: 'Snapshot Details',\n    path: `${match.url}`,\n  },\n];\n\nexport const DetailsComponent = ({ obj: volumeSnapshot }) => (\n  <>\n    <div className=\"co-m-pane__body\">\n      <SectionHeading text=\"Volume Snapshot Details\" />\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <ResourceSummary resource={volumeSnapshot}>\n            <dt>Status</dt>\n            <dd>{volumeSnapshot.status.readyToUse ? 'Ready' : 'Not Ready'}</dd>\n            <dt>Size</dt>\n            <dd>{volumeSnapshot.status.restoreSize || 'No Data'}</dd>\n          </ResourceSummary>\n        </div>\n        <div className=\"col-md-6\">\n          <dt>Persistent Volume Claim</dt>\n          <dd>\n            <ResourceLink\n              kind={PersistentVolumeClaimModel.kind}\n              name={volumeSnapshot.spec.source.persistentVolumeClaimName}\n              namespace={getNamespace(volumeSnapshot)}\n            />\n          </dd>\n        </div>\n      </div>\n    </div>\n  </>\n);\n\nexport const VolumeSnapshotDetails = (props) => (\n  <DetailsPage\n    {...props}\n    menuActions={snapshotMenuActions}\n    kind={referenceFor(VolumeSnapshotModel)}\n    name={props.match.params.name}\n    kindObj={VolumeSnapshotModel}\n    namespace={props.match.params.ns}\n    pages={[navFactory.details(DetailsComponent)]}\n    breadcrumbsFor={breadcrumbsForSnapshotDetailsPage(props.match)}\n  />\n);\n\nexport const VolumeSnapshotTableRow: RowFunction<K8sResourceKind> = ({\n  obj,\n  index,\n  key,\n  style,\n}) => (\n  <TableRow id={obj.metadata.uid} index={index} trKey={key} style={style}>\n    <TableData className={snapshotTableColumnClasses[0]}>\n      <ResourceLink\n        kind={referenceFor(VolumeSnapshotModel)}\n        name={getName(obj)}\n        namespace={getNamespace(obj)}\n        title={getName(obj)}\n      />\n    </TableData>\n    <TableData className={snapshotTableColumnClasses[1]}>\n      <Timestamp timestamp={obj.metadata.creationTimestamp} />\n    </TableData>\n    <TableData className={snapshotTableColumnClasses[2]}>\n      <Status status={obj.status.readyToUse ? 'Ready' : 'Not Ready'} />\n    </TableData>\n    <TableData className={snapshotTableColumnClasses[3]}>{obj.status.restoreSize || '-'}</TableData>\n    <TableData className={snapshotTableColumnClasses[4]}>\n      <ResourceKebab actions={snapshotMenuActions} kind={volumeSnapshotKind} resource={obj} />\n    </TableData>\n  </TableRow>\n);\n\nexport const VolumeSnapshotList: React.FC<TableProps> = (props) => (\n  <Table\n    {...props}\n    aria-label=\"Volume Snapshot List\"\n    Header={VolumeSnapshotTableHeader}\n    Row={VolumeSnapshotTableRow}\n    virtualize\n  />\n);\n\nexport const VolumeSnapshotPage: React.FC<PageComponentProps> = ({ obj }) => (\n  <ListPage\n    canCreate\n    kind={volumeSnapshotKind}\n    ListComponent={VolumeSnapshotList}\n    showTitle={false}\n    namespace={obj.metadata.namespace}\n    createHandler={() => volumeSnapshotModal({ resource: obj })}\n  />\n);\n"]}]}