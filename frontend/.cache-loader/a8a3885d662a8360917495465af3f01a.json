{"remainingRequest":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js??ref--5-2!/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/utils/resource-dropdown.tsx","dependencies":[{"path":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/utils/resource-dropdown.tsx","mtime":1618309685330},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607306270906},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1607306283100},{"path":"/home/jinsoo/hypercloud-console5.0/frontend/node_modules/ts-loader/index.js","mtime":1607306283339}],"contextDependencies":[],"result":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as _ from 'lodash-es';\nimport * as React from 'react';\nimport { Firehose, LoadingInline } from '@console/internal/components/utils';\nimport { ResourceListDropdown } from './resource-list-dropdown';\nconst ResourceDropdownWrapper_ = (props) => {\n    const getItems = (resources) => {\n        const items = [];\n        _.each(resources, (resource, k) => {\n            if (resource.loaded) {\n                const kind = resource.kind;\n                _.each(resource.data, (item) => {\n                    item.kind = kind;\n                    items.push(item);\n                });\n            }\n        });\n        return items;\n    };\n    //const [title, setTitle] = React.useState(props.loaded ? props.placeholder : <LoadingInline />);\n    const [rows, setRows] = React.useState(props.loaded ? getItems(props.resources) : []);\n    React.useEffect(() => {\n        if (props.loaded) {\n            //setTitle(props.placeholder);\n            setRows(getItems(props.resources));\n        }\n    }, [props.loaded]);\n    return (React.createElement(ResourceListDropdown, Object.assign({}, props, { title: !props.loaded ? React.createElement(LoadingInline, null) : props.title, resourceList: rows, autocompletePlaceholder: \"search by name\" })));\n};\nexport const ResourceDropdown = (_a) => {\n    var { resources } = _a, props = __rest(_a, [\"resources\"]);\n    resources.map((resource) => Object.assign(resource, { isList: true }));\n    return (React.createElement(Firehose, { resources: resources },\n        React.createElement(ResourceDropdownWrapper_, Object.assign({}, props))));\n};\n",{"version":3,"file":"/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/utils/resource-dropdown.tsx","sourceRoot":"","sources":["/home/jinsoo/hypercloud-console5.0/frontend/public/components/hypercloud/utils/resource-dropdown.tsx"],"names":[],"mappings":";;;;;;;;;;;AAAA,OAAO,KAAK,CAAC,MAAM,WAAW,CAAC;AAC/B,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,QAAQ,EAAoC,aAAa,EAAE,MAAM,oCAAoC,CAAC;AAC/G,OAAO,EAAE,oBAAoB,EAA8D,MAAM,0BAA0B,CAAC;AAE5H,MAAM,wBAAwB,GAA2C,CAAC,KAAK,EAAE,EAAE;IACjF,MAAM,QAAQ,GAAG,CAAC,SAAS,EAAE,EAAE;QAC7B,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE;YAChC,IAAI,QAAQ,CAAC,MAAM,EAAE;gBACnB,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC3B,CAAC,CAAC,IAAI,CACJ,QAAQ,CAAC,IAAI,EACb,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnB,CAAC,CACF,CAAC;aACH;QACH,CAAC,CAAC,CAAA;QACF,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IAEF,iGAAiG;IACjG,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAEtF,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACnB,IAAI,KAAK,CAAC,MAAM,EAAE;YAChB,8BAA8B;YAC9B,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;SACpC;IACH,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAEnB,OAAO,CACL,oBAAC,oBAAoB,oBACf,KAAK,IACT,KAAK,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,oBAAC,aAAa,OAAG,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EACtD,YAAY,EAAE,IAAI,EAClB,uBAAuB,EAAC,gBAAgB,IACxC,CACH,CAAA;AACH,CAAC,CAAA;AAOD,MAAM,CAAC,MAAM,gBAAgB,GAAoC,CAAC,EAAuB,EAAE,EAAE;QAA3B,EAAE,SAAS,OAAY,EAAV,iCAAQ;IACrF,SAAS,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAC,EAAE,CAAA,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;IACnE,OAAO,CACL,oBAAC,QAAQ,IAAC,SAAS,EAAE,SAAS;QAC5B,oBAAC,wBAAwB,oBAAK,KAAK,EAAI,CAC9B,CACZ,CAAA;AACH,CAAC,CAAA","sourcesContent":["import * as _ from 'lodash-es';\nimport * as React from 'react';\nimport { Firehose, FirehoseResult, FirehoseResource, LoadingInline } from '@console/internal/components/utils';\nimport { ResourceListDropdown, SingleResourceDropdownProps, MultipleResourceDropdownProps } from './resource-list-dropdown';\n\nconst ResourceDropdownWrapper_: React.FC<ResourceDropdownWrapperProps> = (props) => {\n  const getItems = (resources) => {\n    const items = [];\n    _.each(resources, (resource, k) => {\n      if (resource.loaded) {\n        const kind = resource.kind;\n        _.each(\n          resource.data,\n          (item) => {\n            item.kind = kind;\n            items.push(item);\n          }\n        );\n      }\n    })\n    return items;\n  };\n\n  //const [title, setTitle] = React.useState(props.loaded ? props.placeholder : <LoadingInline />);\n  const [rows, setRows] = React.useState(props.loaded ? getItems(props.resources) : []);\n\n  React.useEffect(() => {\n    if (props.loaded) {\n      //setTitle(props.placeholder);\n      setRows(getItems(props.resources));\n    }\n  }, [props.loaded]);\n\n  return (\n    <ResourceListDropdown\n      {...props}\n      title={!props.loaded ? <LoadingInline /> : props.title}\n      resourceList={rows} // 필수\n      autocompletePlaceholder=\"search by name\"\n    />\n  )\n}\n\ntype ResourceDropdownWrapperProps = (SingleResourceDropdownProps | MultipleResourceDropdownProps) & {\n  loaded?: boolean;\n  resources?: FirehoseResult[];\n}\n\nexport const ResourceDropdown: React.FC<ResourceDropdownProps> = ({ resources, ...props }) => {\n  resources.map((resource)=>Object.assign(resource, {isList: true}));\n  return (\n    <Firehose resources={resources}>\n      <ResourceDropdownWrapper_ {...props} />\n    </Firehose>\n  )\n}\n\ntype ResourceDropdownProps = (SingleResourceDropdownProps | MultipleResourceDropdownProps) & {\n  resources: FirehoseResource[];\n}"]}]}