{"version":3,"file":"delete-namespace-modal-cc1467a55101e9400920.js","sources":["webpack:///./public/components/modals/delete-namespace-modal.jsx"],"sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport { k8sKill } from '../../module/k8s';\nimport { createModalLauncher, ModalTitle, ModalBody, ModalSubmitFooter } from '../factory/modal';\nimport { history, PromiseComponent } from '../utils';\nimport { YellowExclamationTriangleIcon } from '@console/shared';\n\nclass DeleteNamespaceModal extends PromiseComponent {\n  constructor(props) {\n    super(props);\n    this.state = Object.assign(this.state, { isTypedNsMatching: false });\n    this._submit = this._submit.bind(this);\n    this._close = props.close.bind(this);\n    this._cancel = props.cancel.bind(this);\n    this._matchTypedNamespace = this._matchTypedNamespace.bind(this);\n  }\n\n  _matchTypedNamespace(e) {\n    this.setState({ isTypedNsMatching: e.target.value === this.props.resource.metadata.name });\n  }\n\n  _submit(event) {\n    event.preventDefault();\n    this.handlePromise(k8sKill(this.props.kind, this.props.resource)).then(() => {\n      this._close();\n      history.push(`/k8s/cluster/${this.props.kind.plural}`);\n    });\n  }\n\n  render() {\n    return (\n      <form onSubmit={this._submit} name=\"form\" className=\"modal-content \">\n        <ModalTitle className=\"modal-header\">\n          <YellowExclamationTriangleIcon className=\"co-icon-space-r\" /> Delete{' '}\n          {this.props.kind.label}?\n        </ModalTitle>\n        <ModalBody>\n          <p>\n            This action cannot be undone. It will destroy all pods, services and other objects in\n            the namespace{' '}\n            <strong className=\"co-break-word\">{this.props.resource.metadata.name}</strong>.\n          </p>\n          <p>\n            Confirm deletion by typing{' '}\n            <strong className=\"co-break-word\">{this.props.resource.metadata.name}</strong> below:\n          </p>\n          <input\n            type=\"text\"\n            className=\"pf-c-form-control\"\n            onKeyUp={this._matchTypedNamespace}\n            placeholder=\"Enter name\"\n            autoFocus={true}\n          />\n        </ModalBody>\n        <ModalSubmitFooter\n          submitText=\"Delete\"\n          submitDisabled={!this.state.isTypedNsMatching}\n          cancel={this._cancel}\n          errorMessage={this.state.errorMessage}\n          inProgress={this.state.inProgress}\n          submitDanger\n        />\n      </form>\n    );\n  }\n}\n\nDeleteNamespaceModal.propTypes = {\n  kind: PropTypes.object,\n  resource: PropTypes.object,\n};\n\nexport const deleteNamespaceModal = createModalLauncher(DeleteNamespaceModal);\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAQA;AAUA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;A","sourceRoot":""}