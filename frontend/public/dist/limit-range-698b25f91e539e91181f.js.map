{"version":3,"file":"limit-range-698b25f91e539e91181f.js","sources":["webpack:///./public/components/limit-range.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as _ from 'lodash-es';\nimport * as classNames from 'classnames';\nimport { sortable } from '@patternfly/react-table';\nimport { K8sResourceKindReference, K8sResourceKind } from '../module/k8s';\nimport { LimitRangeModel } from '../models';\nimport { DetailsPage, ListPage, Table, TableRow, TableData, RowFunction } from './factory';\nimport { Kebab, navFactory, SectionHeading, ResourceKebab, ResourceLink, ResourceSummary, Timestamp } from './utils';\nimport { useTranslation } from 'react-i18next';\nimport { TFunction } from 'i18next';\n\nconst { common } = Kebab.factory;\nconst menuActions = [...Kebab.getExtensionsActionsForKind(LimitRangeModel), ...common];\n\nconst LimitRangeReference: K8sResourceKindReference = LimitRangeModel.kind;\n\nconst tableColumnClasses = [classNames('col-sm-4', 'col-xs-6'), classNames('col-sm-4', 'col-xs-6'), classNames('col-sm-4', 'hidden-xs'), Kebab.columnClass];\n\nexport const LimitRangeTableRow: RowFunction<K8sResourceKind> = ({ obj, index, key, style }) => {\n  return (\n    <TableRow id={obj.metadata.uid} index={index} trKey={key} style={style}>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink kind={LimitRangeReference} name={obj.metadata.name} namespace={obj.metadata.namespace} />\n      </TableData>\n      <TableData className={tableColumnClasses[1]}>\n        <ResourceLink kind=\"Namespace\" name={obj.metadata.namespace} title={obj.metadata.namespace} />\n      </TableData>\n      <TableData className={tableColumnClasses[2]}>\n        <Timestamp timestamp={obj.metadata.creationTimestamp} />\n      </TableData>\n      <TableData className={tableColumnClasses[3]}>\n        <ResourceKebab actions={menuActions} kind={LimitRangeReference} resource={obj} />\n      </TableData>\n    </TableRow>\n  );\n};\n\nexport const LimitRangeTableHeader = (t?: TFunction) => {\n  console.log(t('COMMON:MSG_MAIN_TABLEHEADER_12'));\n  return [\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_1'),\n      sortField: 'metadata.name',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[0] },\n    },\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_2'),\n      sortField: 'metadata.namespace',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[1] },\n    },\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_12'),\n      sortField: 'metadata.creationTimestamp',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[2] },\n    },\n    {\n      title: '',\n      props: { className: tableColumnClasses[3] },\n    },\n  ];\n};\nLimitRangeTableHeader.displayName = 'LimitRangeTableHeader';\n\nexport const LimitRangeList: React.SFC = props => {\n  const { t } = useTranslation();\n  return <Table {...props} aria-label=\"Limit Ranges\" Header={LimitRangeTableHeader.bind(null, t)} Row={LimitRangeTableRow} virtualize />;\n};\n\nexport const LimitRangeListPage: React.SFC<LimitRangeListPageProps> = props => {\n  const { t } = useTranslation();\n  return <ListPage {...props} title={t('COMMON:MSG_LNB_MENU_81')} kind={LimitRangeReference} ListComponent={LimitRangeList} canCreate={true} />;\n};\n\nexport const LimitRangeDetailsRow: React.SFC<LimitRangeDetailsRowProps> = ({ limitType, resource, limit }) => {\n  return (\n    <tr className=\"co-resource-list__item\">\n      <td>{limitType}</td>\n      <td>{resource}</td>\n      <td>{limit.min || '-'}</td>\n      <td>{limit.max || '-'}</td>\n      <td>{limit.defaultRequest || '-'}</td>\n      <td>{limit.default || '-'}</td>\n      <td>{limit.maxLimitRequestRatio || '-'}</td>\n    </tr>\n  );\n};\n\nconst LimitRangeDetailsRows: React.SFC<LimitRangeDetailsRowsProps> = ({ limit }) => {\n  const properties = ['max', 'min', 'default', 'defaultRequest', 'maxLimitRequestRatio'];\n  const resources = {};\n  _.each(properties, property => {\n    _.each(limit[property], (value, resource) => _.set(resources, [resource, property], value));\n  });\n\n  return (\n    <>\n      {_.map(resources, (resourceLimit, resource) => (\n        <LimitRangeDetailsRow key={resource} limitType={limit.type} resource={resource} limit={resourceLimit} />\n      ))}\n    </>\n  );\n};\n\nexport const LimitRangeDetailsList = resource => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"co-m-pane__body\">\n      <SectionHeading text={t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_1')} />\n      <div className=\"table-responsive\">\n        <table className=\"co-m-table-grid co-m-table-grid--bordered table\">\n          <thead className=\"co-m-table-grid__head\">\n            <tr>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_1')}</td>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_2')}</td>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_3')}</td>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_4')}</td>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_5')}</td>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_6')}</td>\n              <td>{t('COMMON:MSG_DETAILS_TABDETAILS_LIMITS_TABLEHEADER_7')}</td>\n            </tr>\n          </thead>\n          <tbody className=\"co-m-table-grid__body\">\n            {_.map(resource.resource.spec.limits, (limit, index) => (\n              <LimitRangeDetailsRows limit={limit} key={index} />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nconst Details = ({ obj: rq }) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('COMMON:MSG_DETAILS_TABDETAILS_DETAILS_1', { 0: t('COMMON:MSG_LNB_MENU_81') })} />\n        <ResourceSummary resource={rq} />\n      </div>\n      <LimitRangeDetailsList resource={rq} />\n    </>\n  );\n};\n\nexport const LimitRangeDetailsPage = props => <DetailsPage {...props} menuActions={menuActions} pages={[navFactory.details(Details), navFactory.editYaml()]} />;\n\nexport type LimitRangeProps = {\n  obj: any;\n};\nexport type LimitRangeListPageProps = {\n  filterLabel: string;\n};\nexport type LimitRangeDetailsRowsProps = {\n  limit: any;\n};\nexport type LimitRangeDetailsRowProps = {\n  limitType: string;\n  resource: string;\n  limit: any;\n};\nexport type LimitRangeHeaderProps = {\n  obj: any;\n};\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAOA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AASA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AAEA;;;;;A","sourceRoot":""}