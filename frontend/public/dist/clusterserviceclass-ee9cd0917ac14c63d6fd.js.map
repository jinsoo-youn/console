{"version":3,"file":"clusterserviceclass-ee9cd0917ac14c63d6fd.js","sources":["webpack:///./public/components/hypercloud/cluster-service-class.tsx","webpack:///./public/components/hypercloud/cluster-service-plan.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as _ from 'lodash-es';\nimport * as classNames from 'classnames';\nimport { sortable } from '@patternfly/react-table';\nimport { ClusterServiceClassModel } from '../../models';\nimport { K8sResourceKind } from '../../module/k8s';\nimport { useTranslation } from 'react-i18next';\nimport { TFunction } from 'i18next';\nimport { DetailsPage, ListPage, Table, TableData, TableRow } from '../factory';\nimport { navFactory, SectionHeading, ResourceSummary, ResourceLink, Timestamp } from '../utils';\nimport { ClusterServicePlansPage } from './cluster-service-plan';\nimport { ResourceLabel } from '../../models/hypercloud/resource-plural';\n\nconst kind = ClusterServiceClassModel.kind;\n\nconst ClusterServiceClassDetails: React.FC<ClusterServiceClassDetailsProps> = ({ obj: clusterServiceClass }) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('COMMON:MSG_DETAILS_TABDETAILS_DETAILS_1', { 0: ResourceLabel(clusterServiceClass, t) })} />\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <ResourceSummary resource={clusterServiceClass} showPodSelector showNodeSelector></ResourceSummary>\n          </div>\n          <div className=\"col-md-6\">\n            <dl className=\"co-m-pane__details\">\n              <dt>{t('COMMON:MSG_DETAILS_TABDETAILS_DETAILS_16')}</dt>\n              <dd>{clusterServiceClass.spec.bindable ? 'True' : 'False'}</dd>\n              <dt>{t('COMMON:MSG_DETAILS_TABDETAILS_DETAILS_17')}</dt>\n              <dd>{clusterServiceClass.spec.externalName}</dd>\n              <dt>{t('COMMON:MSG_DETAILS_TABDETAILS_DETAILS_18')}</dt>\n              <dd>\n                <ResourceLink kind=\"ClusterServiceBroker\" name={clusterServiceClass.spec.clusterServiceBrokerName} title={clusterServiceClass.spec.clusterServiceBrokerName} />\n              </dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\ntype ClusterServiceClassDetailsProps = {\n  obj: K8sResourceKind;\n};\n\nconst ClusterServicePlanTab: React.FC<ClusterServicePlansTabProps> = ({ obj }) => {\n  const serviceClassRef = obj.spec.externalMetadata.serviceClassRefName;\n\n  const selector = {\n    matchLabels: {\n      'servicecatalog.k8s.io/spec.clusterServiceClassRef.name': serviceClassRef,\n    },\n  };\n\n  return <ClusterServicePlansPage showTitle={false} canCreate={false} selector={selector} />;\n};\n\nconst { details, editYaml } = navFactory;\nconst ClusterServiceClassesDetailsPage: React.FC<ClusterServiceClassesDetailsPageProps> = props => {\n  return (\n    <DetailsPage\n      {...props}\n      kind={kind}\n      pages={[\n        details(ClusterServiceClassDetails),\n        editYaml(),\n        {\n          href: 'clusterserviceplan',\n          name: 'Cluster Service Plan',\n          component: ClusterServicePlanTab,\n        },\n      ]}\n    />\n  );\n};\nClusterServiceClassesDetailsPage.displayName = 'ClusterServiceClassesDetailsPage';\n\nconst tableColumnClasses = [\n  '', // NAME\n  classNames('pf-m-hidden', 'pf-m-visible-on-sm', 'pf-u-w-16-on-lg'), // BINDABLE\n  classNames('pf-m-hidden', 'pf-m-visible-on-lg'), // EXTERNAL NAME\n  classNames('pf-m-hidden', 'pf-m-visible-on-sm', 'pf-u-w-16-on-lg'), // CLUSTER SERVICE BROKER\n  classNames('pf-m-hidden', 'pf-m-visible-on-xl'), // CREATED\n];\n\nconst ClusterServiceClassTableRow = ({ obj, index, key, style }) => {\n  return (\n    <TableRow id={obj.metadata.uid} index={index} trKey={key} style={style}>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink kind={kind} name={obj.metadata.name} title={obj.metadata.name} />\n      </TableData>\n      <TableData className={tableColumnClasses[1]}>{obj.spec.bindable ? 'True' : 'False'}</TableData>\n      <TableData className={tableColumnClasses[2]}>{obj.spec.externalName}</TableData>\n      <TableData className={tableColumnClasses[3]}>\n        <ResourceLink kind=\"ClusterServiceBroker\" name={obj.spec.clusterServiceBrokerName} title={obj.spec.clusterServiceBrokerName} />\n      </TableData>\n      <TableData className={tableColumnClasses[4]}>\n        <Timestamp timestamp={obj.metadata.creationTimestamp} />\n      </TableData>\n    </TableRow>\n  );\n};\n\nconst ClusterServiceClassTableHeader = (t?: TFunction) => {\n  return [\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_1'),\n      sortField: 'metadata.name',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[0] },\n    },\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_5'),\n      sortField: 'spec.bindable',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[1] },\n    },\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_6'),\n      sortField: 'spec.externalName',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[2] },\n    },\n    {\n      title: t('COMMON:MSG_LNB_MENU_14'),\n      sortField: 'spec.clusterServiceBrokerName',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[3] },\n    },\n    {\n      title: t('COMMON:MSG_MAIN_TABLEHEADER_12'),\n      sortField: 'metadata.creationTimestamp',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[4] },\n    },\n  ];\n};\n\nClusterServiceClassTableHeader.displayName = 'ClusterServiceClassTableHeader';\n\nconst ClusterServiceClassesList: React.FC = props => {\n  const { t } = useTranslation();\n  return <Table {...props} aria-label=\"Cluster Service Class\" Header={ClusterServiceClassTableHeader.bind(null, t)} Row={ClusterServiceClassTableRow} />;\n};\nClusterServiceClassesList.displayName = 'ClusterServiceClassesList';\n\nconst ClusterServiceClassesPage: React.FC<ClusterServiceClassesPageProps> = props => {\n  const { t } = useTranslation();\n  return <ListPage title={t('COMMON:MSG_LNB_MENU_15')} createButtonText={t('COMMON:MSG_MAIN_CREATEBUTTON_1', { 0: t('COMMON:MSG_LNB_MENU_15') })} canCreate={false} kind={kind} ListComponent={ClusterServiceClassesList} {...props} />;\n};\nClusterServiceClassesPage.displayName = 'ClusterServiceClassesPage';\n\nexport { ClusterServiceClassesList, ClusterServiceClassesPage, ClusterServiceClassesDetailsPage };\n\ntype ClusterServiceClassesPageProps = {};\n\ntype ClusterServiceClassesDetailsPageProps = {\n  match: any;\n};\n\ntype ClusterServicePlansTabProps = {\n  obj: K8sResourceKind;\n};\n","import * as React from 'react';\nimport * as _ from 'lodash-es';\nimport * as classNames from 'classnames';\nimport { sortable } from '@patternfly/react-table';\nimport { ClusterServicePlanModel } from '../../models';\nimport { K8sResourceKind } from '../../module/k8s';\nimport { DetailsPage, ListPage, Table, TableData, TableRow } from '../factory';\nimport { navFactory, SectionHeading, ResourceSummary, ResourceLink, Timestamp } from '../utils';\n\nconst kind = ClusterServicePlanModel.kind;\n\nconst ClusterServicePlanDetails: React.FC<ClusterServicePlanDetailsProps> = ({ obj: clusterServicePlan }) => {\n  return (\n    <>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text=\"Cluster Service Plan Details\" />\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <ResourceSummary resource={clusterServicePlan} showPodSelector showNodeSelector></ResourceSummary>\n          </div>\n          <div className=\"col-md-6\">\n            <dl className=\"co-m-pane__details\">\n              <dt>BINDABLE</dt>\n              <dd>{clusterServicePlan.spec.bindable ? 'True' : 'False'}</dd>\n              <dt>EXTERNAL NAME</dt>\n              <dd>{clusterServicePlan.spec.externalName}</dd>\n              <dt> SERVICE BROKER</dt>\n              <dd>{clusterServicePlan.spec.clusterServiceBrokerName}</dd>\n              <dt> SERVICE CLASS</dt>\n              <dd>{clusterServicePlan.spec.clusterServiceClassRef.name}</dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\ntype ClusterServicePlanDetailsProps = {\n  obj: K8sResourceKind;\n};\n\nconst { details } = navFactory;\nconst ClusterServicePlansDetailsPage: React.FC<ClusterServicePlansDetailsPageProps> = props => <DetailsPage {...props} kind={kind} pages={[details(ClusterServicePlanDetails)]} />;\nClusterServicePlansDetailsPage.displayName = 'ClusterServicePlansDetailsPage';\n\nconst tableColumnClasses = [\n  '', // NAME\n  classNames('pf-m-hidden', 'pf-m-visible-on-sm', 'pf-u-w-16-on-lg'), // BINDABLE\n  classNames('pf-m-hidden', 'pf-m-visible-on-lg'), // EXTERNAL NAME\n  classNames('pf-m-hidden', 'pf-m-visible-on-sm', 'pf-u-w-16-on-lg'), // CLUSTER SERVICE BROKER\n  classNames('pf-m-hidden', 'pf-m-visible-on-xl'), // CLUSTER SERVICE CLASS\n  classNames('pf-m-hidden', 'pf-m-visible-on-xl'), // CREATED\n];\n\nconst ClusterServicePlanTableRow = ({ obj, index, key, style }) => {\n  return (\n    <TableRow id={obj.metadata.uid} index={index} trKey={key} style={style}>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink kind={kind} name={obj.metadata.name} title={obj.metadata.name} />\n      </TableData>\n      <TableData className={tableColumnClasses[1]}>{obj.spec.bindable ? 'True' : 'False'}</TableData>\n      <TableData className={tableColumnClasses[2]}>{obj.spec.externalName}</TableData>\n      <TableData className={tableColumnClasses[3]}>\n        <ResourceLink kind=\"ClusterServiceBroker\" name={obj.spec.clusterServiceBrokerName} title={obj.spec.clusterServiceBrokerName} />\n      </TableData>\n      <TableData className={tableColumnClasses[4]}>\n        <ResourceLink kind=\"ClusterServiceClass\" name={obj.spec.clusterServiceClassRef.name} title={obj.spec.clusterServiceClassRef.name} />\n      </TableData>\n      <TableData className={tableColumnClasses[5]}>\n        <Timestamp timestamp={obj.metadata.creationTimestamp} />\n      </TableData>\n    </TableRow>\n  );\n};\n\nconst ClusterServicePlanTableHeader = () => {\n  return [\n    {\n      title: 'Name',\n      sortField: 'metadata.name',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[0] },\n    },\n    {\n      title: 'Bindable',\n      sortField: 'spec.bindable',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[1] },\n    },\n    {\n      title: 'External Name',\n      sortField: 'spec.externalName',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[2] },\n    },\n    {\n      title: 'Cluster Service Broker',\n      sortField: 'spec.clusterServiceBrokerName',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[3] },\n    },\n    {\n      title: 'Cluster Service Class',\n      sortField: 'spec.clusterServiceClassRef.name',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[4] },\n    },\n    {\n      title: 'Created',\n      sortField: 'metadata.creationTimestamp',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[5] },\n    },\n  ];\n};\nClusterServicePlanTableHeader.displayName = 'ClusterServicePlanTableHeader';\n\nconst ClusterServicePlansList: React.FC = props => <Table {...props} aria-label=\"Cluster Service Plan\" Header={ClusterServicePlanTableHeader} Row={ClusterServicePlanTableRow} />;\nClusterServicePlansList.displayName = 'ClusterServicePlansList';\n\nconst ClusterServicePlansPage: React.FC<ClusterServicePlansPageProps> = props => {\n  return <ListPage canCreate={true} kind={kind} ListComponent={ClusterServicePlansList} {...props} />;\n};\nClusterServicePlansPage.displayName = 'ClusterServicePlansPage';\n\nexport { ClusterServicePlansList, ClusterServicePlansPage, ClusterServicePlansDetailsPage };\n\ntype ClusterServicePlansPageProps = {\n  showTitle?: boolean;\n  canCreate?: boolean;\n  fieldSelector?: string;\n  filters?: any;\n  selector?: any;\n};\n\ntype ClusterServicePlansDetailsPageProps = {\n  match: any;\n};\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;AC1JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;A","sourceRoot":""}