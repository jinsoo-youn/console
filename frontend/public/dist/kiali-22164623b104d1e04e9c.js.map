{"version":3,"file":"kiali-22164623b104d1e04e9c.js","sources":["webpack:///./public/components/hypercloud/kiali.jsx"],"sourcesContent":["import * as _ from 'lodash-es';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport * as PropTypes from 'prop-types';\n\nimport { history, PageHeading } from '../utils';\nimport { namespaceProptype } from '../../propTypes';\nimport { connectToFlags, flagPending } from '../../reducers/features';\nimport { FLAGS } from '@console/shared';\n\nconst updateUrlParams = (k, v) => {\n  const url = new URL(window.location);\n  const sp = new URLSearchParams(window.location.search);\n  sp.set(k, v);\n  history.push(`${url.pathname}?${sp.toString()}${url.hash}`);\n};\n\nconst updateKind = kind => updateUrlParams('kind', encodeURIComponent(kind));\n\nclass KialiPage_ extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.setRef = ref => (this.ref = ref);\n    this.onSelectorChange = k => {\n      updateKind(k);\n      this.ref && this.ref.focus();\n    };\n  }\n\n  render() {\n    const { flags, location, namespace, t } = this.props;\n\n    // if (flagPending(flags.OPENSHIFT) || flagPending(flags.PROJECTS_AVAILABLE)) {\n    //     return null;\n    // }\n    let url = `${document.location.origin}/api/kiali/`;\n    return (\n      <React.Fragment>\n        <div>\n          <Helmet>\n            <title>Kiali</title>\n          </Helmet>\n          <PageHeading title=\"Kiali\"></PageHeading>\n          {/* <script>parent.location={url}</script> */}\n          <iframe style={{ width: '100%', height: '100vh', border: 0 }} src={url} target=\"_blank\" />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport const KialiPage = props => <KialiPage_ {...props} />;\n// export const KialiPage = connectToFlags(FLAGS.OPENSHIFT, FLAGS.PROJECT)(KialiPage_)\n\nKialiPage.propTypes = {\n  namespace: namespaceProptype,\n  location: PropTypes.object.isRequired,\n};\n"],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;A","sourceRoot":""}