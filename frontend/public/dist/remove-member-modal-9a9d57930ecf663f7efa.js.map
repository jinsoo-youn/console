{"version":3,"file":"remove-member-modal-9a9d57930ecf663f7efa.js","sources":["webpack:///./public/components/hypercloud/modals/remove-member-modal.tsx"],"sourcesContent":["import * as _ from 'lodash-es';\nimport * as React from 'react';\n\nimport {\n  ModalBody,\n  ModalComponentProps,\n  ModalSubmitFooter,\n  ModalTitle,\n  createModalLauncher,\n} from '../../factory/modal';\nimport { HandlePromiseProps, withHandlePromise } from '../../utils';\nimport { YellowExclamationTriangleIcon } from '@console/shared';\nimport { coFetchJSON } from '../../../co-fetch';\nimport { getId, getUserGroup } from '../../../hypercloud/auth';\nimport { useTranslation } from 'react-i18next';\n\nexport const RemoveMemberModal = withHandlePromise((props: RemoveMemberModalProps) => {\n  const [errorMsg, setError] = React.useState('')\n\n  const submit: React.FormEventHandler<HTMLFormElement> = (e) => {\n    e.preventDefault(); ///cluster/cho/remove_member/group/ck1-3?userId=kubernetes-admin&userGroup=hypercloud5\n    coFetchJSON(`/api/multi-hypercloud/namespaces/${props.member.Namespace}/clustermanagers/${props.member.Cluster}/remove_member/${props.member.Attribute}/${props.member.MemberId}?userId=${getId()}${getUserGroup()}`, 'POST')\n      .then((res) => {\n        props.close();\n      })\n      .catch((err) => {\n        setError(err);\n      })\n  };\n\n  const { t } = useTranslation();\n\n  return (\n    <form onSubmit={submit} name=\"form\" className=\"modal-content \">\n      <ModalTitle>\n        <YellowExclamationTriangleIcon className=\"co-icon-space-r\" />\n        {t('MULTI:MSG_MULTI_CLUSTERS_DELETEPEPLEPOPUP_TITLE_1')}\n      </ModalTitle>\n      <ModalBody className=\"modal-body\">\n        <div>\n          {t('MULTI:MSG_MULTI_CLUSTERS_DELETEPEPLEPOPUP_MAINMESSAGE_1', { 0: props.member.MemberId.length > 0 ? `${props.member.MemberName}(${props.member.MemberId})` : props.member.MemberName, 1: props.member.Cluster })}\n        </div>\n      </ModalBody>\n      <ModalSubmitFooter errorMessage={errorMsg} inProgress={props.inProgress} submitText={t('MULTI:MSG_MULTI_CLUSTERS_DELETEACCESSMEMBER_2')} cancelText={t('MULTI:MSG_MULTI_CLUSTERS_DELETEACCESSMEMBER_1')} cancel={props.cancel} />\n    </form>\n  );\n});\n\nexport const removeMemberModal = createModalLauncher(RemoveMemberModal);\n\nexport type RemoveMemberModalProps = {\n  member: {\n    Id?: number,\n    Namespace?: string,\n    Cluster?: string,\n    MemberId: string,\n    MemberName: string,\n    Attribute: \"group\" | \"user\",\n    Role: \"guest\" | \"developer\" | \"admin\",\n    Status?: \"invited\" | \"owner\",\n    CreatedTime?: string,\n    UpdatedTime?: string\n  };\n} & ModalComponentProps &\n  HandlePromiseProps;\n"],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAIA;AAGA;AAEA;;;;;A","sourceRoot":""}